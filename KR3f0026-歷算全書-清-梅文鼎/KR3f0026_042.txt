歴算全書卷三十六
宣城梅文鼎撰
筆算卷三
異乘同除法
以先有之數知今有之數兩兩相得是生比例莫善於
異乘同除乃古九章之樞要也先有者二今有者一是
已知者三而未知者一用三求一故西法謂之三率
今先明同異名之說以著古法次詳三率之用以顯通
理
異者何也言異名也同者何也言同名也假如以粟易
布則粟與粟為同名布與粟為異名也
何以為異乘同除也主乎今有之物以為言也假如先
有粟若干易布若干今復有粟若干將以易布則當以
先所易之數例之是先易之布與今有之粟異名也則
用以乘是謂異乘若先有之粟與今有之粟同名也則
用以除是謂同除皆用以乘除今粟故曰主乎今有以
為言也(置今有粟以異名之布乘之為實再以同名之粟為法除之是皆以今粟為主而以先有之二)
(件乘除之也)
問何以不先除後乘曰以原總物除原物總價則得每
物之價以乘今有總物亦可得今有之總價然除有不
盡則不可以乘故變為先乘後除其理一也
假如原有豆一百八石價銀三十六兩今有豆一百
三十五石問價若干
答曰四十五兩
法曰置今豆一百三十五石以原豆價三十六兩乘之
得四千八百六十兩為實以原豆一百八石為法除
之得四十五兩為今豆應有之價(見以物求價也若還原則以價求物)
假如原有銀四十五兩買豆一百三十五石今有銀三十
六兩問豆若干
答曰一百八石
法以豆一百三十五石乘價三十六兩得四千八百六十
石為實以價四十五兩為法除之得一百八石合問
西人三率法
其法以先有之二件為一率二率今有之二件為三率
四率則前兩率之比例與後兩率之比例等故其數可
以互求
(今冇之二率先只有其一合前有之二率共為三率以求之而得今有之餘一率是以三求一故曰三率)
(法實四率也)
假如一率是三二率是四三率是九則四率必為十二何也三
與四之比例若九與十二也故以四(二率)九(三率)相乘(卅六)為實以三
(一率)為法除之必得十二(四率)
若互用之以四率為一率則十二與九之比例若四與三故曰
可以互求(此即還原之理)
(解曰以三比四以九比十二並三分加一之比例以十二比九以四比三並四分減一之比例凡言比例等者皆如是)
(此以上圖之四率為)
(一率也故其序皆倒)
(而所得四率即上圖)
(之一)
又更而互之
凡二三相乘與一四相乘等積此立法之根觀右圖可明(四九相乘)
(三十六而十二與三相乘亦三十六故以三除三十六得十二以十二除三十六亦復得三此前兩圖互求之理若更一)
(四為二三其實同為三十六故以四除之得九以九除之亦復得四此後兩圖互求之理)
又錯綜之
此又以前圖之二與三更之則前兩率之第二變為
後兩率之第一而其比例亦等(凡一率二率為前兩率乃先有之二件也)
(三率四率為後兩率乃今有之兩件也今以二率三率相易則是先有之次率變為今有之首率也然以)
(比例言之在前圖為三與四若九與十二者在此圖則三與九亦若四與十二也)
若以一率除二率得數以乘三率亦得四率(如以一率三除)
(二率九得三以乘三率四亦必得四率十二以一率四除二率十二得三以乘三率三亦得四率九但先)
(除後乘多有不盡之分故異乘同除為算家大法乃中西兩術所同也)
試仍以古圖明之
原有小麥十二石換食鹽九石(俱四分之三比例若以上□左)
今有小麥四石換食鹽三石(右更置即成三率之前四圖)
更之(以縱為横)
原有粱米三石換棉布九疋(俱三倍之比例若以上下左右)
今有粱米四石換棉布(十二)疋(更置即成三率之錯綜四圖)
辨法實
凡三率之用皆以二率乘三率為實首率為法除之以
得所求為四率
然何以定其孰為一率孰為二率三率也曰此則古人
同異名之法不可易也訣曰凡今有之已知者常定為
三率(其未知者待算而知則常為四率)視先有之物與三率之今有同
名者定為首率其與今有異名必為二率矣
又訣曰凡三率之法以三件求一件其所求之一件未
知而三件則巳知也此已知之三件中必有兩件同名
(如價與價物與物之類)就以此同名之兩件審其孰為先有定為
首率(其今有者則為三率而其餘異名之一件亦必先有也恒為二率)
假如有句股形田長一百三十五步闊四十五步今截
相似形長一百八步問闊若干
答曰截闊三十六步
定法實訣
以今截長一百八步定為三率長與長同名以
原長一百三十五步定為首率闊與長異名以原
闊四十五步定為二率
又訣(此巳知之三件是原長原闊截長内長與長同名以原長是先有之數定為首率截長是今有)
(之數為三率原闊與長異名為次率)
按原長與原闊即大句大股截長截闊即小句小股
也四者皆可以遞互相求三率中更互錯綜之理尤
為易見
以比例言之大股與大句若小股與小句也更之則
小股與小句亦若大股與大句也此為以股求句反
之而以句求股則大句與大股亦若小句與小股也
又更之則小句與小股亦若大句與大股也
又錯綜之則大股與小股若大句與小句也而大句
與小句亦必若大股與小股矣又小句與大句若小
股與大股也而小股與大股亦必若小句與大句矣
是為三率之八變
異乘同除定位法
三率定位與乘法除法無異(乘法以實單位為根定所對得數為法尾數除法以)
(法首上一位作識定所對得數為所求單數並詳前卷)但所用之實以二率三率
相乘而得握算者或疑其數之驟陞而不能守其定法
則定位必訛而其理益晦矣故復論之(諸家算術往往有定位不確者)
(皆由見乘後數多未免驚怖而輙為酌改故也)
假如六箇時辰馬行二百一十里今行五箇時辰當有
若干里
答曰一百七十五里
論曰試以六時除馬行(二百一十里)得每時行(三十五里)以乘
(五)時亦得(一百七十五里)原無可疑今先乘後除故以(一千五)
(十里)為實驟觀之似乎太多究竟除後適得其本數
而已
假如銀(三十二兩)換錢(三萬六千文)今有銀(二十八兩)問錢若干
答曰三萬一千五百文
若以(三十二兩)除(三萬六千)得每兩錢(一千一百二十五文)以乘(二十八兩)亦
得三萬一千五百文(知得數之同則知一百萬零八千之非誤)
異乘同除約分法
三率内有兩率相凖可用約分者即改用所約之數易
繁為簡如法乘除所得無誤而用加捷矣(兩率者其一首率其一次)
(率或三率也凡以法約之必兩率相準次率三率祗則用其一皆取其與首率相凖也或兩率並為偶數)
(俱折半或兩率並可均剖為四則折半兩次或兩率並可均分為三則各取三之一或兩數互減而得等數則)
(以等數約之並如約分法)
(論其比例為十八比)(半之則九與八)(以三約之則六與十)(以九約之則二與十)(再約之則為一)
(十六若九十九與八)(之比例亦若九)(六之比例若三十三)(六之比例若十一與)(與八若十一與)
(十八也)(十九與八十八)(與八十八)(八十八)(八十八)
假如賃房九箇月銀七十八兩問住二年該若干
答曰二百零八兩(法以二年成二十四个月依式列之)
四二百零八(八乘廿六即得此數)
假如八色金六十兩換銀二百八十八兩今有九色金
五十兩該若干
答曰二百七十兩(此以金折成足色六十兩作四十八兩五十兩作四十五兩算之)
四二百七十(十八乘十五得此數)
(右皆約得一數為首率故不須除但以二率乘三率即得所求為四率)
重測法(三率有疊用兩次者謂之重測即兩箇異乘同除)
假如有夏布四十五丈欲換棉布但云每夏布三丈價二錢棉
布七丈價七錢五分問換棉布若干答曰二十八丈
一夏布三丈先用為法
四價三兩法除實得此數
重列
一價(七錢五分)又用為法
四棉布(二十八丈)法除實得此數
此因兩布各有其價故先用法求得第四率以夏布
變為銀就以此定為重列之第三率(即今價也)而以棉布
價(七錢五分)為首率(以與今價同名也)棉布(七丈)為次率(以與今價異名也)
如法乘除得所換棉布為四率
併乘除法
以兩次乘除併而為一是合兩三率為一三率也即古法之同
乘同除(古以併乘為異乘同乘以併除為異除同除今乘除俱用併法故謂之同乘同除也)
假如今有芝麻五十四石欲換黃米但云芝麻三石換
綠豆五石換黃米三石問該換黃米若干
答曰六十七石五斗
本法重列
一麻三石豆四石
二豆五石米三石
三今麻(五十四石)今豆九十石(此重列之第三即先得之第四乃本法也)
四該豆(九十石)米(六十七石五斗)
簡法(即併法)
(今以兩首率相乘為首率)
(亦以兩次率相乘為次率)
(以兩九十石對去不用故三率)
(省乘是為併法實簡法也)
論曰本用兩次乘除今以豆(四石)乘麻(三石)得(十二石)以除是
併兩次除為一次除也以米(三石)乘豆(五石)得(十五石)以乘是
併兩次乘為一次乘也依法求之即得所換米(六十七石五斗)
與兩次求者數同(又因一率二率可用約分約之為四與五而法益簡)
然則第三率何以獨異(第三率徑用今麻不以豆九十石乘之是與併兩首率為首率)
(併兩次率為次率者迥别)曰重列之第三即先得之第四故可以對
去不用不惟不用亦可不求(重列之第三率既無乘併之用則原列之第四率不)
(必更求其數)而乘除之用已偹(今麻原係第三率今仍用為第三是三率之用本無所缺)
即所求之得數已清矣(若第三率用豆九十石乘過之則所得第四率亦必為豆九十)
(石乘過之米得數後必以九十石除之始能清出米數反多曲折今對去豆九十石不用則所得四率即米數)
(直截了當)故為簡法
又式
假如有戰兵七百名每年額餉一萬二千六百兩内有
新着伍兵三百名已經應役七个月問該餉銀若干
答曰三千一百五十兩
依重測併乘除法當以(十二月)乘(七百名)得(八四)為法以(七箇)
(月)乘(一萬二千六百)得(八八二)又以(三百名)乘之得(二六四六)為實
法除實得三千一百五十兩為兵三百名七箇月之餉
今用約分以(七百)與(三百)約為七與三(皆百約之)則首率次率各
有(七)對去不用可省併乘
重列之時徑以(十二)為首率餉銀(一二六)為次率(三)為三率依
法乘除而得四率又以首率(十二)三率(三)約為四與一則
徑以餉(一二六)為實以四為法除之得(三千一百五十)合問
變測法(古謂之同乘異除在三率謂之變測即幾何原本之互視法也)
凡異乘同除皆以先有之一率為法(即首率)以先有之又
一率乘今有之一率為實(即二率三率相乘)
若同乘異除則反以今有之一率為法(同文算指列於第三今依法實)
(之序定為首率)以先有之兩率自相乘為實(同文算指列於第一第二今定為第)
(二第三)雖亦以法除實得今所求之又一率(即四率)與諸三
率同而法實相反故曰變測
假如用秤稱物物重秤不能稱外加一錘稱得(八十四斤)本
錘(一斤五兩)加錘(一斤三兩)問其物實重若干
答曰一百六十斤
一錘重二十一兩為法
四實重一百六十斤法除實得數
法以錘(一斤五兩作二十一兩)加錘(一斤三兩作十九兩)共重(四十兩)為先
有之一率稱重(八十四斤)為先有之又一率相乘(三三六)為
實以本錘重(二十一兩)為今有之一率為法法除實得實
重(一百六十斤)為所求今有之又一率合問
假如秤失去錘有所稱物(重一百六十斤)今以他物代錘(重四十兩)
稱得重(八十四斤)問錘重若干答曰一斤五兩
一物重一百六十斤
二稱得重八十四斤
三(他物代錘)重四十兩
四錘重二十一兩
假如布幔一具用布十六丈五尺布闊二尺今有布闊
一尺五寸如式作幔該用若干
答曰二十二丈
一今闊一尺五寸
二原闊二尺
三原長十六丈五尺
四今長二十二丈
假如儲粟方窖長(一丈二尺)闊(九尺)深(一丈)今欲别穿一窖藏粟
與之等長亦(一丈二尺)但深加(二尺五寸)該闊若干
答曰闊七尺二寸
一今深十二尺五寸
二原深十尺
三原闊九尺
四今闊七尺二寸
(此原長不動而加深減闊也長今深今闊相乘得九十尺與原深乘原闊等以乘一十二尺得一千零)
(八十尺亦等則其藏粟等)
又問若依原窖之闊(九尺)但加長(三尺)該深若干
答曰深八尺
一今長十五尺
二原長十二尺
三原深十尺
四今深八尺
(此原闊不動而加長減深也今長乘今深得一百二十尺與原長乘原深等以乘闊九尺並得一千零八)
(十尺)
假如有方倉高(一丈八尺)闊(二丈)深(二丈一尺)今更造一倉亦深(二丈)
(一尺)但高減三尺問闊若干
答曰闊加四尺(共闊二十四尺所儲米石即同原倉之容)
一今高十五尺
二原高十八尺
三原闊二十尺
四今闊二十四尺
(此原深不動而減高增闊也當與右二條參看倉之高即窖之深倉之深即窖之長)
(今高乘今闊得三百六十尺與原高乘原闊等再以深二丈一尺乘之得七千五百六十尺與原倉之容積)
(等)
假如原借八五色銀四十八兩今還九六色銀問該若干
答曰四十二兩五錢
一今銀色九六為法
四今還四十二兩(五錢)法除實得數
(解曰原銀八五色是每兩實折八錢五分故以乘原銀得四十兩零八錢乃折實紋銀之數也還銀九六色是每九錢六)
(分成一兩故以除折實紋銀得四十二兩五錢為應還之數凡零乘數反損零除數反增詳别卷)
假如有田一區用三十二人耕治五日而畢今用四十
人問該幾日答曰四日
一今用四十人
二原用三十二人
三原耕五日
四今耕四日
假如決水修池水竇闊三尺十二日涸出今開闊八尺
問水涸幾日
答曰四日有半
一今闊八尺
二原闊三尺
三原十二日
四今四日半
假如額兵五千六百設有一年之餉今祗留兵三千三
百六十名問其餉可支幾時
答曰一年零八箇月
一今兵三千三百六十
二原兵五千六百
三原設餉十二箇月
四今可支二十箇月
歴算全書卷三十六
