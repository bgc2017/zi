歴算全書卷四十九
宣城梅文鼎撰
句股闡微卷四
幾何增解
方斜較求原方(幾何約論線第十四條有用法今解其理)
甲乙丙丁正方形甲乙其對角線戊乙為方斜之
較於戊乙上作庚癸乙戊小方則丙庚與庚戊等
論曰法於方之一角甲
作員而以丙甲方徑為
員之半徑則乙丙為切
員線乙辛為自員外割
員之全線乙戊較為割
員在外之餘線而兩線
皆出一點則乙戊乘乙
辛之矩形與乙丙切線方形等
夫乙丙即原設方也今以同乙戊之癸乙為横乙辛為
直作乙已長方(即乙戊乘乙辛之矩)又移切甲己長方為子甲長
方又移卯補午移辰補酉移丑補寅則復成乙丙甲丁
方形矣而丑卯午酉等斜剖半方形皆以乙戊較為半
方形之邊是庚戊及丙庚皆與乙戊等而亦自相等又
何疑焉
用法有方斜之較乙戊求原方形之一邊法以乙戊
較作小方形取其斜乙庚再引長之截丙庚如乙戊得
乙丙如所求
從此圖生一測員之法假有員城八面開門正西門
如戊門外有塔如乙其距如乙戊西南門如丙距塔若
干步如乙丙問城徑
法以乙丙之距自乘得數為實以乙戊之距為法法除
實得乙辛於乙辛内減去乙戊即員城之徑捷法但
倍乙丙即得城徑
有員城正西之門如戊西南之門如丙人立於庚可兩
見之而庚丙與庚戊皆等問城徑
法以庚戊自乘成戊癸小方以方斜之法求其斜距為
乙庚以乙庚加庚丙為乙丙即城半徑
按此即幾何約之用法也
又以句股法解之
又論曰試於庚丙上作丙子較線上方引庚戊至丁則
丁庚又為丙子方之斜而丁戊與乙丙等從丁戊作丁
壬甲戊為元方如所求
又論曰此即句弦和較相乘
開方得股也乙甲丁甲皆
如弦戊甲甲辛(甲丙甲壬)皆如
句乙戊如句弦較(丁丙同)
乙辛如句弦和和較相乘
成癸辛長方開方得丁戊
股(乙丙同)
切線角與員周角交互相應(幾何三卷三十二三十三增題)
乙丙丁三角形在員内有甲乙切員線則所作丙乙甲
角與丙丁乙角同大又丁乙戊
角與丁丙乙角同大所謂交互
相應也
論曰丁角以乙丙弧分論度而
丙乙甲角亦以乙丙弧分之度為度故丙乙甲角即丁
角也丙角以丁乙弧分為度而丁乙戊角亦以丁乙弧
分為度故丁乙戊角即丙角也凡用員周度為角度
皆以兩度為一度詳後第三增題
若丁為鈍角則丙乙甲亦鈍角兩鈍角同以丙辛乙弧
為度故也其丙銳角與丁乙戊銳角則同以丁乙弧為
度
又增題員内三角形一角移
動則餘二角變而本角度分不
變交互相應之角度亦不變
如上圖(三圖)丁角移至辛則丙
角加大而相應之辛乙戊角亦
從之而大以辛丁乙弧大於丁
乙弧也辛乙戊大則辛乙丙小
矣其較皆為丁辛弧若丁角雖移至辛而其度不變
相應之丙乙甲角亦不變以所用之丙乙弧不變也
又丙角移至壬則丁角加大相應之壬乙甲亦從之而
大以壬丙乙弧大於丙乙弧也壬乙甲大則壬乙丁小
矣其較皆為丙壬弧若丙角雖移至壬其度不變相
應之丁乙戊亦不變以所用之丁乙弧不變也
此圖同論但丁角移則丙角變
小丙角移亦然
又增題切員線作角與員周弧度相應圖
有子甲戊員有乾艮線相切於子從子點出線與切線
作角必割員周之度其大小皆相應但皆以員周兩度
當角之一度
如用子午正線則所作兩㫄子角皆正角(百八十度分兩正角各皆)
(九十度)而亦剖員為半周(兩半員並百八十度)是兩度當一度
又如用子辛線作辛子艮鈍角(四十五度)而本線割員周於
辛為九十度象限亦兩度當一度
又如用子辛線作辛子乾鈍角形(百三十五度)而線割辛午
乾員分(為二百七十度)三象限亦兩度當一度
又如於員内任作辛子乙角形乙辛子角所乘之子甲
乙弧六十度乾子乙角同用子甲乙弧亦六十度然其
實度是坎寅弧實只三十度亦兩當一也
又子乙辛角乘子癸壬辛弧(一象限)艮子辛角亦割子癸
壬辛弧(一象限)然其實度為震酉弧只四十五度亦兩當
一也所以者何曰試作辛乙線移角於辛則所乘弧(子甲)
(乙)六十度皆實度也今也
角在心是員周也非員心
也凡員周之角小於員心
一倍故也
論曰員周至員心正得員
徑之半故所作角為折半
比例試作乙丙線成辛乙
丙句股形又從心作心周
線與辛乙平行則所作周心丙角與乙辛丙等而此心
周線平剖乙丙句亦平分乙周丙於周而正得其半矣
系句股形平分弦線作點從此作線與股平行即平分
句線為兩
又論曰查角度之法皆以切點為心作半員即見真度
此不論半員大小或作於員内或作於員外並同作
於員外其度開明易於簡查
又論曰試於所切圈心作横徑線與切線平行如辛丙
線引長之出員外而以查角度之線割員周而過之則
皆成大小句股形而所過横線上點皆即八線中之切
線為句股形之股角度斜線為横線所截處即八線中
割線常為弦而切點至員心之半徑常為句
如子辛角度線割横線於辛成辛心子句股形其所當
角度為酉中四十五度則辛心即四十五度之切線辛
子即四十五度之割線餘並同其子心即半徑也
又論曰角度半員有大小而子心半徑常為句者以所
作横線在員心欲用員度相較也若於半員之端(如中如外)
作横線與切線平行其所作切線割線亦同比例而即
以各半員之半徑為句矣
不但此也即任於子心外直線上任作一横線其所作
句股並同但皆以十字交處距子點之度命為半徑此
八線割員之法所由以立也
量無法四邊形捷法
甲乙丙丁形求其容先作
乙丁對角線分為兩三角形
次自丙作丙戊横線與乙
丁線相交於丑為十字正角
而取戊點與甲齊平則戊丑即甲庚也次以丙戊點折
半於己次作壬癸線與乙丁平行而等又作壬辛
癸子二線皆與己丙平行而等得辛癸長方即原形
之容
取平行線簡法
法曰乙丙線欲於甲點作
線與之平行法於線外任
取巳點為心甲點為界作
辛甲丁庚圈分次以庚為
心取甲辛之度為界截員分得丁點末自丁作戊丁甲
線此線必與乙丙平行矣
論曰凡圈内兩直線相距之度等則其線必平行如(丁甲)
與(庚辛)兩線俱在一圈之内而所距之(甲辛)圈分與(庚丁)圈分
等是相距之度等而其線平行也因讀數度衍得此法
似較他處為捷
補測量全義斜坡用切線法(係勿菴補)
斜三角形有一角兩邊求餘邊
法用切線分外角求得餘
角即以得邊可不用垂線
如甲乙己斜角形有乙
甲及己甲二邊有甲角求乙己邊
法以己甲線引長之成乙甲丙角為原有甲角之外角
(以元有甲角减半周得)次分外角之度而半之為半外角而求其
切線為三率併乙甲己甲二邊為首率又以二邊相較
為次率次率乘三率為實首率為法除之得半較角之
切線以查表得半較角之度以減半外角得己角末用
正弦法得己乙邊法為己角正弦與乙甲若甲角正
弦與乙己
三率法
一兩線之和己丙
二兩線之較己丁
三半外角之切線戊癸
四半較角之切線壬戊
用外角者乙己兩角之和度而較角者乙己兩角之較
度(以用切線故半之也)
論曰又如後圖己甲引至丙而乙甲亦引至辛則乙甲
丙及丁甲寅兩角皆原有甲角之外角再作甲戊線平
分外角則丁甲戊及寅甲戊皆半外角又作甲壬線
與乙已平行則壬
甲癸角即同己角
壬甲辛角即同乙
角再於甲戊半徑
之端作癸戊辛十
字線切員於戊則
戊癸及戊辛皆半外角之切線也再以壬甲癸角减壬
甲辛角其較為壬甲子角則壬甲戊即半較角而壬戊
其切線也
其比例為己丙(二邊和)與己丁(二邊較)若癸辛(外角全切線即乙己丁角)
(和度之全切)與壬子(較角度之全切線)則亦若癸戊(半外角切線)與壬戊
(即半較角之切線)何也全與全若半與半也
理分中末線
甲乙線求作理分中末線
法以甲乙全線折半於庚乃
作垂線於甲端為丙甲如半
線甲庚之度為句全線為
股次作丙乙線為弦
次以丙為心乙為界作乙丁圈界次引丙甲句至丁
則丙丁即丙乙也末以甲為心丁為界作丁戊己圈
分則甲己為理分中末之大分己乙為小分其比例為
甲乙與甲己若甲己與己乙也
逓加法借右圖以乙為心甲為界運規截丁已圈分
於戊自戊作線向甲成甲戊線與甲丁等乃自戊作戊
乙線與乙甲等成甲乙戊三角形
此形甲戊兩角悉倍於乙角乃平分戊角作戊辛線此
線與甲戊並大亦與乙辛同大成辛戊甲相似三角形
則甲乙與乙辛(即戊辛)若乙辛與辛甲也又平分辛角作
辛壬線與壬戊與辛甲
皆同大則成甲辛壬三
角形與辛戊甲相似則
乙辛(即戊辛亦即戊甲)與辛甲
(即辛壬戊壬)若辛甲與壬甲
也如此逓半則其角比例並同
一(乙甲)二(乙戊即戊辛戊甲)三(辛甲即辛壬戊壬)四(辛癸即壬癸壬甲)
五(癸甲即癸子壬子)六(癸丑即丑子子甲)七(丑甲即丑寅寅子)八(丑卯即卯寅寅甲)
九(卯甲)若能知其數則以大分逓乘全數除之得細數
先得甲乙為大分而求乙己全分及
乙庚小分用此圖亦為半圓内求
容方法則以乙巳全分加乙庚小分
折半於戊得戊己為半徑若先得戊
己則以戊己(即戊丁)為弦作丁甲戊句股使戊甲句半於
丁甲股則丁甲即為戊己理分中末之大分
解曰甲庚(即乙己)全數與丁甲(大分)若丁甲(大分即甲乙)與甲
己小分(即乙庚)也
以量分
甲乙線十數求作理分中末線
先依甲乙線作甲乙丁丙正
方形(四面皆十數)次任用一面
平分之如甲丙平分於壬(甲壬)
(及壬丙皆五數)甲乙之半數也(甲丙與甲)
(乙等其分亦等)次自壬向乙角作乙壬斜線其數一十一(一八)
(三三九)次自壬量甲壬或丙壬之度(即甲乙之一半)移置於乙
壬線上截壬癸如甲壬則其餘癸乙即理分中末之大
分其數六(一八三三九)末以癸乙之度移置於甲乙線上如
乙戊則乙戊為大分戊甲為小分其數三(八一九六六)
簡法
作句股形令甲壬句如甲乙股之
半乃以壬為心甲為界作虚線圓分
截乙壬弦於癸
末以乙為心癸為界作圓分截甲乙線於戊
則乙戊為大分甲戊為小分
又簡法
以甲乙全線為半徑作半圓形則乙庚乙辛皆與甲乙等
次平分乙辛於己
次以己為心庚為界運規割甲乙
線於戊(戊己之度即同己庚)
則乙戊為大分甲戊為小分
又簡法
作子寅丑卯十字線相交於乙
次以乙為心甲為界運規截十字
線於甲於庚於辛則乙庚乙辛皆
與設線甲乙等乃折半(乙辛)於己
以己為心庚為界運規截甲乙於戊則乙戊大分甲
戊小分皆得矣此法可於平面圓器上求之
附長方變正方法
甲乙丙丁長方形欲變正方以長方形之横邊(乙丙)直邊
(丙丁)二線取其中比例即所求
取中比例法以丙丁乙丙(即戊)
(丙)聯為一直線(丁戊)而折半於
己以己為心丁若戊為界作
半圓次引乙丙横線至圓界
截圓界於庚成丙庚線即乙
丙及丙丁二線之中比例線
次於丙庚線上作小方形其容與甲乙丙丁長方形等
如右圖丙庚線上方形為丙壬乃子壬癸句股形内之
容方也而甲丙長方形則子壬癸句股外之餘方也餘
方與容方等積
簡法
先引丁丙邊至午引乙丙邊至
未次以丙角為心乙為界作小
員界虚線截引長線於戊
次以丁戊線折半於己次引乙丙至未次以己為心戊
為界運規作小圓界截引長線於庚則丙庚即所變
方形之一邊末依丙庚線作方形與甲乙丙丁長方
形等積其法以丙為心庚為界運規截丙辛與丙庚
等
理分中末線用法
一用以分平圓為十平分
法為半徑與三十六度之分圓若全分與理分中末
之大分也
一用以分平圓為五平分
歴書言以全分為股理分中末之大分為句求其弦
即半徑全數為股三十六度之分圓為句求得七十
二度之分圓為弦
一用以量十二等面體
法為立方邊與所容十二等面邊若理分中末之全
分與其小分也又十二等面體之邊與内容立方邊
若理分中末之大分與其全分也又立方内容十二
等面體其内又容小立方則外立方與内立方若理
分中末之全與其大分也
一用以量二十等面體
法為立方邊與所容二十等面邊若理分中末之全
與其大分也
一用以量圓燈
法為圓燈邊與其自心至角線若理分中末之大分
與其全分也此自心至角之線即為外切立方立圓
及十二等面二十等面之半徑又為内切八等面之
半徑圓燈為有法之形即此可見
用理分中末線說
言西學者以幾何為第一義而傳只六卷其有所秘耶
抑為義理淵深翻譯不易而姑有所待耶測量全義言
有法之體五其面其積皆等其大小相容相抱與球相
似幾何十一十二十三十四卷諸題極論此理又幾何
六卷言理分中末線為用甚廣量體所必需幾何十三
卷諸題全頼之古人目為神分線又言理分中末線求
法見本卷三十題而與二卷十一題同理至二卷十一
題則但云無數可解詳見九卷其義皆引而未發故雖
有此線莫適所用疑之者十餘年辛未歲養病山阿遊
心算學於量體諸法稍得窺其奧爰証歷書之誤數端
於十二等面二十等面得理分中末之用及諸體相容
之確數故以立方為主其内容十二等面邊得理分線
之末二十等面邊得理分線之中反覆推求了無凝滯
始信幾何諸法可以理解而彼之秘為神授及吾之屏
為異學皆非得其平也其理與法詳幾何補編
遥量平面法
甲乙庚辛為
所欲量之平
面而不能到
如仰視殿
上承塵而人
在殿外又如峭壁懸崖之上有碑若碣凡平面之物人
從地面斜視灼然可見而不能到
或平面在下如田池之類人從臺上俯視可見或臨深
崖瞰谷底其理不異但倒用其圖即是
欲量甲乙庚辛平面而不能到可到者丙丁則先知丙
丁之距及丙丁所作各角即可以知之
先求甲乙線法于丙于丁各安平圓儀各以指尺向
甲向乙又自相向各作角成甲丙丁甲丁乙乙丁丙
凡三角形者三依第一法用甲丙丁形此形有丙丁線
(兩測之距)有丙角有丁角自有甲角可求甲丁線法為甲角
之正弦與丙丁若丙角之正弦與甲丁也
次仍依第一法用乙丁丙形此形亦有丙丁線(兩測之距)有
丙角有丁角自有乙角可求乙丁線
法為乙角之正弦與丙丁若丙角之正弦與乙丁也(此丙)
(角與前形之丙角不同)
次仍依第一法用甲丁乙形此形有甲丁乙丁兩線及
兩線間所作之丁角(與前形丁角不同)可求甲乙線為所測之
一邊法自甲角作甲戊垂線至戊分乙丁線為兩而
甲丁乙三角形分為兩句股形其一甲戊丁句股形
有丁角有甲丁線為弦可求甲戊句戊丁股
法為全數與甲丁弦若丁角之正弦與甲戊句又全
數與甲丁弦亦若丁角之餘弦與戊丁股也
其一甲戊乙句股形有甲戊句有乙戊股(戊丁减乙丁得之)
可求甲乙弦
法以甲戊句乙戊股各自乘而并之開方得甲乙即所
測平面之一邊
第二求庚辛線法亦于丙于丁各安平員儀(即先所安之元)
(處)各以指尺向庚向辛又自相向各作角成庚丙丁
庚丁辛辛丙丁凡三角形亦三
依第一法用庚丙丁形此形有丙丁線(兩測之距)有丙角
有丁角自有庚角可求庚丁線
法為庚角之正弦與丙丁若丙角之正弦與庚丁也(此丙)
(角與前兩丙角不同)
依上法用辛丙丁形此形有丙角(此丙角又與上不同)有丁角
自有辛角可求辛丁線(丁角與前不同)
法為辛角之正弦與丙丁若丙角之正弦與辛丁也
仍依上法用庚丁辛形此形有庚丁辛丁兩線及兩線
間所作丁角(此丁角又不同)可求庚辛線為所測之又一邊
法自庚角作庚己垂線至己分辛丁線為兩而庚丁辛
三角形分為兩句股形
其一庚己丁句股形有丁角有庚丁線為弦可求庚己
句己丁股
法為全數與庚丁弦若丁角之正弦與庚己句亦若丁
角之餘弦與己丁股也
其一庚己辛句股形有庚己句有辛己股(己丁减辛丁得之)可
求庚辛弦
法以庚己句辛己股各自乘而并之開方得庚辛為所
測平面之又一邊(即甲乙之對邊)
第三求甲庚線
法于丁點側安平儀以指尺向甲向庚作甲丁庚角成
甲丁庚形此形有甲丁庚丁兩線及兩線所作之丁角
(此丁角在甲丁庚丁兩線間)可求甲庚線為所測形之側邊
法自庚角作甲丁之垂線至壬分甲丁線為兩而甲丁
庚三角形分為兩句股形
其一庚壬丁句股形有庚丁線為弦有丁角可求庚
壬句壬丁股(法同前用丁角之正弦餘弦)
其一庚壬甲句股形有庚壬句甲壬股(丁壬减甲丁得甲壬)依
句股法可求甲庚弦線為所測平面之側邊
第四求乙辛線
法亦于丁點側安平儀指尺向乙向辛作乙丁辛角成
乙丁辛形此形有乙丁辛丁兩線及兩線所作之丁
角此(丁角在辛丁乙丁兩線間)可求乙辛線為所測形之又一側邊
法自辛角作乙丁之垂線至癸分乙丁線為兩而乙丁
辛三角形分為兩句股形
其一辛癸丁句股形有辛丁線為弦有丁角可求辛癸
句癸丁股(法亦同前用丁角之正弦餘弦)
其一辛癸乙句股形有辛癸句乙癸股(癸丁减乙丁得乙癸)依句
股法可求乙辛弦線為所測平面之又一側邊
如此則所測形之四邊皆具乃用後法求其幂
第五求乙庚線
法仍于丁點斜立平儀以指尺向乙向庚作乙丁庚角
成乙丁庚形此形有庚丁乙丁兩線及兩線所作之丁
角(此丁角又在乙丁庚丁兩線間)可求乙庚線為所測形内之對角斜
線
乙庚丁角形内自庚角作乙丁之垂線至卯分乙丁線
為兩而乙庚丁三角形亦分為兩句股形
其一庚卯丁句股形有庚丁線為弦有丁角可求庚
卯句卯丁股(依上法用丁角之正弦餘弦)
其一庚卯乙句股形有庚卯句有卯乙股(卯丁减乙丁得卯乙)
依句股法可求乙庚弦線為所測平面形内對角之斜
線
既有乙庚線則所測甲乙辛庚平面形分為兩三角形
可以求其幂積
其一乙甲庚形有乙庚底有甲庚甲乙兩腰法以
兩腰相減為較相併為和和乘較為實乙庚底為法除
之得乙午以減乙庚得午庚半之得子庚乃用句股法
以甲庚子庚各自乘相減為實開方得甲子垂線垂線
半之以乘乙庚底得乙甲庚形平積
其乙辛庚形有乙庚底有乙辛辛庚兩腰如上法以
乙辛辛庚相減為較又相併為和和乘較為實乙庚底
為法除之得乙辰為底較以減乙庚得辰庚半之得丑
庚乃用句股法以丑庚庚辛各自乘相減為實開方得
丑辛垂線垂線半之以乘乙庚底得乙辛庚形平積
末以兩三角形積併之為所測甲乙辛庚平面四不等
形之總積
右法可以不用丈量而遥知畝步即有種種異態以
三角御之足矣新法歷書言測量詳矣然未著斯法
意者其在幾何後數卷中為未譯之書歟
庚午蜡月既望晤遠西安先生談及算數云量田可
以不用履畝初聞之甚不以為然歸而思之得此法
然未知其所用者即此與否而此法固己足用矣
若用有縱衡細分之測器指尺一量即得無煩布算
矣
測量用影差義疏
凡方形内從角剖成兩句股形必相似而等(正方或長方並同)
方形内作對角斜線分為兩句股又於斜線上任取一
點作直線縱横相交如十字而悉與方邊平行分方形
為大小四句股形此四句股形各兩兩相似而等(大形丙與)
(丁等小形庚與辛等)
則其四句股旁之兩餘方形雖不
相似而其容必等
解曰於原斜線所分相等句股内
各減去相等之大小兩句股則其餘亦等(丙戊庚形内減去大形丙)
(小形庚餘戊又於丁己辛形内減去大形丁小形辛餘己原形既等所減又等則其餘必等故戊己兩長方雖)
(不相似而其容必等也)
句股測遠
有甲乙之距人在戊立
表又立表於丁使戊丁
乙為一直線再於丙立
表使丙丁與乙戊如十字之半而與甲乙平行則丁戊
小股與丙丁小句若丙庚大股與甲庚大句也
法以丙丁小句為二率乙丁大股為三率(即丙庚)相乘
為實戊丁小股為一率為法法除實得大句甲庚再以
庚乙加之得甲乙
假如丙丁兩表相距(三步)人在戊窺丁到乙遠(戊丁十)
(二步丁乙十八步)欲求甲乙之距
法以丙丁(三步)乘乙丁(十八步)得(五十四步)為實戊丁
(十二步)為法除之得(四十五步)為甲庚加丙丁(三步即)
(乙庚)共四十八步為甲乙
解曰此以乙丙長方形變為丙癸也依前論乙丙實形
丙癸虚形不相似而容積等故也
重測法
有巽乙甲井方池欲遥望測其甲乙之一面方并乙丁
之距
法立表於丁望測方池之東北角乙至東南角巽使丁
乙巽為一直線再於丁横過立一表於丙使丙丁為
乙丁之横立正線(丙丁横六步四分)次從丁退而北行
至(戊)量得(十二步)從戊斜望池西北隅(甲)不能當(丙)
表而出其間如(戌)又於戌立表(戌丁)之距(四步)再退
而北行至(己)從(己)窺(甲)正過(丙)表己丙甲為一直線量
得己丁之距(三十六步)
法以(丙丁六步四分)為一率(丁己三十六步)為二率(戊)
(丁四步)為三率二三相乘得(一百四十四步)為實一
率(六步四分)為法除之得(二十二步半)為辛己於辛己
内減丁戊(十二步)餘(十步半)為壬己是為景差
次以(戌丁四步)減(丙丁六步四分)餘(丙戌二步四分)以
戊丁(十二步)乘之得(二十八步八分)為句實景差(十)
(步半)為法除句實得二步(八分弱)為甲申大句之距加
丙丁(六步四分即申乙)得共(九步二分弱)為甲乙即方
池一面之闊
次以辛己(二十二步半)減丁己(三十六步)餘(十三步半)辛
丁為二率丁戊(十二步)為三率相乘得(一百六十二步)
為股實景差(十步半)為法除之得(十五步八分半弱)
為乙丁大股之距
解曰此以四表重測改為三表乃巧算也若測高則
重測本為前後二表者亦改用一表故當先知本法然
後明其所以然下文詳之
試先明四表本法
有甲乙之闊先立(丁)表從戊測之戊(人目)丁(表)乙(遠物)
(之末端)三者參相直次於(丁)表横過與(甲乙)平行作
戊丁乙直線之横直線此線上取戊立表人目從(戊)過
(戌)表窺甲遠物之西端亦參相直但於戊丁乙線為斜
弦成句股形量得戌丁兩表横距(四步)丁戊(人目距)
(東表)直距(十二步)
次於丁戊直線退而北行至己又於西表戌作戌乾
癸直線與丁戊平行此平行線内取癸立西後表人目
從(己)過(癸)至甲參相直成己甲癸斜弦亦從(癸)横行
至(丁己)線尋(辛)立東後表此後兩表(癸辛)之距為前表
(戌丁)等(四步)又量得(辛己)為東後表距人目之數(辛丁)
(二十二步半)次以丁戊(十二)減辛己(二十二半)得(十步)
(半)為壬己景差末以己辛(二十二半)減(己丁三十六)
餘(十三步半)為前後表間之距以表横距(四步)乘之
得(五十四步)為表間積(即丁癸長方)置表間積為實
以景差(十步半)為法除之得(五步一半弱)加表横距(四)
(步)得共(九步二分弱)為所測遠物甲乙之闊
解曰前表測得成(戊乙甲)句股形内有戌乙餘方與形
外戌坤餘方等積後表測得(己乙甲)句股形内有癸
乙餘方與形外酉癸餘方等積於(癸乙)内減(戌乙)於
(酉癸)内減(寅癸即丑戌)則所餘之(癸丁)及(酉辰)兩餘方
亦必等積也故以(丁癸)變(辰酉)而得(辰寅)亦即(甲庚)也
次明改用三表之理
用三表者於(丙丁)兩表間增一(戌)表其實則於(戌丁)兩
表外增一(丙)表也前增一表而無後表則無從而得景
差故以三率法求而得之其實(癸辛)即後表也其理與
四表同
然不用(癸子)形而用(戌子)形何也曰准前論(辰酉)形與
(丁癸)形等積而(午癸)形與(丁癸)形亦等積(兩餘方在己丙丁句股形)
(内外故等)則(酉辰)與(午癸)亦等積矣各減同用之(卯未)則所
餘之(酉卯)與(卯癸)二形亦自相等積而(卯癸)原與(戌子)
等故用(戌子)變為(卯酉)而得(卯寅)即得(甲申)矣是故(戌)
(子)可名句實也
其以(辛丁)乘(戊丁)為股實何也曰此三率法也(丁乙)外
加(丁辛)前後兩測之表距故(辛壬即戊丁)外亦加(壬己)
兩測之景差法為壬己與辛丁若戊丁與丁乙也
凖此測高可用一表而成兩測(即借前測遠之圖而以横為直)
假如有(甲乙)高立(丙丁)表人目在(戊)測之則表之端不
相值而參相直於表之若干度如(戊)退若干步至(己)測
之正對表端(丙)其法並同
因看數度衍中破勾測遠條疑其圖不真因作此以
證明其說
測量圖說
一測股六十四尺
八寸(壬丁)二測
句四十三尺二寸
(丙丁)三大股三
千六百八十五尺
二寸(乙丁即丙午)四大
句二千四百五十
六尺八寸(甲午)加(午乙)
得二千五百尺為甲乙之高
解曰癸丁長方形即古人所謂表間積也以景差壬辛
(即丑子)除之變為寅子形是寅子與癸丁同積也而申
癸形原與癸丁同積則寅子與申癸亦同積也於内
各減同用之申子而寅未與未癸亦同積矣夫未癸即
氐己也是戊丁(即亥己)乘丙己之積也故可命為句實
而以景差壬辛(即申未)除之得甲午句也(甲午即戌酉)
其取股實何也曰三率法也表在丁其景丁戊後表
在庚則其景庚壬後表之遠於前表者為庚丁故後景
之大於前景者為辛壬則其比例為辛壬與庚丁若丁
戊(即庚辛)與丁乙也
試引癸庚至箕截庚箕如庚壬又截尾箕如壬辛於尾
於箕各作與庚乙平行線而於乙作垂弧為乙牛聯之
作長方形又作丁心線截之作箕乙線斜分之則其理
著矣
三角形求外切圓法
設如銳角形有甲丙邊七十五尺甲乙邊六十一尺
乙丙邊五十六尺問外切
圓徑若干畣曰外切圓半
徑三十八尺一寸二分五氂
法先求得甲丁中長線六十
尺為一率甲乙邊六十一尺
為三率甲丙邊折半得戊甲三十七尺五寸為三率二
率與三率相乘一率除之得四率(三八一二五)為甲乙
圓半徑
解曰此甲丁乙三角形與甲己戊三角形同式故其線
為相比例率也若甲為鈍角其理亦同
以甲丙折半為三率故四率亦為半徑若以甲丙全線
為三率則四率必得甲辛為全徑矣蓋甲辛丙形與甲
乙丁形同式也何以見甲乙丁形與甲辛丙形同式蓋
兩形之乙角辛角同當甲庚丙弧分則二角必相等而
丁丙又同為直角則兩甲角亦必等而為同式無疑矣
又界角比心角所當之弧大一倍今己心角所當甲庚
弧適當乙界角所對甲庚丙之一半則兩角為等可知
而戊為直角與丁角等則兩甲角必等故甲己戊與甲
乙丁亦為同式形也
三角舉要有量法未著算例因作此補之
又如甲乙丙鈍角形求外切員徑(甲辛)半徑(甲己)
法先求得中長線(乙丁)得(乙丁丙)句股形
次作(乙辛)線成(甲乙辛)大句股
形
又甲乙半之於戊從員心
(己)作直線過戊至庚又成
(甲戊己)句股形
一率乙丁股(形内垂線)
三率甲戊股(即甲乙之半)
四率甲辛弦(即外切員徑)四率甲己弦(即切員半徑)
解曰三句股形皆相似故可以三率比例求之
問何以知其為相似形也曰原設形之丙角與甲乙辛
形之辛角所當者同為甲庚乙員分則兩角等而乙丁
丙形之丁角與甲乙辛大形之乙角又皆正角則餘角
亦等而為相似形
又甲己為甲辛之半甲戊為甲乙之半戊正角與大形
乙正角等又同用甲角則己戊亦乙辛之半而為相似
形
一系凡三角形求得形内垂線為法垂線左右兩原
邊相乘為實法除實得外切員徑銳鈍同法
假如甲乙丙鈍角形求得中垂線乙丁六分為法左
右兩斜邊(甲乙十八分乙丙十分)相乘(一百八十分)為實法除實得
外切員徑甲辛三十分即可借用前圖(分寸畸零稍為整頓)
歴算全書卷四十九
