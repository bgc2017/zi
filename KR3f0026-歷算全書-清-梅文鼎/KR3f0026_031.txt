歷算全書卷二十八
宣城梅文鼎撰
交食蒙求卷三(訂補)
月食
一求諸平行
首朔根查二百恒年表本年下首朔等五種年
根并紀日錄之
朔策望策用十三月表以所求某月五種朔策并
望策之數錄於各年根之下
平望以首朔日時與朔策望策并紀日并之
(滿二十四時進一日滿六十日去之)
太陽平引以太陽引根與朔策望策并之(滿十二宫去之)
(後並同)
太隂平引以太隂引根與朔策望策并之
交周平行以交周度根與朔策望策并之
隨視其宮度以辨食限
宮六宮十五度以内
五宮十一宮十五度以外
以上宮度俱有食
太陽經平行以太陽經度根與朔望二策并之
二求日月相距
日定均以太陽平引宫度查一卷加減表如平
引滿三十分進一度查之(記加減號)
月定均以太隂平引宫度查一卷加減表如平
引滿二十分進一卷查之(記加減號)
距弧以日月定均同號相減異號相併即得
距時以距弧度分於四行時表月距日横行
内查得相當或近小數以減距弧得時
(視相當近小數本行上頂格所書時數錄之即是)其餘數再如
法查取得時之分秒(依上法用相當近小數取之)并
所查數即為距時
隨定其加減號
两均同加者日大則加日小則減
两均同減者日大則減日小則加
两均一加一減者加減從日
三求實引
日引弧以距時時及分查四行時表太陽平行
两數并之(依距時加減號)
日實引置太陽平引以日引弧加減之即得
月引弧查四行時表取距時時分下太隂平行
两數并之(依距時加減號)
月實引置太隂平引以月引弧加減之即得
四復求日月相距
日實均以日實引宫度查一卷加減表如實引
滿三十分進一度查之(記加減號)
月實均以月實引宫度查一卷加減表如實引
滿三十分進一度查之(記加減號)
實距弧以日月實均同減異加即得
實距時以實距弧度分查四行時表與前距時
同(加減號亦同前)
五求實望
實望置平望以實距時加減之即得如加滿
二十四時則進一日不及減借二十四
時減之(則實望退一日)
六求實交周
交周距弧查四行時表實距時時分下交周平行
两數并之即得(依實距時加減號)
交周次平行置交周平行以交周距弧加減之即得
(凡加者滿三十度進一宫滿十二宫去之為宫減者遇所減度數反小則加)
(三十度退一宫減之宫度不及減則加十二宫然後減之)
實交周置月實均(記加減號)以加減交周次平行即
得
七求月距黃緯
月距黃緯以實交周查太隂距度表依中比例法
求之
假如實交周十一宫十九度十四分先
以十九度查得五十六分五十三秒又
以十九度與二十度之數相減得較五
分七秒化作三百七秒與實交周
小餘十四分相乘用六十分為法除之
得七十一秒收作一分十一秒以減十
九度之數得五十五分四十二秒即月
距緯(其緯在南)中比例加減法視表上數
前(少多)後(多少)者(加減)
又法視表上宫名在上者以所得
中比例數加宫六宫是也表上
宫名在下者以所得中比例數減五
宫十一宫是也
辨交食月緯南北法
視實交周是(六)宫(五一十)宫其緯在(北南)
八求徑距較數
月半徑以月實引查二卷視半徑表即得
影半徑月半徑下層即景半徑
景差以日實引加減六宫查視半徑表即得
實景景半徑内減去景差即實景
并徑以實景加月半徑即得
并徑減距置并徑以月距緯減之即得如距緯大
於并徑不及減則不得食矣
九求食分
食分以月半徑倍之為一率并徑減距為二
率月食十分為三率二三相乘一率除
之即得食分
十求躔離實度
日距弧以實距時時分查四行時表太陽平行
两數并之即得(依實距時加減號)
日次平行置太陽經平行以日距弧加減之即得
日實度置日實均(記加減號)以加減日次平行即得
月實度以日實度加減六宫即月實度(記寫宫名)
十一求視望
加減時以日實度查一卷加減時表即得(記加減號)
視望置實望以加減時加減之即得
十二求所食時刻
月實行以月實引查二卷太隂實行表得之(實行)
(表三度一查假如某宫一度二度俱在度下查若四度五度俱在三度下查)
(餘倣此)
初虧距弧以距緯加并徑與并徑減距相乘平方
開之即得
初虧距(時分)置距弧用三率法化時即得
食既距弧實景内減去月半徑餘數與距緯相加
為和相減為較和較相乘平方開之即
得
食既距(時分)置距弧用三率法化時即得
三率法
月實行化秒為一率六十分為二率(初虧)
(食既)距弧化秒為三率求得(初虧食既)距(時分)為
四率
初虧時刻置視望以初虧距(時分)減之即初虧時刻
復圓時刻置視望以初虧距(時分)加之即復圓時刻
食限總時復圓時刻内減去初虧時刻即總時
食既時刻置視望以食既距(時分)減之即食既時刻
生光時刻置視望以食既距(時分)加之即生光時刻
既限總時生光時刻内減去食既時刻即得
十三求宿度
黃道宿以黃道距宿鈐減月實度即得(記寫宿名)
其宿鈐每年加歲差行五十一秒如實
度小於宿鈐不及減改前宿
赤道宫度以月實度用弧三角求之即得(記寫宮名)
(求赤道經緯弧三角法見日食蒙求下同)
赤道宿度以所入宿黃道經緯(加過歲差之宫度為經其緯用恒星)
(表取之)用弧三角法求到本宿赤道經度
以減月赤道度得食甚時赤道宿度(如不)
(及減取前一宿如法用之)
十四求各限地平經緯
各限交周置實交周以初虧食既距弧加減之得
各限交周(以查月距度表得各限月緯)
黃白差角定為四度五十九分(此朔望交角也各限有微差可以不論)
是宫(十一)宫上方差角在黃經度西
是五宫六宫上方差角在黃經度東
用月實度入極圈交角表取其餘度即得
是(一二三四五)宫上方差角在赤經度西
是(六七八一九十十)宫上方差角在赤經度東
月赤道差以所推黃白黃赤两差角東西同號者
相併異號者相減即得(記東西號)其異號以
小減大並以度之大者為主命其東西
以上所推食甚時差角各限同用(各限亦有微差可以勿論)
距午度分置各限時刻如在子後者即為距午時
(此從午正順數)如食在子前者置二十四時以
各限時刻減之餘為距午時(此從午正逆推)再
以時變為度即得各限太隂距午度分
時變度法每一時變十五度每時下
一分變度下十五分時下四分成一度
時下一秒變度下十五秒時下四秒成
一分秒滿六十收為分分滿六十收為
度
各限高度(即地平緯)以極距天頂為一邊月實度距北極為
一邊(以黃赤距度南加北減象限得之)二邊相加為總
相減為存存總各取餘弦相加減(總弧不過)
(象限相減總弧過象限相加若存弧亦過象限則仍相減)並折半為
初數(各限同用)乃以各限距午度取其矢(距午)
(度過象限則用大矢)以乘初數去末五位為矢較
用加存弧矢得對弧矢矢減半徑得餘
弦命為高度正弦查表得高度(所得對弧即月)
(距天頂乃高度之餘故其餘弦即高度正弦)
一率(半徑)二率(角之矢)三率(初數)四率(两矢較)
各限方向(即地平經)以極距天頂為一邊月距天頂為一邊
(高度之餘)二邊相加為總相減為存存總各
取餘弦相加減(並如高度法)如法取初數(各限)
(不同)乃以月距北極為對弧取其矢(月在赤道)
(南用大矢)與存弧矢相減為矢較進五位為
實初數為法實如法而一得所求矢(即地)
(平經度皆子午規所作天頂角度分之大小矢)矢與半徑相減
得餘弦查其度命為月距正子午方地
平經度(凡正矢去減半徑得銳角餘弦其度子後食者逆推子前食者)
(順數並距正子方立算大矢内減半徑得鈍角餘弦其度子後食者順數子前)
(食者逆數並距正午方立算即得各限月在地平上方位)
一率(初數)二率(两矢較)三率(半徑)四率(角之矢)
地經方位度分鈐(銳角用本度鈍角用外角度並以餘弦查表取之)
地經赤道差以月距北極為一邊月距天頂為一邊
二邊相加為總相減為存存總各以餘弦
相加減(如前法)取初數(各限不同)以天頂距北極
為對邊取其矢(各限同用)與存弧矢相減得矢
較進五位為實初數為法實如法而一得
差角矢(從北極作赤道經圈過月心又從天頂作高弧過月心得此差角)
矢減半徑得餘弦命度(記東西號)
地經白道差置所推地經赤道差以月赤道差加減
之(東西同號者相併異號者相減)即得各限白道經度
差於地經高弧之數(記東西號)若月赤道差
大於地經赤道差法當反減其號東西
互易並以月赤道差之號命其東西(月食)
(有初虧子前復圓子後者各依本限論之各限時刻在子前用子前法在子後)
(用子後法)此線所指即月行白道之極(猶赤)
(經線之指北極)
訂補月食繪圖法
赤經主綫總圖先作立綫以象赤道經此綫上指
北極下指南極綫左為東綫右為西為
作圖主綫
闇虚食限主綫上取一點為心地景半徑為度作
圓形以象闇虚又以闇虛心為心併
徑(景半徑月半徑相加)為度作大圓於闇虛之外
是為食限又徑較為度(景半徑月半徑相減)作
小圓於虚闇之内是為既限
黃道交角以月實度入極圈交角表取之命為食
甚時黃道與赤經所作之角
黃道綫依黃道交角度分作角於主綫左右皆
自主綫起算數食限上度分作識向闇
虚心作直綫令两端透出即上下各成
相對二角並如黃道交赤道之角而此
線象黃道
凡上方角度(右順左逆)下方角度(左順右逆)並自
主綫起算數食限大圓周度分作識從
此作過心直綫至對邊則角度皆䓁
白道經度依所推月赤道差角於赤經左右數其
度(亦借圓邊數之其左右如先所推)作識嚮圓心作直
綫而透出之即食甚時白道經綫
白道虧復各取月緯於黃道上下作两平行
虚綫(陽歷用南緯此二平行綫作於黃道下方隂歷用北緯作两平行綫)
(於黃道上方)虚綫两端必與食限大圓相遇
而各成一點依法各取其合用之點聫
為一直綫即自虧至復所行白道也(交前)
(先遠後近以遠點為初虧近點為復圓交後先近後遠以近點為初虧遠點為)
(復圓初虧點在西復圓點在東隂陽歷並同一法)
白道綫與經綫相遇成十字角十字中
心一點即食甚時月心所到也以月半
徑為度從心作圓形以象食甚時月體
即見其為闇虛所掩分數與所推月食
分秒相符(法以月體勻分十分即見此時月入闇虚若干分數或全)
(在其中而為食既或深入其中而食既外尚有餘分一一皆可見)
又此時月心與闇虛心正對其相距之
分即食甚時月緯與所推亦合
虧復真象又以白道割外圓之點各為心月半徑
為度作小圓二以象初虧復圓時月體
即見初虧時月以邊漸入闇虛復圓時
月體全出闇虛其先缺後盈之點皆有
定在
食既生光若食既者白道必横過内園(即既限)亦相
割成两點即食既生光時月心所到也
两點各為心月半徑為度作圓形二以
象食既生光時月體即見食既時月體
全入闇虛而光盡失生光時月體漸出
闇虚而光欲吐其欲既未既欲吐未吐
之時月體必有一點正切闇虛之邊皆
有定處
取白道簡法不必求虧復月緯但以月距黃緯於白
道經綫作識(隂歷在北陽歷在南並距闇虚心立算)為食
甚月心所到從此作横綫與經綫十字
相交即成白道(餘同上)
右總圖以上為北下為南左為東右為
西中西歷法所同也若月食子正即赤
道經與午規為一而所測如圖然各限
時刻不同(假如初虧子正復圓必在子後若復圓子正初虧必在子)
(前相距有十二三刻以上化為度有相距三四十度以上)則經綫午
規相離而南北東西易位食近卯酉變
態尤多非精於測算不能明也故有後
法
新增月食分圖法
高弧主綫作立綫以象高弧(上指天頂下指地平)不論東西
南北在何方位並以天頂為宗直指其
上下左右是為各限繪圖之主綫
白道綫主綫上取一點為心規作月體(並以所推月半)
(徑度分為半徑其周分三百六十度)月邊上方數所推各
限地經白道差之度作識(差東者逆數向左差西者)
(順數向右並從主線上方割圓周處起算)從此作過心直綫
即白道經綫也於月心作横綫與白道
經綫十字相交以象白道
十分真像白道經綫上於月心起算取月距黃緯
作識(隂歷作識於月心之下方陽歷作識於月心之上方並如月距黃緯)
(度分以月半徑之度凖之)即闇虚心也(月距黃緯即食甚時两心)
(之距)闇虚心為心實景半徑為度作圓分
於月體即見食甚時月入闇虚被掩失
光晦明邊際了了分明
受蝕處所視月邊所缺若干度分(在月全周三百六十度中虧若)
(干)其與白道經綫相割處必正對闇虚
(即缺邊度折半取中之點)即舊法所謂月食方位也
此點或在月體之上或在月體之下與
其左右一一可指其餘光若新月或大
或小必皆曲抱此點而斜側仰俯皆可
豫定其形(算缺邊度法别具)若食既者不用此
條
食之深淺又以月體全徑分為十分(於白道經綫上分之)即
食甚時虧食深淺或被食若干分數而
有餘光或全入闇虚月光全失而為食
既(即食十分)或深入闇虛而食既之外尚有
餘分(即食十一二分以上至十六七分不䓁)並絲毫不爽
初虧復圓如法作主綫及月體白道(並如食甚)乃於白
道上自月心取初虧距弧之度作識(初虧)
(於月心之左復圓於月心之右即食甚時月心所到)從此作垂綫
截如月距黃緯之度(陽歷向上作之隂歷向下作之即食)
(甚時两心之距)垂綫末為闇虛心從闇虚心作
直綫至月心必割月邊此點即初虧復
圓時先缺後盈之點(在初虧則此處先缺在復圓則此處)
(後盈)並可以月體之上下左右命之(又捷法於)
(初虧距弧作識處以月距黃緯為度依上下之向作弧分虚線於月心以併徑)
(為度亦作弧分虚線两虚線交處即閭虚心從闇虚心作虚直線割月邊至月)
(心即於割點作識命為先缺後盈之點可不作垂線直線)
(若以實景半徑為度從闇虚心向月邊作半圓以象闇虚其邊與月邊相切即)
(先缺後盈之像益復分明)
食既生光立主綫繪月體取白道經綫作白道(並如)
(初虧復圓)白道上以食既距弧度作識(食既於月)
(心之左生光於月心之右並自月心起算與虧復同)從此作垂線
尋闇虚心(陽歷向上隂歷向下並如月距黃緯之度亦同虧復)作
直線自闇虚心過月心至邊即食既生
光時後入先出之點(欲既未既時此處有餘光後沒光欲)
(生時此處有微光先吐)於月體之上下左右皆有
定處
(捷法以月距黃緯於食既距弧作識處依隂陽歴之向作虚弧又以徑較為度)
(自月心依左右之向作虚弧两虚弧交處即闇虚心從闇虚心作直虚綫過月)
(心至邊即食既時後沒生光時先見之點)
(若以實景半徑從闇虚心作半圓以包月體即見食既時月體全入闇虚生光)
(時月體將出闇虚而各有二邊相切之一點若闇虚半徑稍縮其度則食既)
(時後沒餘光生光時微光先吐皆了然可見)
月𢃄食法
辨月有𢃄食月食子後者視復圓時刻若在日出後
月食子前者視初虧時刻若在日入前
是有𢃄食也
若日出入時刻與食甚相同者不用布
算即以所推食分為𢃄食分諸限時刻
有與日出入同者亦然皆不必推𢃄食
𢃄食距時𢃄食在朝者以日出時刻在暮者以日
入時刻並與食甚時刻相減餘即為𢃄
食距時(法同日食)
𢃄食距弧初虧距時化秒為法初虧距弧化秒與
𢃄食距時化秒相乘為實實如法而一
得數為𢃄食距弧(秒滿六十收為分)
𢃄食距心徑以𢃄食距弧月距黃緯各自乘两數相
併平方開之得數為𢃄食距心徑(法實俱化)
(秒得數收分)
𢃄食分秒月全徑(化秒)為一率月食十分(化秒)為二率
置併徑内減𢃄食距心徑餘數(化秒)為三
率求得四率即月出入時𢃄食分秒(秒滿)
(六十收分)凡𢃄食分必小於食分(食既者𢃄食必不滿)
(十分若滿十分為𢃄食既出入其減餘必大於月全徑)
一法置𢃄食距心徑内減徑較(月半徑影半徑)
(之較)餘數化秒為三率如上法求之得未
食餘光分秒以轉減月食十分為𢃄食
分秒(如𢃄食距心徑小於徑較不及減者為𢃄食既出入其𢃄食距時必)
(小於食既距時)
辨食分進退凡月出入時刻(即日出入時刻)在食甚前其所
𢃄食分為進(𢃄食在朝者為但見初虧不見食甚復圓在暮者為)
(不見初虧但見食甚及復圓若食既者在朝為見初虧不見食既或見食既而)
(必不見生光復圓在暮為不見初虧但見食既或并不見食既而但見生光復)
(圓)
若月出入時刻在食甚後其所𢃄食分
為退(在朝為見初虧食甚不見復圓在暮為不見虧與甚但見復圓若食)
(既者在朝為但見初虧食既食甚生光不見復圓或并不見生光在暮為不見)
(初虧食既食甚生光但見復圓或并可見生光)
𢃄食作圖法
總圖以𢃄食距心徑為半徑闇虚心為心作
圓周取其與白道横綫相割點為月出
入時月心所到用此為心如法作圓以
象出入地平時月體即見其時月體有
若干分秒在闇虚内與所算𢃄食分相
符(圓周割白道必有二點當以𢃄食分進退詳其左右如法取之)
分圖如法先求月出入時地經白道差
法曰以黃赤距度(用月實度取之)取餘弦(即存弧餘)
(弦又即總弧餘弦)命為初數(總存两餘弦同數故也)以極
出地度正弦減半徑命為對弧矢(即極距天)
(頂之矢)以黃赤距度取矢(即存弧矢)二矢度相
减得較數進五位為實初數為法法除
實得差角矢(矢減半徑得餘弦以餘弦查表得度)即月出
入時地經赤道差(𢃄食在朝者差角在西若在暮者差角在)
(東)
捷法以黃赤距度之餘弦内減極出地之正
弦得餘數進五位為實仍以黃赤距度
之餘弦為法除之得差角矢
若月實度正與二分同度即以極距天
頂度分命為地經赤道差不湏布算
凡各限時刻有與日出入同者並可依
此法求其地經赤道差角
置地經赤道差以各限同用之月赤道
差加減之(東西同號者加異號者減)即月出入時地
經白道差(記東西號)次作高弧主線(如各限法)規
作月體於圓邊數地經白道差之度作
識(依白道差東西之號並自高弧上方交月邊處起算差東者逆而向左差)
(西者順而向右)從此作過心直綫以象白道經
綫又於月心作十字横綫以象白道(其法)
(並同各限)
白道上以𢃄食距弧為度作識(即食甚月心所)
(到也𢃄食分進者此點在月體左方退者在月體右方)從此作垂
綫(陽歷作垂綫向上隂歷作垂綫向下)截其長如月距黃
緯之度(即闇虚心所在)從此向月心作直綫至
對邊(此即月出入時月與闇虚两心相對之徑綫)乃分月體
為十勻分(即於徑綫上分之)
末以闇虚心為心實景半徑為度作圓
分於月體内即見月體在闇虚内有幾
何分與所推𢃄食分秒相符其餘光若
新月者偃仰縱横皆如所見矣
康熙五十七年戊戌二月十五甲午日夜子初二刻八
分望月食分秒起復時刻方位(依歷書本法)
月食十七分三十一秒
初虧亥初二刻十三分
食既亥正三刻
食甚夜子初二刻八分
生光十六日子正二刻一分
復圓丑初二刻三分
食限内共計十五刻五分
既限内七刻八分
食甚月離黃道鶉尾宮二十五度五十三分為翼宿六度
食甚月離赤道鶉尾宫二十六度一十四分為翼宿十
四度三十八分
以上諸數並主京師立算江南省月食分秒宿度並
同惟各限時刻加八分
右圖為黃道上日月躔離右旋之度自西而東乃步算
之根也日行遲月行疾闇虚地影居日之衝故闇虚之
行即日行也初虧時月在闇虚之西及至復圓遂出其
東日月並右旋而有遲速於斯著矣月道之交於黃道
也有隂歷焉有陽歷焉有交前交後焉今二月月食交
後隂歷也距交遠則黃緯大而受蝕淺距交近則黃緯
小而受蝕深今距交未及一度黃緯只四分故入影最
深而食分最大自甲至卯共十七分竒歷歷可數也自
丙至丁為自虧至復月行之度折半於乙為食甚故虧
至甚甚至復時刻俱等與算數相符按圖索之瞭如指
掌矣(若乙點稍偏即度有参差與算理不合)
亥初三刻六分月食初起
高四十七度二十四分
距正午東五十度零四分在巽方
初見微蝕處在月體下方之左
亥正三刻九分月食至盡
高五十五度二十九分
距正午東三十度零三分在巳方
欲既未既些少餘光在月體右上
右圖為地平上太隂加臨方向東升西沒其行左旋乃
測騐之用也假如欲候初虧法以盤針考定巽方定為
月食初虧時地平經度(又法擇平地畫以圓圈對子午卯酉作十字綫分圓周為四自)
(卯至午勻分九十度自午至酉亦如之乃自午向卯數五十度為初虧方位各限俱如是)候至亥時
初三刻(用星晷香漏或自鳴鐘定之)其時太隂巳到巽方在地平上
高四十七度竒(用象限儀等器測之)即見月體下方偏左處漸有
微缺是為月食初虧在月體下方之左也此不論東
西南北惟以月體對天頂處為上對地平處為下左右
亦然測時湏正身直立向月平觀即上下左右絲毫不
爽食既䓁各限並同
子正二刻九分月光始生
高五十七度五十分
過午正西十八度三十一分在丁方
微光初見時在月體左方稍下
丑初二刻十一分月光盡復
高五十五度半
過午正西二十七度三十九分在未方
光欲滿時些少微缺在月體右方略上
因五限總圖限於尺幅月影縮小故復作分圖以便測
騐内惟食甚月在闇虚地形深處聊可得其地平經緯
無上下左右可言故分圖只四限
歷算全書卷二十八
