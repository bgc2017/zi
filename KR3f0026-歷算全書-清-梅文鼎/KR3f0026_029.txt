歷算全書卷二十六
宣城梅文鼎撰
交食蒙求卷一
歷書有交食蒙求七政蒙引二目刻本逸去兹以諸家
所用細草補之并稍為訂定以便初學
日食
一求諸平行
首朔根檢二百恒年表本年下首朔等五種年
根并紀日錄之
朔策用十三月表以所求某月五種朔策之
數錄于各年根下
平朔以首朔日時與朔實及紀日并之(滿二十四)
(時進一日滿六十日去之)
太陽平引以太陽引根與朔策并之
太隂平引以太隂引根與朔策并之
交周平行以交周度根與朔策并之
隨視其宮度
宮二十度四十分内
五宮九度二十分外
六宮十一度二十分内
(十一)宮十八度四十分外
以上俱有食再于實交周詳之
太陽經平行以太陽經度根與朔策并之
二求日月相距
日定均以太陽平引宫度檢一卷加減表如平
引滿三十分進一度查之(記加減號)
月定均以太陰平引宫度檢一卷加減表如平
引滿三十分進一度查之(記加減號)
距弧以日月定均同號相減異號相加即距弧
距時以距弧度分于四行時表月距日横行
内檢取相當或近小數以減距弧得時
(視相當近小數本行上頂格所書時數錄之即是)其餘數再如
法取之得時之分秒(依上法用相當近小數取之)并
所得數即為距時
隨定其加减號
兩均相減者日大則減日小則加
兩均相加者日大則加日小則減
兩均一加一減者加減從日
三求實引
日引弧以距時時及分入四行時表取太陽平
行兩數(兩數謂時及分下同)并之(依距時加減號)
日實引置太陽平引以日引弧加減之即得
月引弧檢四行時表取距時(時分)下太陰平引兩
數并之(依距時加減號)
月實引置太陰平引以月引弧加減之即得
四復求日月相距
日實均以日實引宫度檢一卷加減表如實引
滿三十分進一度查之(記加減號)
月實均以月實引宫度檢一卷加減表如實引
滿三十分進一度查之(記加減號)
實距弧以日月實均同減異加即得
實距時以實距弧度分檢四行時表與前距時
同(加減號亦同前)
五求實朔
實朔置平朔以實距時加減之即得如加滿
二十四時者進一日不及減者借二十
四時減之則退一日為實朔也
六求實交周
交周距弧檢四行時表以實距時(時分)取交周平行
兩數并之即得(依實距時加減號)
交周次平行置交周平行以交周距弧加減之即得
實交周置月實均(記加減號)以加減交周次平行即
得實交周
隨視其宫度以辨食限
凡陰歷宫十七度四十分以内
五宫十二度二十分以外
凡陽歷六宫八度二十分以内
(十一)宫廿一度四十分以外
實交周入此限者並有日食
七求躔離實度
日距弧以實距時(時分)檢四行時表取太陽平行
兩數并之即得(依實距時加減號)
日次平行置太陽經度平行以日距弧加减之即
得
日實度置日實均(記加減號)以加減日次平行即日
實度
八求視朔
加減時以日實度檢一卷加減時表(如日實度滿三十分)
(進一度取足)記加減號
視朔置實朔以加減時加減之即得
九求徑距較數
月距地以月實引查二卷視半徑表月距地數
即得(度取相近者用之)
月半徑查月距地下層有太陰之數即月半徑
月半徑以日實引加減六宫檢視半徑表取太
陽之數即得(日實引在六宫以下加六宫如四宫則用十宫實引)
(在六宫以上减六宫如十宫則用四宫)
并徑以日月二半徑并之即是
月實行以月實引宫度(滿三十分進一度查)檢二卷太隂
實行表(度取相近者用之)
十求近時
總時檢四卷九十度表(九十度表一名黃平象限表其表隨地不)
(同如在京師立算取四十度在江南取三十二度冬依極出地取本表用之)
以日實度取表第一行宫度得相對第
二行幾時幾分另以視朔時分與十二
時相加減得數以加入之即為總時總
時過二十四時去之用其餘
加減十二時法
視朔在十二時以上減去十二時(止用餘數)
視朔在十二時以下加上十二時用之
日距限以總時(時分)入黃平象限本表第二行取
其相對第三行九十度限下之宫度分
用中比例得數與日實度相減即得日
距限度分并東西號
定東西法
日實度大内減限度日在限東
日實度小去減限度日在限西
限距地高以總時(時分)相對本表第五行限距天頂
數置象限九十度減之餘數即限距地
高
日赤道緯以日實度在三宫以下者加九宫在三
宫以上者減去三宫用檢五卷太陽距
赤緯表即得(記書南北號)
日距地高以(日赤緯視朔時)檢六卷高弧表(高弧隨地不同各依北極)
(高度取用)先以緯度或南或北之數檢右直
行次以視朔檢上横行其視朔滿十二
時去之用其餘刻入表(假如十二時三十三分止以三)
(十三分作二刻入表)不滿十二時則置十二時減
之用其餘入表(加減餘一時即作四刻)
月高下差以九求月距地數及日距地高度(滿三十分)
(進一度)檢八卷太陽太陰視差表先以月
距地數檢右直行次以日距地高檢上
横行得數内減去本數上之太陽視差
分秒即月高下差
兩圈交角用本求日距限限距地高(滿三十分進一度)檢
七卷交角表(以限距地查左右直行以日距限檢上横行用中比)
(例取之)得數以減象限即得
定交角置交角加減白道角五度為定交角(實交)
(周是宫十一宫日距限在限西則減在限東則加若實交周是五宫六宫日)
(距限在限西則加在限東則減)
時差用定交角月高下差檢八卷時氣差表
(以定交角檢左右直行以月高下差檢上横行)即得時差(順度用上)
(時差號逆度用下時差號)
近時距分月實行化秒為一率六十分為二率時
差化秒為三率二三相乘一率除之即
得(零及半者收作一數)
近時置視朔以近時距分加減之即得(日在限西)
(則加限東則減如定交角大于象限則反其加減若適足象限則無時差即)
(以視朔為食甚真時不用後法)
十一求真時
近總時置總時以近時距分加減之即近總時
(日在限西則加限東則減)
日距限以近總時如前法取之記東西號
限距地高以近總時如前法取之
日距地高以日赤道緯及近時如前法檢高弧表
月高下差以九求月距地及(本求)日距地如前法檢
視差表
兩圈交角以日距限限距地高如前法檢交角表
(如前加减為定交角)
近時差以定交角度及月高下差如前法檢時
氣差表
視行以近時差與先得時差相減為較若先
得時差小以較減之若先得時差大以
較加之即為視行又捷法倍先得時差
内減去近時差得視行亦同
真時距分以十求内先得時差化秒與近時距分
相乘為實以視行化秒為法除之即得
真時置視朔以真時距分加減之即真時(亦以)
(限西加限東減)
十二求考定真時
真總時復置總時以真時距分加減之(日在限西則加)
(限東則减)即真總時
日距限限距地高(並以真總時查)日距地高(以真時)
月高下差兩圈交角(定交角)以上並如前法
(真時差氣差)以本求(定交角月高下差)如前法取(時差表内得時差即)
(得氣差)
以真時距分與月實行化秒相乘為實
一小時化秒為法除之得數為真距度
(秒六十收為分)
食甚定時以所得真距度與本求真時差相較若
相等者即用真時為食定時(如此即不用後條距)
(較考定法)
距較度分若(真距度真時差)相較有餘分即為距較度分
(差數秒不論)
距時損益分以真時距分與距較度分化秒相乘為
實十求内先得時差化秒為法除之得
數為距時損益分若真時差大于真
距度則為益分真時差小于真距度
則為損分(須記損益分)
(考定)真時距分置真時距分以所得損益分如號損益
之即是
(考定)食甚時復置視朔時以考定真時距分加減之
(東減西加並如原號)為考定食甚時
十三求食分
距時交周以實朔與真時相減得較數如前法取
四行時表交周度即得(限東為減號限西為加號)
定交周置實交周以距時交周加減之即得
月實黃緯以定交周檢太陰距度表(依中比例求之式如左)
假如定交周宫十度十四分求共黃緯
一率全度六十分二率三百七秒
三率小餘十四分四率七十一秒
以所得四率(七十一秒收為一分一十一秒)如十度黃
緯共得黃緯五十二分五十七秒其
緯在北
中比例加減法(表上數前少後多者加前多後少者減)
辨月緯南北並視定交用是(宫十五宫六宫一宫)其緯在(北南)
月視黃緯置月實黃緯以氣差加減之即得視緯
凡月實緯在南以氣差加月實緯在北
以氣差減若實緯在北而氣差大于實
緯當以實緯轉減氣差為視緯其緯變
北為南
并徑減距置前并徑内減去一分再以月視緯減
之即并徑減距如月視黃緯大于并徑
不及減則不得食矣
食分倍日半徑為一率十分為二率并
徑減距為三率求得四率為食甚分秒
十四求初虧時刻
日食月行(復圓同用)以日實引檢八卷日食月行表(分三表查)五
六七宫在最高限取(二三四八九十)宫在中距
限取一十一宫在高衝限取(如日實引滿十)
(五度進一宫查之)法以月實引宫檢直行(如月實引)
(滿十五度亦進一宫查之)又以月視黃緯分檢上横
行取縱横相遇之數即所求日食月行
度分
前總時以十二求真總時内減一時即前總時
日距限(記東西號若真時在限西而初虧限東則為異號)限距地(並以前總時如法求之)
日距地高置真時内減一時如前法以日赤緯檢
高弧表
月高下差以(九求)月距地及(本求)日距地高如前法檢
視差表
兩圈交角(定交角)以(本求)日距限及限距地檢交角表(如前法求之)
前時差以(本求)定交角及月高下差如前法檢時
氣差表
差分以(前真)時差相減併即差分(法恒用減惟定交角過九)
(十度則相併角其東西異號者恒相併惟定交過九十度則相减)
視行置月實行以差分加減之即得視行
日在限(西東)前時差大則(加減)小則(減加)
若差分用併者則恒減(又若食甚真時定交角滿象限)
(無真時差可較即用前時差減或初虧定交角滿象限無前時差即用真時差)
(减並減實行為視行)
初虧距時分以本求視行化秒為一率一小時六十
分為二率置日食月行分内減一分化
秒為三率二三相乘為實一率為法除
之得數即初虧距時(以滿六十分為一時)
初虧時刻置真時(即食甚)内減去初虧距時分即初
虧時刻
十五求復圓時刻
後總時用十二求真總時加一時即後總時
日距限以後總時如前法求之(記東西號若真時在限東復員)
(在限西為異號)
限距地高以後總時取之並如前法
日距地高用真時加一時以日赤緯檢高弧表(如前法)
月高下差以月距地(九求)及本求日距地高檢視差
表(如前法)
兩圈交角(定交角)以本求日距限限距地高檢交角表(如前法)
後時差以(本求)定交角及月高下差檢時氣差表
差分以後時差與真時差相減併得差分(法同)
(初虧)
視行置月實行以差分加減之即得視行
日在限(西東)後時差大則(減加)小則(加減)
(若差分用併者恒減可又若食甚眞時定交角滿象限無眞時差較卽用後時差或復)
(員定交角滿象限無後時差亦卽用眞時差法恒用減與初虧同)
復圓距時分置日食月行分(即初虧所用)内減一分化秒
為三率一小時六十分為二率本求視
行化秒為一率二三相乘為實一率為
法除之得復圓距時(分滿六十為時)
復圓時刻置真時恒以復圓距時加之即得
十六求宿度
黃道宿度置日實宫命黃道宫名即食甚時黃道
宫度(宫起星紀)以各宿黃道宿鈐近小者
去減黃道宫度即得食甚時黃道宿度
(記寫宿名)法以所求年距歷元戊辰之算乘
歲差五十一秒加入宿鈐然後減之如
加歲差後宿鈐轉大于食甚黃道不及
減退一宿再如法減之(如角宿不及減用軫宿是也)
赤道宫度以黃道宫度入一卷升度表對度取之
(黃道滿三十分進一度查)即得所變食甚時赤道宫
度(記寫宫名)
或檢儀象志八卷取用亦同
赤道宿度以所入宿黃道宫度并其宿南北緯度
入儀象志八卷内如法求其宿赤道宫
度置所得食甚時赤道宫度以本宿赤
道宫度減之餘為食甚時赤道宿度
又法以弧三角求之其法别具(見補遺)
定日食方位食八分以上者初虧正西復圓正東不
及八分者看月實黃緯號在南者初虧
西南食甚正南復圓東南黃緯號在北
者初虧西北食甚正北復圓東北
宫至五宫為陰歷其號在北
六宫至十一宫為陽歷其號在南
又法不論東西南北惟以人所見日體
上下左右為憑詳交會管見
補遺
帶食法
求日有帶食
若食在朝者初虧時刻在日出前食在暮者復圓時刻
在日入後是有帶食也
求帶食距分
若帶食在朝者以日出時刻在暮者以日入時刻並與
食甚時刻相減餘即為𢃄食距分
辨食分進退
凡日出入時刻在食甚前其所帶食分為進也(食在朝為不見)
(初虧尚可見食甚復圓日在暮為但見初虧不得見食甚復圓)
若日出入時刻在食甚後其所帶食分為退也(食在朝為不見)
(初虧食甚但見復圓食在暮為可見初虧食甚不見復圓)
若日出入時刻與食甚同則不用更求帶食分即以原
算食分為日出入時刻所帶食分其食十分者為帶食
既出入(食在朝為不見初虧食在暮為不見復圓)
求帶食出入之分
帶(己退方進)之分者以(復圓初虧)距分化秒為法並以帶食距分
化秒日食月行化秒相乘為實實如法而一得數自乘
又以月視黃緯化秒自乘并而開方得數收為分(以六十秒)
(為分)得日出入時距緯以減并徑餘數以十分乘之為實
太陽全徑為法除之得日出入時帶食之分
算赤道宿度用弧三角法
一求赤道緯度
兩極距二十三度三十一分半為一邊本宿距星去黃
極度為一邊二邊相加為總相減為較總弧較弧各取
餘弦以總弧不過象限兩餘弦相減過象限相加並折
半得初數又以黃道經度為對角取其矢(黃道春分後三宫以)
(正弦夏至後三宫以餘弦並與半徑相減為正矢秋分後三宫以正弦冬至後三宫以餘弦並與半徑相加為)
(大矢)以乘初數為實半徑為法除之得矢較以加較弧矢
得赤道緯度矢矢與半徑相加減得本宿赤道緯度正
弦(加矢較後得數小于半徑則轉減半徑為正弦其緯在北若加後得數大于半徑則于内減去半徑為正)
(弦其緯在南)
一求赤道經度
以所得赤道緯度是北緯與象限相減南緯與象限相
加為去北極度用與兩極距度相加為總相減為較總
較各取餘弦以總弧不過象限兩餘弦相減過象限相
加並折半為初數又以宿去黃極度取矢與較弧矢
相減得較以乘半徑為實初數為法除之得角之矢與
半徑相加减得本宿赤道經度之弦(角之矢小于半徑為正矢其經度在)
(南六宫若矢度大于半徑為大矢其經度在北六宫)
春分至秋分半周為北六宫所得為大矢當于得數
内減半徑為赤道經度之弦
春分後三宫為赤道正弦夏至後三宫為赤道餘
弦
秋分至春分半周為南六宫所得為正矢當置半徑
以得數減之為赤道經度之弦
春分後三宫為赤道正弦夏至後三宫為赤道餘
弦
作日食總圖法(依舊法稍爲酌定)
先定東西南北之向
作正十字線其横者黃道也以左為東以右為西其立
者黃道經圈也以上為北以下為南次以十字交處為
心太陽半徑為界規作圖形以象太陽光體太陽居十
字正中則東西南北各正其位矣
次定食限
十字心為心太陽太陰兩半徑相并為度(用太陽半徑原度以後量)
(視緯亦同)規作大圓于太陽之外是為食限太陰心到此圈
界始得與太陽相切過此則不食也
次求月道
實交周在宫十一宫為月道由陽歷入陰歷也法于
圓周上下各自南北線左旋數五度識之(圓周並分三百六十度)
若實交周是五宫六宫為月道由陰歷入陽歷也則于
圓周上下各自南北線右旋數五度識之並以所識聫
為直線必過圓心是為月邊上經線也于此線上從圓
心量至月視黃緯為度(視緯在北自圓心向上量之視緯在南自圓心向下量之)即
食甚時月心所到點也于此點作横線與月道經線相
交如十字則自虧至復月行之道也此線兩端引長與
大圈相割東西各有一點即為初虧復圓時月心所到
之點也(西為初虧東為復圓)
次考食分
初虧食甚復圓三點各為心以太隂半徑為度作圓形
以象月體即見初虧時太隂來掩太陽其邊相切復圓
時太隂已離太陽其光初滿食甚時太陰心與太陽心
相距最近食分最深若以太陽全徑分為十分則所掩
分數惟此時與所算相符故謂之食甚也
又初虧時或在日體正西或在西南西北復圓時或在
日體正東或在東南東北食甚時或在日體正南或在
正北或食十分則正相掩無南北並以太陽心為中論
其南北東西一一皆如所算又或有時太隂全徑小
于太陽全徑十秒以上兩心雖正相掩不能全食當依
月徑于太陽光界之内規作太隂即見四面露光之象
為金環食也
辨日實度大小法
凡論日食在限東西並以日實度大于黃平限度則
食在限東若小于黃平限度則食在限西其法有三
其一日實度與限度同在一宮之内即以度分之多
少為大小
假如限度在寳瓶宫十度日實度在寳瓶宫十五度是
日實度大則内減限度得食在限東五度也若日實
度在寳瓶宫七度是日實度小則置限度以日實度減
減之得食在限西三度也
其二日實度與限度不同宫則以一宫通作三十度
然後相較
假如限度在寳瓶宫十度日實度在雙魚宫十五度法
以寳瓶宫十度作四十度(寳瓶是一宫一宫者三十度也既原帶有三十度加入今)
(限度十度共得限度四十度為自宫初度算起也)以雙魚宫十五度作七十五
度(雙魚是二宫原帶有六七度加入今日實度十五度共得日實度七十五度亦自宫初度算起也)相
減得日實度大于限度三十五度為食在限東之距也
若限度在寳瓶十度而日實度在磨羯十五度法以實
瓶十度作四十度(解見上)與磨羯十五度相減(磨羯是宫故只用)
(本度亦是從宫初度起算)得日實度小于限度二十五度為食在
限西之距也
其三日實度與限度不同宫而其宫相隔太遠如一
在磨羯寳瓶雙魚一在天秤天蝎人馬則以加十二
宫之法通之然後相較
假如限度在天蝎十五度日實度在寳瓶十度相隔太
遠(天蝎是十宫寳瓶是一宫相隔九宫是太遠也)法當于寳瓶加十二宫得十
三宫十度内減天羯十宫餘三宫十度作一百度内又
減天蝎宫原有十五度餘八十五度為日實度大于限
度之距而食在限東
又如限度在雙魚宫五度日實度在人馬宫二十五度
(雙魚是二宫人馬是十一宫相隔九宫)法當于雙魚加十二宫得十四宫
五度内減人馬十一宫餘三宫五度作九十五度
内又減人馬宫原有二十五度餘七十度為日實度小
于限度之距而食在限西
凡限度為地平上黃道半周之最高度日實度或在
其東或在其西皆距限度在一象限内若過象限即
在地平以下不得見食矣故無隔三宫以上之事然
反有隔九宫以上者右旋一周之度畢于人馬(十一宫)
而復起磨羯(宫)故以加十二宫之法通之而隔九宫
以上者距度反近亦只在三宫以下為象限内而已
歷算全書卷二十六
