歴算全書卷五十六
宣城梅文鼎撰
方圓冪積一卷
方圓冪積說
歴書周徑率至二十位然其入算仍用古率(十一與十四之比例)
(本祖冲之徑七周二十二之密率)豈非以乘除之際難用多位歟今以
表列之取數殊易乃為之約法則徑與周之比例即方
圓二冪之比例(徑一則方周四圓周三一四一五九二六五而徑上方冪與員冪亦若四與三)
(一四一五九二六五尾數八位並以表為用)亦即為立方立圓之比例(同徑之立)
(方與圓柱若四與二一四有竒則同徑之立方與立員若六與三一四有竒)殊為簡易直截
癸未歲匡山隠者毛心易乾乾偕其壻中州謝野臣惠
訪山居共論周徑之理因反覆推論方員相容相變諸
率庚寅在吴門又得錫山友人楊崑生定三方員訂註
圖說益覺精明甚矣學問貴相長也
方圓相容
新法歷書曰割圓亦属古法盖人用圭表等測天天圓
而圭表直與圓為異類詎能合歟此所以有割圓之法
也新法名為八線表云
又云徑一圍三絶非相凖之率然徑七圍二十二則盈
徑五十圍百五十七則朒或詳繹之則徑一萬圍三萬
一四五九雖亦小有竒零不盡然用之頗為相近
今算得平方與同徑之平圓其比例若四與三一
四五九平方内容平員平員内復容平方則内方與外
方内員與外員之冪皆加倍之比例
假如戊己庚辛平方内容甲乙丙丁
員員内又容甲乙丙丁小平方小方
内又容壬丑癸子小平員如此逓互
相容則其冪積皆如二與一也
假外大平方(戊己庚辛)之積一百則内小平方之積(甲丁乙丙)必
五十平員亦然
若求其徑則成方斜之比例大徑如斜小徑如方
假如内小平方積一百以甲丁或丙乙為徑(甲丙或丁乙並同)
開方求一百之根得徑一十其外大平方積二百以甲
乙或丁丙為徑(或用戊庚或己辛或己戊或辛庚為徑並同)開方求二百之
根得徑一十四一四有竒
甲乙為甲丁方之斜故斜徑自乘之冪與其方冪若二
與一而其徑與斜徑若一十與一十四(一四竒)也折半
則為五與七(七竒)故曰方五則斜七有竒也
三邊形内容平員平員内又容三邊則其冪之比例為
四與一甲乙丙三邊形内容丁戊己
平員平員内又容丁戊己小三邊則
内小三邊形為外大三邊形四之一
内外兩平員之冪其比例亦為四與一
若有多層皆以此比例逓加
渾員内容立方立方内又容渾員如此逓互相容則外
員徑上冪與内員徑上冪為三倍之比例外立方與内
立方之徑冪亦然丙庚丁渾員内容丙甲丁乙立方丙
戊及戊甲皆立方邊(丙辛及甲辛並同丙乙及甲丁等亦同)丙戊甲辛為
立方面(餘六面並同)丙甲(為方面斜線)丙丁(為立方體内對角線)即渾員徑(乙甲)
(同其辛壬及己戊皆亦對角若作線亦同)丙乙及甲丁等又皆為立楞(戊壬及辛己同)
解曰立方面上斜徑之冪為方冪之倍(句股法也)
(斜為弦方為句又為股併句股實成弦實故倍方冪即成斜徑之冪)又以斜徑
為股立方之立楞為句求得立方體内兩對
角之斜徑為弦此弦實内有股實(即面上斜徑之冪為)
(方冪者二)有句實(即立楞之冪立楞原即方邊故其冪即立方面冪)共得方
冪三而此丙對角斜徑即渾員之徑内小員徑又在立方體内
即以方徑為徑其徑之冪即立方面也故曰三倍比例也
立方内又容立員則内員徑即立方之徑
若求其徑則外徑大于内徑若一十七有竒與一十
内徑之冪百開方得一十為徑則外徑之冪三百開方得一
十七(又三十五之一十一)為徑若有幾層互容皆以此比例逓加卽得
若求其體積則為五倍有竒之比例(若有多層亦以此比例逓加)
假如内容立方積一千則外大立方積五千一百九十四有竒
解曰立積一千則其徑冪一百而外大立積之徑冪三
百又以徑一十七(又三十五之一十一)乘之得五千一百九十四
(又七之二)此言大方積又在圖上渾員之外
積之比例
立方同徑之立員其比例為六與三一四
立方同徑之員柱其比例為四與三一四
員柱與同徑之立員其比例為三與二
方圓周徑相求
同積較徑為方變員員變方之用
凡方圓同積則員徑大方徑小其比例若一一二八三
七九與一
解曰員徑一一二八三七九則方徑一也
法曰有員徑求其同積之方徑當以一乘
以一一二八三七九除
有方徑求其同積之員徑當以一一二八三七九乘以
一除
凡方員同積則員徑上平方與方徑上平方其比例若
四與三一四一五九二六五
解曰員徑自乘四則方徑自乘三
一四一五九二六五
法曰有員徑求其同積之方徑當以三一四一五九二
六五乘之四除之得數平方開之
得方徑
有方徑求其同積之員徑當以四
乘三一四一五九二六五除得數平方開之得員徑
凡方員同積則員徑與方徑若一與
八八六二二六
解曰員徑一則方徑八八六二二六也
法曰有員徑求同積之方徑以八八六二二六乘員徑
一除之即得方徑
有方徑求同積之員徑以一乘方徑八
八六二二六除之即得員徑
約法
以一一二八二七九乘方徑去末六位得同積之員徑
以八八六二二六乘員徑去末六位得同積之方徑
同積較周
凡方員同積則員周小方周大其比例若一
與一一二八三七九亦若八八六二二六與一
解曰員周一則方周一一二八三七九
也
方周一則員周八八六二二六也
約法
以一一二八三七九乘員周去末六位得同積之方周
以八八六二二六乘方周去末六位得同積之員周
凡方員同積則其徑與徑周與周為互相視之比例
解曰方周與員周之比例若員徑與方徑也
論曰凡同積之周方大而員小同積之徑則又方小而
員大所以能互相為比例
約法
以方周乘方徑為實員周除之得員徑若以員徑除實
亦得員周
以員周乘員徑為實方周除之得方徑若以方徑除實
亦得方周皆用異乘同除例如左
一員周一一方周一
二方周一一二八三七九二員周八八六二二六
三方徑二八二九四(七五)三員徑二八二九四(七五)
四員徑三一八三九(八八)四方徑二五
積七九五七七(四四八)積六二五
一員徑一一方徑一
二方徑八八六二二六二員徑一一二八三七九
三方周三五四四九四三員周三五四四九四
四員周三一四一五九二四方周四
積七八五三九(八一六)積一
第四率並與一率乘得四倍積四除之得本積
論曰以上皆方員周徑互相求乃同積之比例方員交
變用之即比例規變面線之理
同徑較積較周即方内容員員外切方
凡方員同徑則方積大員積小周亦如之其比例若四
與三一四一五九二六五
方徑一周四積一
員徑一周三一四一五竒積七八五三九八一六
方徑二周四積四
員徑二周六二八三一竒積三一四一五九二六五
凡徑倍者周亦倍而其積為倍數之自乘亦謂之再加
比例授時歷謂之平差
徑二倍周亦二倍而其積則四倍徑三倍周亦三倍而
其積九倍乃至徑十倍周亦十倍而積百倍徑百倍周
亦百倍而積萬倍皆所加倍數之自乘數亦若平方謂
之再加也
同周較積較徑
凡方員同周則員積大方積小徑亦如之其比例若四
與三一四一五九二六五
方周一徑二五積六二五
員周一徑三一八三九八八積七九五七七四七
方周四徑一積一
員周四徑一二七三二三九五四積一二七三二三九五四
論曰周四則徑與積同數但其位皆陞皆視周數之位
今用百萬為周則積陞六位成萬億矣故雖同而實不
同不惟不同而且懸絶定位之法所以當明也
問位既大陞而數不變何耶曰周徑相乘得積之四倍
於是四除其積即得所求平積此平冪之公法也兹方
員之周既為四則以乘其徑而復四除之即還本數矣
惟周數之四或十或百或千萬億無定而除法之四定
為單數故無改數而有進位也
又論曰周四倍之徑與周一之徑為四倍其積則十六
倍所謂再加之比例
渾圓内容立方徑一萬寸求圓徑法以方斜一萬四
千一百四十二寸為股自乘得二億為股實以方徑一
萬寸為句自乘得一億為勾實併勾股實為三億為弦
實開方得弦一萬七千三百二十半寸命為渾圓之
徑
又以渾圓徑求圍得五萬四千四百十四寸弱周徑
相乘得九億四千二百四十七萬六九九四寸為渾冪
以四除渾冪得二億三千五百六十一萬九千二百四
十八寸竒為大平圓冪即立方一萬寸外切渾圓之腰
圍平冪也
圓柱積四萬千八百十億四三一八四九八四寸
以渾圓徑乘平圓冪得之
倍圓柱積以三除之得渾圓積二萬七千二百六九
五四五六六五六寸
約法立方徑一千尺其積一十尺外切之渾圓徑
一十七尺三二五渾圓積二千七百二十尺六
九五四約為二千七百二十一尺弱
試再用徑上立方求渾圓積法(即立方内求所容渾圓)以渾圓徑
自乘再乘得渾圓徑上立方以圓率(三一四竒)乘之得數六
除之得渾積並同
立方與員柱若四與三一四竒(同徑之員柱也)
立方為六方角所成員柱為六員角所成其所容角體
並六而方與員異故其比例如同徑之周此條為積
之比例
員周上自乘之方與渾員面冪若三一四竒與一
渾員面冪與員徑上平方形亦若三一四竒與一
皆員周與徑之比例
渾員面冪與員徑上平員若四與一
員柱面冪與員徑上平員若六與一(六員角之底皆外向合成此數)
平員並為一而員柱冪為其六倍渾員冪為其四倍渾
員為員柱三之二即此可徵積之比例如其面也以上
四條並面冪之比例渾員體與員角體若四與一
渾員面既為平員之四倍從面至心皆成角體故體之
比例亦四倍
立方面與徑上平方若六與一(六面故也)
立方體與渾員體若六與三一四竒
渾員面與徑上平方既若三一四竒與一而立方
面與徑上平方若六與一平方同為一而立方面
為其六倍渾員面為其三倍一四竒故立方之面與渾
員之面亦若六與三一四竒也而體之比例同面
故亦為六與三一四竒
立員得員柱三之二
論曰凡員柱之面及底皆立員徑
上平員也旁周似員筩亦如截竹
周圍並以員徑為高即員徑乘員
周冪也為徑上平員之四倍與渾
員面冪同積(半徑乘半周得平員則全徑乘全周必平員之四倍)合面與底共得
平員之六倍而渾員面冪原係平員之四倍是員柱冪
六而渾員冪四也而體積之比例凖此可知亦必為三
之二矣(三之二即六之四之半)
問體積之比例何以得如面冪曰試於員柱心作員角
體至面至底成員角體二皆以半
徑為高平員為底其餘則外如截
竹而内則上下並成虚員角于是
縱剖其一邊而令員筩伸直以其
冪為底以半徑為高成長方錐(底闊)
(如全徑直如員周高如半徑錐只一點)此體即同四
員角(或縱剖為四方錐亦同皆以周四分之一為底闊以全徑)
(為底長以半徑為高其體並同員角何也以周四之一乘全徑與半)
(徑乘半周同故方底同員底而其高又同則方角同員角)合面
底二員用共六員角矣而渾員體
原同四員角(渾員面為底半徑為高作員錐即同四員)
(角)是員柱渾員二體之比例亦三
與二也
員角體得員柱三之一凡角體並同
凖前論員柱有六員角試從中腰平截為兩則有三員
角而員筩體原當四員角今截其半仍為二員角或面
或底原係一員角合之成三員角以為一扁員柱然則
員角非員柱三之一乎
若立方形各從方楞切至心則成六方角(皆以方面為底半徑為高)
從半徑平切之為扁立方則四周之四方角皆得一半
成兩方角而或底或面原有一方角亦是三方角合成
一扁立方而方角體亦三之一矣
渾員體分為四則所分角體各所乘之渾冪皆與員徑
上平員冪等
甲戊丙丁渾員體從丑乙辰乙癸乙子乙卯乙寅乙等各半
徑各自其渾冪透至乙心而以半徑旋行而割切之則成上
下兩員角體一甲卯辰丑乙(以甲丑卯辰割渾員之面為底乙為其銳此割員曲徑自)
(丑而甲而辰居員周三之一)一丙癸寅子乙(以子丙寅癸渾員之割面為底乙為其銳此割員曲徑亦)
(三之一如三百六十之一百二十)此上下兩角體
相等皆居全渾體四之一中腰成
鼓形而上下兩面並穵空各成虚
員角(其外則周遭皆凸面如丑戊子及辰丁癸之割員状此割)
(員曲徑自辰而丁而癸居員周六之一為三百六十之六十)
此鼓形體倍大于上下兩角體居渾員全體之半若從
戊乙丁腰横截之為二則一如仰盂一如覆碗而其體
亦渾員四之一也
如此四分渾體而其割員之面冪即各與員徑上之平
員冪等故曰渾員面冪與徑上平員若四與一也
問何以知中腰鼓體能倍大于上下兩角體曰試于子
丙乙癸角體從子寅癸横切之則成子未癸午小員面
為所切乙子寅癸小員角體之底
乃子寅小半徑乘子未癸小半周
所成也然則以子寅小半徑乘子
未癸小半周又以乙寅半半徑為
高乘之而取其三之一即小角體矣
試又于中腰鼓體從丑子及卯寅
及辰癸諸立線周遭直切之脫去
其外鼓凸形即成員柱體之外周
截竹形又從酉乙申横切之為兩
(一仰盂一覆碗)則此覆碗體舉一式為例
可直切斷而伸之亦可成方角體
此體以乙寅半半徑乘子未癸午
小員全周為底(其形長方)又以小半徑
子寅(子寅即乙申)為高而乘之取三之
一為長方角體此長方角體必倍
大于小員角體何也兩法並以小
半徑及半半徑兩次連乘取三之
一成角體而所乘者一為小員全
周一為小員半周故倍大無疑
也
又丙癸寅子亦可成角體與乙子
寅癸等覆碗體既倍大則兼此兩
角體矣
凖此而論仰盂體必能兼甲丑卯辰及乙辰卯丑兩角
體亦無疑也
又角體内既切去一小角體又穵
去一相同之小角體則所餘者為
丙癸寅子員底仰盂體
鼓體内既穵去如截竹之體則所
餘者為内平(如丑子及辰癸)外凸(如子戊丑及辰)
(丁癸)之空圈體而此體必倍大于員
底仰盂體何以知之盖兩體並以
半徑為平面(丑子與癸丙並同)並以員周
六之一為凸面而腰鼓之平面以
半徑循員周行員底仰盂之平面則以半徑自心旋轉
周行者兩頭全用旋轉者在心之一頭不動而只用一
頭則只得其半矣故决其為倍大也
凖此而甲丑卯辰亦為穵空之員覆碗體而只得鼓體
之半矣由是言之則上下角體各得中腰鼓體之半而
鼓體倍大于角形渾體平分為四夫復何疑
曰渾體四分如此真無纖芥之疑體既均分為四則其
渾體外冪亦勻分為四亦無可復疑但何以知此所分
四分之一必與徑上平員相等耶曰此易明也凡割渾
員一分而求其冪法皆從其所切平面員心作立線至凸
面心而以其高為股員面心至邊之半徑為勾勾股求
其斜弦用為半徑以作平員即與所割圓體之凸面等冪
假如前圖所論上下兩角體從丑夘辰横線切之則以甲夘
為股夘丑為句求得甲丑弦與半徑同以作平員與丑夘辰
甲凸面等然則此角體之凸面豈不與徑上平員等冪乎
甲亢半徑與甲丑同以作丑
亢平員與甲丑夘辰凸面等
冪
試又作甲戊線為半徑之斜線(甲乙與戊乙皆半徑為句為股故也)以為
半徑而作平員必倍大于半徑所作之平員而渾員半
冪與之等則渾員半冪不又為平員之倍乎
(如圖甲丑為半徑作乙庚房平員與丙戊甲平員等亦與甲辰夘丑)
(割員凸面等為渾冪四之一也)
(甲戊為半徑作戊心亥平員與甲丁乙戊半渾冪等而倍大于乙庚)
(房亦倍大于丙戊甲平員則平員居渾冪四之一)
如是宛轉相求無不脗合則平員為渾員冪四之一信矣
取渾冪四之一法
當以半徑為通弦以一端抵圓徑之端為心旋而規之
則所割渾冪為四之一而其渾冪與圓徑上平員冪等
甲辰(即丁乙)之自冪一百辰夘之自
乘冪(七十五)如四與三則辰丑通弦
為徑以作平員亦丁戊全徑上平
員四分之三也大小兩平員各為
底以半徑為高而作員角體其比
例亦四與三也
今渾員徑上平員(即下戊徑上平員)所作之員角體既為渾積
四之一則辰丑通弦徑所作之員角體即渾體十六之
三矣(即甲丑夘辰角體及乙丑夘辰角體之合)若以丑辰通弦上平員為底
半半徑為高而作角體即渾體三十二之三
分渾體為四又法
甲乙丙渾員體從員周分為三(一丑甲辰一辰癸丙一丙子丑各得周三)
(之一)又從辰從丙從丑依各半徑(辰乙丙乙丑乙皆是)至乙心旋而
切之則成三角體者三各得渾體
四之一(一辰甲丑乙一丑子丙乙一丙癸辰乙說見前)則
其所餘亦渾體四之一也(此餘形有三平)
(員面以辰丑丑丙辰丙為員徑而並穵空至乙心如員錐之冪有兩)
(凸面以辰丑丑丙辰丙之員周為界以乙為頂皆弧三角形三角並銳)兩凸面各得渾員冪八之一
按辰丑即一百二十度通弦也凖前論以此通弦為圓
徑作平員為底半半徑為高而成員角體此員角體積
即為渾員體積三十二分之三(即先所論員角體八之三)
若依此切渾員體成半平半凸之體其積為渾積三十
二之五(即員角體八之五)
環堵形面冪錐形面冪
有正方正員面欲於周作立圍之堵牆而冪積與之倍
法於方面取半徑為高即得
甲乙丙平方於其周作立起之
方圍形如環堵取平方乙丙半
徑為高則方圍面冪倍大於平方
論曰從平方心乙對角分平方為四成四三角形並以
方根為底半徑為高于是以此四三角形立起令乙銳
上指則皆以乙丙半徑為高而各面皆半冪故求平方
以半徑乘周得冪也然則依方周作方牆而以半徑為
高豈不倍大於平方冪乎
凖此論之凡六等邊八等邊以至六十四等邊雖至多
邊之面而從其各周作牆各以其半徑為高則其冪皆倍
于各平冪矣然則平員者多邊之極也若於其周作立
圈如環而以其半徑為高則環形冪積亦必倍大於平員
有方錐員錐於其周作圍牆而冪積與之倍
法於錐形之各斜面取其至銳之中線(如乙丙)以為環牆
之高即得
方牆如環堵底用方周高如乙
丙即斜面自銳至底之斜立中
線
解曰此以錐體之斜面較冪也
論曰凡方錐皆有稜兩稜交于銳各成三角面而斜立
從此斜立之三角面自銳至根闊處平分之得中線(乙丙)
于是自稜剖之成四三角面而植之則中線直指天頂
而各面皆圭形為半冪故凡錐體亦可以中線乘半周
得冪也然則于底周作方牆而以中線為高四面補成
全冪豈不倍大乎
凖此論之凡五稜六稜以上至多稜多面之錐體盡然
矣而員錐者多稜多面之極也則以其斜立線為高而
自其根作員環則其員環之冪亦必倍大于員錐之冪
前條所論切渾員之算得此益明盖員仰盂員覆碗及
穵空之鼓形其體皆一凸面一平面相合而成其凸面
弧徑皆割渾員圈六之一其平面之闊皆半徑然而不
同者其内面穵空之平冪一為錐形(仰盂覆碗之内空如笠)一為
環形也(鼓體之内空如截竹)准前論穵空之環冪必倍大於錐形
之冪則其所負之割渾員體亦必環形所負倍大於錐
形而穵空之鼓體必能兼員覆碗員仰盂之二體
撱圓算法(訂歷書之誤)
偶查撱圓求體法見其截小分之法有誤今以數考之
假如撱圓形長徑為一千四百尺短徑七百尺大分截
長徑一千五十尺
甲己三百五十戊乙七百相并得
一千五十以此乘
己乙一千五十尺以此除
兩數相同
右依歷書先求得庚壬甲圓角形為苐三率再用截大
分軸己乙為法為苐一率以截小分軸甲己并戊乙半
長徑為苐二率求得小分之容與圓角形等夫小分之
容形外為弧線圓角之容形外為直線小分必大于圓
角而今等是不合也况自此而截小分漸小則乙己大
分軸反大于甲己小軸及戊乙并之數而求小分之容
反將更小于圓角矣有是理哉(小分漸小如辛癸甲則其甲己小于己戊而己)
(乙者己戊與戊乙并也則其數亦大于甲己與戊乙并矣)
又如截大分長七百二十分己乙
為其軸甲己為其小分軸六百八
十分
依歷書法甲己小分軸(六百八十)為一率甲乙長徑(一千四百)并
戊乙短徑(七百)共(二十一百)為二率求到庚壬乙圓角體為三
率則所得四率為大分之容者比圓角容大三倍有竒
亦恐無是理也何也圓角在圓柱形為三分之一而撱
形必小于柱形不宜有三倍之比例也(雖壬庚略小于丙丁在中腰相)
(近可以不論)今試求之(用苐一圖)依勿庵改法
假如截己乙大分軸一千五十尺求庚己壬平圓面
法先求庚己依勿庵補法以己戊(三百五十尺)自乘(一十二萬)
(二千五百尺)與甲戊(七百尺)自乘(四十九萬尺)相減餘(三十六萬七千五百尺)
開方得己庚相當之原數再以丙戊(三百五十尺)乘之甲
戊(七百尺)除之為己庚實數倍之為庚壬線
再以壬庚線上方變為平員今用簡法(因長徑甲乙與短徑丙丁原是)
(折半之比例故也)竟以減餘(三十六萬七千五百尺)命為庚壬線上方以
十一乘之得(四百四萬二千五百尺)又以十四除之得(二十八萬八千七百)
(五十尺)為庚壬線上所截撱體之平圓面
法以平圓面各乘其(大分小分)之軸(一千五十尺三百五十尺)皆成圓
柱形乃三除之為(大小)分内所容之(大小)圓角形
再以長徑(一千四百尺)乘大圓角為實小軸(三百五十尺)除之為
所截撱形之大分
以長徑(一千四百尺)乘小圓角為實大軸(一千五十尺)除之為所
截撱形之小分
今用簡法置平圓面三除之得(九萬六千二百五十尺)以小分
軸(三百五十)乘之得庚甲壬小圓角形(三千三百六十八萬七千五百尺)
置小圓角四因三除之得(四千四百九十一萬六千六百六十六又三之二)為
所截小圓分
又置圓面三除之積(九六二五)以大分軸(一千五十尺)乘之得
庚子乙大圓角形(一億一百六萬二千五百尺)
置圓角形(一一六二五)用四因之得(四億四百二十五萬尺)為所
截大圓分
小圓分大圓分兩形并之(共四億四千九百一十六萬六六六六)為撱形
全積
另求撱形全積
置短徑(七百)自乘得(四十九萬)以長徑(一千四百)乘之得(六億八千六百萬)
以十一因之二十一除之得(三億五千九百三十三萬三三三)為真撱
圓全積
以真撱圓積與兩截形并相較其差為九十分之一而
弱
若用歷書法求得截小分(二千三百六十八萬七千五百尺)與小圓
角同
截大分(六億六百三十七萬五千)為大圓角之六倍
相并得(六億四千六萬二千五百尺)為撱圓全積與撱圓真積
相較其差更甚
如是輾轉推求則知撱體大截分不可算今别立法
凡撱體皆先如法求其全積再如法求其小分截積以
小分截積減全積餘為大分截積此法無弊可存
歷算全書卷五十六
