歷算全書卷十八
宣城梅文鼎撰
七政細草補註
推日躔法
先查年根(冬至後一日子正距冬至)隨錄本年高衝(年根子正高沖)後查日
數(本日子正距冬至後一日子正之平行)隨錄高行(亦本日子正距冬至後一日子正之高行)
高行加入高衝書於高衝格内(即本日高沖所在)年根日數相
加得平行(即本日距冬至之平行)平行内減去高衝為引數(即得本日)
(子正距高沖)以引數查加減表相較(用中比例)得均數隨記加減
號均數依號加減於平行即得細行(人目所見視度)細行内按
宫度減宿次即得本日宿也
鼎按年根者冬至後一日子正之平行也日數者每
日之平行也故相加即為本日之平行
邵本云凡算宿鈐以戊辰年為主每年加五十一秒
所積之秒以六歸之加於宿鈐之内再與細行相
減
高衝者太陽最卑點距冬至之度每年東行一分
推月離法
先查四年根獨正交行加六宫後查四日數俱年日相
加得三平行而正交年日相減為正交平行書本日太
陽細行即按細行宫度查日差表得數記書加減號按
數至時刻平行表内查得日差兩書之依號加減於平
行總平行引以平行引查加減表相較(中比例)得均數記
加減號均數依號加減於平行總平行引即為實行實
行引實行内減去太陽度為月距日次引以月距日次
引同實行引宫度查表(二三均數表)相較得次均次均依號
加減於實行即白道經度(邵本云即白經恒減)以月距日次引查
交均記加減號隨查大距數交均依號加減於正交平
行即正交經度正交經度加六宫即中交置白道經度
内減去正交經度即月距正交以月距正交查白道同
升差表得同升差記加減號白道經度與同升差依號
相加減為黃道視行以月距正交與大距數查緯表(即黃)
(白距度表)得視緯減宿照日躔減法同
邵本云錄本日太陽細行而太陽恒減以太陽恒減
查日差表記得數於旁加減號記於月離日差之旁
次將所得之數查時刻平行表如查出之數只分秒
耳即日差以兩平行與日差照號加減得平行總平
引
又云以月距日次引查二三均表直行以實行查橫
行所遇之處即得
如月距日次引過六宫減去然後查表
内行宫度順查外行宫度逆查而粗格所在即加減
所分
按楊學山云月之二三均數以距日而生與五星歲
輪同理但其行法却異於五星兼有又次輪附於次
輪之上與次均相消相長表乃二均三均之總數故
與五星次均表絶殊其加減之句亦不以六宫而分
月之交均距限亦以距日而生地谷以前無之也
推土木星法
先查兩年根(冬至後一日子正星距冬至及引數)後查正交行再查日數
(年根距冬至及引數之下各書日數)兩書之年日相加得平行平引(年根距冬)
(至引數各加日數為平行與平引即所求本日子正)以平引查加減表相較(中比例)
得均數隨錄中分(加減表中分)記書加減號均數依號加減
於平行得實經(歲輪心所到)即書本日太陽細行(日躔條求得數)於
格太陽内減去實經即次引(本日星在歲輪距合伏)以次引查次
均隨得較分亦相較(中比例)記書加減號中較相乘六十
歸之得三均三均與次均恒加即定均將定均依次均
號加減於實經即視經(遲留逆伏之度)減宿照日躔減法同置
實經於交行下内減交行即得距交(所求日星距正交)以距交
查中分(緯表内之中分)以次引(即前所得歲輪上星距合伏)查緯限中緯相乘
六十歸之得視緯定南北以距交宫度定之前六宫(一)
(二三四五)號北後六宫(六七八九十十一)號南
按學山云五星三均恒用加者以歲輪心自最高至
最卑次均皆漸大而表所列次均數乃置輪心在最
高時算也
五星加減表中分是從高卑立算緯度中分是從交
點至半交立算乃歷家簡括之法若依三角形算則
不用中分矣
推火星法
先查兩年根(距冬至引數)隨錄正交行後查日數(兩年根之下各書日)
(數)兩書之年日相加為平行平引以平引查加減表相
較(中比例)得均數即書加減號均數依號加減於平行得
實行實引隨錄本日太陽細行太陽内減去實行得相
距若相距過六宫則於實行内減去太陽得距餘減距
餘之半即得距餘半此係後六宫者若前六宫即將相
距減去一半為半距無距餘半太陽内減去高衝改作
對衝宫為日引(加六宫即是從最高起)以實引查距日及半徑以
日引查日差半徑日差相加得星數(星數即歲輪半徑)星數與
距日(距日即歲輪心距地)相加為總相減為較以距餘半查八線
表即得半距切線數與較相乘又以總數除之得數再
查八線表取相近切線用之即得減弧半距或距餘半
内恒減去減弧得次均即看相距在前六宫者加(歲輪上從)
(合至沖)後六宫者減(從沖至合)依號加減於實行即視行宿次
照日躔減法同實行内減去正交即距交以距交查中分以相
距(日星相距)查緯限(先定南北)緯有加減分距交在北者依號加
減為定緯限中分緯限相乘六十歸之得緯以距交定
南北前六宫是北後六宫是南
按距日半徑俱以實引取之查各式並同天學會通
亦同
按前六宫是自合伏至沖日後六宫是自沖日復至
合伏皆以歲輪言
邵本於半距切線下注云從距日至再查切線俱逢
十進之
按楊學山云火星半距總較切線等用是斜三角形
有一角二邊求餘角之法也五星皆可用惟日差星
數火星所獨耳
推金水星法
先查三年根(引數伏見距冬至)後查太陽日數兩書之(即用為星平行)
(日數兩書於引數及距冬至下陽金水距冬至平行即日躔表數也金水以太為平行之心)再查本
星表内日數(此則伏見平行之日數)書於伏見行下年日相加得
各平行以引數平行查加減表相較(中比例)得前均即書
加減號隨得中分(加減表中分)前均依號加減於各平行得
實經實引獨伏見行下前均加減號反用得伏見實行
(反用均數加減伏見平行為伏見實行)以伏見實行查二均亦相較(中比例)
書加減號隨得較分中較相乘六十歸之得三均二均
三均恒加即定均并均依號加減於實經即視經減宿
與日躔法同實引内恒加十六度(金星正交在最高前十六度)即得
次實引(即星距正交)以次實引查前中分(前緯表中分)以伏見實
行查前緯限中緯相乘六十歸之記書南北號其後中
分(後緯表中分)後緯限(亦以距交查後中分)亦照前緯查法同(以伏見實行查)
(後緯限)亦書南北號如前後緯號同者兩緯相加(俱南緯俱北緯)
(則相加)如號異者兩緯相減(一南一北則相減)即得視緯其南北
以數大者定之(若異號相減則以南緯大者命其減餘為南北大者則命為北)水星
照此推法同獨無次實引(水星正交與最高同度即以實引為距交)
金水伏見行即土木之次引也
土木以星行歲輪心與太陽相減得次引者是星距
日度即歲輪上距合伏之度
金水則伏見輪心即太陽無可相減故另有伏見之
行
金水次實引即土木之距交也
因水星即用實引數為距交故金星别之為次實引
然殊亂人目不若直名之距交
邵本查後中分後緯下有云必中緯同在一篇者方
可用以便定南北
學山云金水緯行獨有前後二表者以二星之緯皆
由伏見輪而生而伏見輪小於黃道斜交側立旋居
於本天之周作表須前後兩表以該之非星緯實有
前後之分也
學山云金水伏見實行與初均加減號相反者以伏
見輪心之角斜線錯列適與初均成相反之勢故反
加減之得星合伏真度非伏見之行與本輪相反勿
誤認袁說
推火星諸行假如(甲申年距根一百三十五日)
距冬至平行查(本星)二百恒年表(本年下)距冬至橫行(一十)
(一宫六度五十三分五十九秒)隨查日數(二宫十度四十五分)日數與年
根并之得(一宫十七度三十九分)
引數平行查恒年表(本年下)引數橫行(三宫七度五分二十七)
(秒)日數與距冬至同年根日數并之得(五宫十七度五)
(十分)
初均數以引數平行查(本星)加減表得(二度三十分四十二)
(秒)(其號順減書減號於均數之旁)隨錄距日數
距冬至實行以(本星)平行内減去初均數得(一宫一十五度八)
(分)(以均數之號為加減)
引數實行以本平行内減去均數之全數得(五宫十五)
(度十九分)(以均數之號為加減)
太陽即錄本日日躔細行
相距以太陽内恒減去距冬至實行得(二宫二十)
(九度三十五分)
半距即以相距半之若相距過半周則借
全周内減去相距全分即為距餘再將其較半之
即距餘半也
日引以本日太陽加六宫減去日躔表内本
年下最高衝得(十宫八度三十一分)
距日以引數實行查加減表得(八九三七四)勿
菴按距日半徑俱宜用實行
半徑以引數實行查加減表得(六三七一七)
日差以日引查之得(一九一四四)
星數以半徑恒加日差得(六四九八六一)
總數以距日内加星數得(一五四三六一)
較距日内減去星數得(二四三八七九)
半距切線以半距全分查八線表正切線得(九九二四)
(七)
減弧以較數與半距切線相乘得(二四二四二五九)
(一一三)又以總數除之得(一五六八)以此查正切線得
(八度五十五分)
次均半距内恒減去減弧得(一宫五度五十二分)
視行以實行内加次均全分得(二宫二十一度)
正交查(本星)恒年表(本年下)正交橫行得(四宫十七度十)
(三分)
距交以實行内恒減去正交得(八宫二十七度五十五分)
中分以距交查首卷本星緯度得(六十分)
緯限以相距查緯表得(一度二十九分)
視緯以緯限數化作(八十九分)與中分(六十分)相乘
得(五千三百四十分)為實以六十為法除之得(八十九分)以六
十分成度得(一度二十九分)
推凌犯法
月犯恒星以本年七政歷與恒星鈐表恒星經度及南
北緯度月在上相距二度内取月在下相距一度内取
之又以本日與次日之月視行相較化分為一率日法
一千四百四十分為二率恒星經度内減月經度之較
化分為三率二三相乘一率除之得凌犯時刻
月犯五星以本年七政查月與五星經度及南北緯度
月在上相距二度内取月在下一度内取之次以本日
之月視行内減次日之月視行取其較又以五星本日
經度内減次日經度取其較視星順行者兩較相減逆
行者兩較相加化分為一率日法一千四百四十分為
二率以本日五星經度内減月經度為月未及星之距
化分為三率求得四率為凌犯時刻
五星犯五星以本年七政五星經度及南北緯度相距
一度内取用五星各以本日經度與次日經度相減得
較如俱順俱逆者兩較相減一順一逆者兩較相加化
分為一率日法一千四百四十為二率又以本日五星
經度兩相減之較化分為三率如法求得四率為凌犯
時刻
五星犯恒星以本年七政與恒星鈐表經度及南北緯
度相距一度内取用次以五星本日經度内減次日經
度得較度化分為一率日法一千四百四十為二率又
置恒星經度内減本日五星經度得較度化分為三率
如法求得凌犯時刻為四率若五星退行者以五星經
度内減恒星經度為三率
月與星一度為犯十七分以内為凌同緯為掩五星
與星一度為犯三分以内為凌同緯為掩
視凌犯時刻在地平上者取之若在地平下可勿推算
定上下以北為上南為下月緯星緯同在北以月緯多
者在上少者在下月緯星緯同在南則以月緯多為在
下少為在上其兩緯相減若星月一南一北則以月
南為在下月北為在上兩緯相加
推月星凌犯密法
依本年七政歷並恒星鈐視恒星經度及南北緯度月
在上二度内取之月在下一度内取之又以恒星經度
内減本日之月視行得度化分為二率以一千四百四
十分為三率本日之月視行相減其較數度分為一率
二三率相乘以一率除之即得時刻
一求太陽細行以一千四百四十分為一率次日細
行與本日細行相減得較為二率凌
犯時化分為三率二三率相乘一率
除之得四率以四率加於本日細行
得太陽細行
二求時分以太陽細行查交食四卷内(九十度表)得
時分太陽度過三十分進一度查表
得數即是
三求總時以時分及凌犯時刻午後減十二小
時午前加十二小時滿二十四時去
之餘為總時(即應時)
四求九十度限以總時查交食四卷表與時分相對
者錄之得九十度限
五求恒星經度置恒星經度
六求限高度以九十度減距天頂之度分得限高
度
七求月實引置月離内月實引
八求月距地(半徑)以月實引查交食二卷表内得月距
地半徑(邵本作查交食表二卷内視半徑)
九求月實行以月實引查交食二卷表内得月實
行
十求星距限九十度限之宫度分内減星之經度
宫度分為限大則星在西若不及減
置星經度内減九十度限之宫度分
為限小則星在東
(十一)求置正交(經度)置月離内正交經度
十二求較數以正交經度内減九十度限宫度若
九十度限不足減則加十二宫減之
即得較數
十三求真高度以較數查交食二卷太隂距度表得
月實緯分北加南減於限高度得真
高度六宫以上定北加以下定南減
十四求地平差以真高度並月距地半徑求地平差
(見交食九卷表)
十五求時差以地平差變為高下差(查交食表九卷)及星
距限度求時差
十六求較數以真高度置九十度減之餘為較數
十七求氣差以較數及月距地半徑求氣差(交食九卷)
(表内)月距地半徑查上橫行以較數查
右直行
十八求月實緯以凌犯時刻化分為三率本日之月
緯度與次日緯度相較得數化分為
二率與凌犯化分相乘以二十四小
時化分為一率除之得數加減於本
日緯度視南北號順加逆減即月實
緯若南北異號以兩數相加為二率
後除得之數用減本日緯度以次日
之號定南北
十九求視緯以月實緯度南加北減於氣差得視
緯
二十求恒星緯置恒星緯度分
廿一求月距星月視緯北多定上月視緯南多定下
以大減小一度以外不用得月距星
如一南一北兩數相加
(廿二)求凌犯時刻置凌犯時刻
廿三求定時差以月實行分為一率時差分為二率
六十分為三率二三率相乘一率除
之得四率有六十分進一時十五分
進一刻得定時差
廿四求視時以定時差加減於凌犯時刻即得凌
犯視時視星距限度西加東減
南北異號(月南在下月北在上兩數相加)
南北同號同(北南)月緯大在(上下)月緯小在
(下上)兩數相減
按凡推月與五星及恒星凌犯用此式較密
攷節氣法(用變時表依法查之更密)
凡半月一節氣遇細行一十四度與二十九度即是交
節氣之日次日細行與本日細行相減減餘化秒為
一率置六十分以本日細行分秒減之減餘化秒為
二率化二十四小時為一千四百四十為三率二三
率相乘以一率除之得數即四率其分秒用六歸之
收作時刻分查節氣日差加減表(在日躔二卷内凡六十分為一)
(小時若過半分作一分用)一百二十分為一大時十五分為一刻
如不滿一刻作分算時自子正起算
二十九度與次宫度相較為氣
十四度與十五度相較為節
查二至限法
以二至度為主加以本日太陽經度未滿宫度之餘分
即是二至限如冬至日經度為二十九度二十五
分(即此廿五分為未滿之餘分也)而本至宿為箕三度三十五分
加二十五分則為冬至限在箕四度
假如五月初十日太陽在申宫二十九度二十三分
宿在觜十度十二分
問曰夏至限係何宿度分答曰觜宿十度四十九
分
假如十一月二十日太陽在寅宫二十九度十五分
宿在箕二度五十六分
問曰冬至限係何宿度分答曰箕宿三度四十一
分
假如正月十四日太陽在子宫十四度二十一分八秒
十五日太陽在子宫十五度二十二分三秒
問曰立春係何時刻答曰申初初刻十分
假如二十九日太陽在子宫二十九度三十一分二十
五秒
三十日太陽在亥宫初度三十一分十四秒
問曰雨水係何時刻答曰午初一刻六分
定合朔弦望法
合朔以月距日次引滿十一宫二十餘度此日即合
朔也滿十二宫即宫是合朔之次日也
求合朔時刻(凡星同度法同)
以本日太陽與次日太陽相減得較數另記又以本日
之月視行與次日之月視行相減得較仍以兩較數
相減得數化分為一率以一千四百四十為二率又
置本日太陽減去本日之月視行得數即月不及日
之度為三率二三相乘一率除之得數再以六十分
收之為時餘以十五分收為刻即得時刻及分
假如正月初一日太(陽隂)在子宫(十四度十五分二十秒十度二十三分十二秒)
初二日太(陽隂)在子宫(十五度十四分六秒十一秒二十三度三十分三)
問曰合朔係何時刻答曰辰初二刻八分
相望亦以次引滿五宫二十度之上將近六宫即是
望也到六宫即望之次日也
求弦望時刻
以本日與次日太陽之較及月視行之較相減化分為
一率以一千四百四十為二率又置本日之月視行
内減去本日太陽其餘宫度分上弦輳滿三宫望輳
滿六宫下弦輳滿九宫將輳滿之數化分為三率二
三相乘一率除之得數再以六十收之為時刻分
假如十六日太(陽隂)在(戌辰)宫(十五度十六分九秒秒六度三十分二十一)
十七日太(陽隂)在(戌辰)宫(十六度十五分十六秒五秒十八度二十九分三十)
問曰望係何時刻答曰戌初初刻七分
上弦以次引二宫二十餘度將近三宫即上弦也若
滿三宫即為上弦之次日也
假如初八日太(陽隂)在(亥申)宫(八度三十四分八秒秒七度五十八分四十)
初九日太(陽隂)在(亥申)宫(七度三十四分二十秒秒二十度五十五分十六)
問曰上弦係何時刻答曰丑初初刻十分
下弦以次引八宫二十餘度將近九宫即是下弦也
若九宫一二度即下弦之次日也
假如二十三日太(陽隂)在(酉子)宫(二十一度十一分二十秒十一度三十三分六秒)
二十四日太(陽隂)在(酉子)宫(二十二度八分十六秒十秒二十五度二十八分三)
問曰下弦係何時刻答曰酉初三刻四分
求月入宫法
以次日宫度分内減去本日宫度分餘度分化分為一
率本日未滿整宫之餘度分亦化分為二率一千四
百四十為三率二三率相乘一率除之即得時刻
假如正月初七日太陰在戌宫十八度三十一分
初八日太陰在酉宫一度二十四分
問曰月入宫係何時刻答曰亥初一刻八分入酉
宫
求月升法
以朔日之月離宫度定之
子宫十五度至酉宫十五度為正升
酉宫十五度至未宫初度為斜升
未宫初度至寅宫十五度為橫升
寅宫十五度至子宫十五度為斜升
假如正月初一日月在丑宫十八度四十六分
問曰月係何升答曰係斜升
求月孛羅計法
以本年所推月離稿内每月初一十一二十一三日月
孛實行正交經度中交經度内減本年宿餘減宿即
得三宿分
假如正月初一日月孛實行在己宫八度四十四分
本年宿鈐在己宫一度八分為張宿
問曰月孛係何宿度分答曰張宿七度三十六分
求五星伏見
土木火三星與太陽合伏後為晨見合伏前俱稱夕
與太陽衝後為夕見衝前為晨(蓋星行遲太陽行速故也)
金水二星順行與太陽合伏曰夕逆行合伏曰晨
假如土星四月十九日合伏
問曰土星合伏前後應晨應夕見與不見
答曰合伏前係夕不見合伏後係晨見
假如水星五月十二日與太陽衝
問曰太陽衝前衝後應晨夕見與不見
答曰衝前係夕不見衝後即晨見(按水星不沖日今云爾者蓋退合亦)
(沖之屬也退當云退合伏前係夕不見合伏後即晨見)
求五星衝伏同度時刻法
兩星各以次日行與本日行相減得較兩較相加減
為一率同順同逆兩較相減一順一逆兩較相加
一千四百四十為三率二三率相乘以一率除之得
時刻
假如正月十八日(土水)星在子宫(二十六度四十九分二十六度三十三分)
十九日(土水)星在子宫(二十六度五十六分二十八度一十七分)
問曰(土水)二星係何時同度答曰寅初三刻十二分
假如正月二十五日(太陽水星)在亥宫(二十八度三十分分二十八度四十二)
二十六日(太陽水星)在亥宫(二十九度三十分分二十七度四十二)
問曰水星係何時與太陽合退伏答曰丑正一刻
九分
假如二十日(太陽土星)在(丑未)宫(三度二十六分四度十分)
二十一日(太陽土星)在(丑未)宫(四度二十四分四度六分)
問曰土星係何時與太陽衝答曰酉初初刻一分
假如二十八日(太陽木星)在子宫(二十七度三十分分二十七度五十五)
二十九日(太陽木星)在子宫(二十八度三十分二十八度二分)
問曰木星係何時與太陽合伏答曰午初一刻四
分
求五星退入宫法
本日度分内減去次日度分其較為一率本日餘分為
二率(度以上不算止用餘分)一千四百四十為三率二三率相
乘以一率除之得時刻
假如二十六日金星在戌宫初度三十二分
二十七日金星在亥宫二十九度三十八分
問曰金星係何時退入某宫答曰未正初刻十三
分退入亥宫
求五星順入宫法
以次日宫度分内減去本日宫度分餘度分化分為一
率諸法俱與月入宫法同(如退入宫者則於本日宫度分内減去次日宫度分)
(得數化分為一率以日法為二率即以本日初度分為三率依法求之)
假如正月初三日水星在丑宫二十九度四十六分
初四日水星在子宫一度三十五分
問曰水星係何時刻入某宫答曰寅初初刻四分
入子宫
求五星最高卑中距法
凡三宫九宫為中距宫為最卑六宫為最高
火金水三星以實引次實引查土木星以平引查
假如土星平引在四宫八度二十分
問曰從何限之上下行答曰中距下行
求五星留逆法
凡五星經度自一度二度而行者為順如從十五度十
四度而行者為逆本日係十度五分次日仍十度
五分者為留第三日係十度六分為留順初如係十
度四分三分為留退初
求五星伏見法
以天球安定北極出地如四十度求晨在東地平上用
本日太陽距星之數求夕在西地平上用次日太陽
距星之數以太陽所在之宫緊挨地平又看此日之
星宫度相距太陽之遠近又用缺規矩較星距太陽
之定限如土星定限距太陽十一度木星定限距太
陽十度火星定限距太陽十一度半金星定限距太
陽五度水星定限距太陽十一度半以缺規矩較定
之限挨地平視星所在之宫度及緯南緯北之度視
歷算全書卷十八
