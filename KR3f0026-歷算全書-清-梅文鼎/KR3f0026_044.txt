歷算全書卷三十八
宣城梅文鼎撰
筆算卷五
開平方法
測量句股全恃開方開方有平有立而平之用博以其
有實無法故别為一術以佐乘除之所窮
平方者面羃也其形正方故亦為自乘之積開平方者以
自乘之積求正方之邊故西法謂之測面其邊謂之方根
法先列實依除法作兩直線以所用方積列於右直
線之右自上而下至單位止無單作
次作點定位自單位作一點起每隔一位點之有一
點則商一位(如有二點則商數有十有三點則商數有百)
次定初商皆自原實最上一點截定為初商之實(如點)
(在首位即以一位為初商實點在次位即合兩位為初商實)以自乘數約而商之皆
以點處為本位點上一位為進位(本位者單數也如一商一四商二九商三)
(其自乘皆本位不論百與萬以上皆作單數用進位者十數也如一六商四二五商五以至八一商九其自乘皆有進位不論)
(千與萬以上上皆作十數用)
又法以初商實入表皆視初商實有與表同數或稍大於表
數者用之以命初商(如一商一四商二此與表數相同也如二三亦商一五六七八皆商二此比表數稍)
(大也若至九則商三又為相同之數矣十至十五皆商三皆比表數稍大至十六商四又為相同之數他皆倣此)
初商表(凡初商三以下減積在本位四以上減積合兩位此表明之)
用表捷法(但視初商實不滿表上自乘積者退一格即商數如不滿四即商一不滿九即商二他倣此)
既得商數即書於左直線之右皆對初點之進位書之(凡商得一二三)
(四書於點之上一位)五以上又進一位(凡商得五六七八九書於點之上兩位)
次減實以初商數自乘書於左直線之左皆以本位對初點
(如初商一二三自乘一四九皆本位即對初點書之如初商四五六七八九其自乘皆有進位則以下一字對初點)
就以此命為減數以對減右直線所列方積如減積不盡則有次商
次商之法倍初商得數為次商廉法對原實位書於右直線
之左(視實冇二點則初商是十有三點初商是百四點初商是千各取倍數對原列方積千百十零之位書之倍而言十)
(者亦進位對之)截原實第二點為次商之實(次商減積至此點止)以廉法約實為
次商數(並依除法約之)挨書於初商之下即用次商數為隅法亦書於
廉法之下為次商廉隅共法(省曰次商法)以與次商數相乘書其數
於左直線之左(皆以法首位所乘之進位對次商數書之若言如之數亦以位對之法有幾位徧乘而挨書)
(之點至次點止上又法先以法尾位隅法乘次商數以本位對次書之進位一字書之依乘法例自下而上法有幾位皆)
(徧乘而迭進書之至次商數止亦同)命為次商減積數以對減右直線餘積而定
次商(皆减積至次點止)如減數大於餘積則改次商(亦改隅法)如上乘減及
減而止次商減積不盡則有三商
三商之法合初商次商數倍之為廉法(簡法只以隅法加倍增入次商法内即三)
(商廉法)截原實第三點為三商之實(三商減積至三點而止)餘並同次商如
減積不盡則有四商
四商以上並同三商法
審位之法若次商廉法大於苐二點以上餘積或數適相同是商
得位也(凡商得一數者其減積必與廉法同而多一數以為隅故僅同者無隅積也即不能商一數而成位)
則書於初商之下以當次商亦增於廉法之下為三商廉
法三商以上有並同(若應商幾位而於初商或次商即已減積至盡是末幾位皆商得也俱補作)
命分之法若已商得單數而仍有餘積當以法命之(以商得方根倍)
(之加隅一為分母不盡之數為分子命為幾分之幾)雖未商得單數而餘積甚少不能成
單一數亦以法命之(前審位云廉法大於餘積者但取第二點以上相較不論千百十零其所謂不能)
(商一數者或是一千或是一百不拘定是單一也故商之後仍有所商與此不同)
還原法以商得方根自之有不盡者以不盡之數加入之即得原實
又簡法作直線於左方以應減之積依併法併之必合原實有
不盡數亦加入之並同除法還原
初商本位式(凡初商一二三者減積言如在本位然初商一二三四者書商數於點之上一位以書)
(商數之位言之亦本位也兩本位法此一式中皆可明之)
假如有方田積二百五十六步問每面方若干
答曰每面方十六步
列實(作兩直線列方積於右直線之右)
作點定位(自單位起每隔一位作一點共兩點宜商兩次初商是十)
初商(點在實首位即以實首位二為初商實以自乘數約之得一為初商初商是一宜對點上一)
(位書於左直線之右有兩點初商是一十自乘一百為減數書左線之左遙對右行初點二百書之就)
(以對減初商實於二百内減一百仍餘餘一百改書之初商減積未盡有次商)
次商(倍初商一十作二十對原列方積十步位書於右線之左為廉法以第二點餘實一五六為)
(次商實用廉法約實可商七步因無隅積只約六步為次商以書於初商之下即用六步為隅法以書於)
(廉法之下合廉隅共二十六步為次商法以乘次商六步得廉積一百二十步隅積三十六步皆對次商)
(位書起每挨一位書之至次點止共得次商減數一百五十六以對減餘實恰盡)共開得平
方根一十六步合問
甲乙丙丁四形合為正方形(四面皆一十六步)
甲分形正方(四而皆十步積一百步即初商積)
丙丁二分形皆長方(廣六步長十步積六十步兩形共積)
(一百二十步即次商廉積)
乙小分形亦正方(面皆六步積三十六步即次商隅積)
自乘還原法置方一十六步為實即以
十六步為法乘之得二百五十六步合
原數
初商進位式(凡初商四五六七八九減積言十在進位凡初商五六七八九書商數於點之上兩位)
(書商數以點上一位為本位則此其進位也兩進位法此一式中皆有之)
假如方積三十五萬八千八百零一尺問方若干
答曰方五百九十九步
列位(同前)
作點定位(有三點宜商三次初商是百)
初商(點在實次位即合兩位三五為初商實入表表中有小於三五者是二五其方根五即以五為初商數對實初)
(點上兩位書左直綫之右又即以表中自乘數二五遙對實三五書於左直綫之左就以對減初商實餘一改書之以)
(待次商)
次商(倍初商五百作一千百對實千百位書於右直綫之左為廉法以第二點上餘實一八八為次商實用)
(廉法約之得九為次商續書於初商之下即以次商九為隅法書廉法之下合廉隅共一九為次商法以乘次商九得)
(廉積九隅積八一對次商位書起至次點止共得減數九萬八千一百以減次商實餘一七改書之以待三商)
三商(以次商隅法九十倍作一百八十於次商法一千之下抹去九改書一八共一一入為廉法以第三點上)
(餘積一七一為三商實用廉法約之得九為三商續書於次商下即以三商九為隅法書於廉法之下合廉隅共一)
(一八九為三商法以乘三商九步得廉積一萬六百二十隅積八十一對三商位書起至第三點止共得減數一萬)
(七百一以對減三商實恰盡)凡開得方根五百九十九尺
初商甲(方五百尺積二十五萬尺)
次商(丁戊)二廉(各長五百尺闊九十尺共積九萬尺)
隅乙(方九十尺積八千一百尺)
三商(已庚)二廉(各長五百九十尺闊九尺共積一萬六)
(百二十尺)隅丙(方九尺積八十一尺)
七形合成正方共積(三十五萬八千八百一)
商位式
假如方積八十二萬六千二百八十一尺問方若干
答曰九百九尺
列位
作點定位(並同前條)
初商(點在次位合兩位八二為初商實表入表得八一小於八二其方根九即為初商在五以上對初點上兩位書)
(之亦以表數八一對實八二書於左綫之左以減初商實餘一改書之以待次商)
次商(倍初商九百作一千八百對原實位書之為廉法以第三點上餘實一六二為次商實以廉法約之法大實)
(小不能商一數是商得位也紀於初商之下即於實首位銷去一餘俟三商)
三商(因次商是增於廉法之下共一八為廉法以第三點上餘實一六二八一為三商實用廉法約實得九)
(尺為三商書於次商之下即以九為隅法書於廉法之下共廉隅法一八九以乘三商九得廉積一萬六千二百隅)
(積八十一減三商實恰盡)凡開得方根九百九尺
計開
初商方九百尺積八十一萬尺
續商廉(各闊九尺長九百尺)共積(一萬六千二百尺)隅方九尺積(八十一尺)
通共八十二萬六千二百八十一尺
假如方積二十五億七百萬四千九百尺問方若干
答曰五萬七十尺
列位(原積尾位是百補作兩列之)
作點定位(有五點當商五次初商是萬)
初商(以實首兩位二五為初商實入表得五為初商書於點上兩位次以自乘數對實列之相減盡)
次商(倍初商五萬尺得一十萬為廉法對原實位書之以第二點上餘實七為次商實實有三無可商)
(是次商也書於初商五之下亦於實首銷去一以待三商)
三商(因次商增於廉法下得一為廉法以第三點上餘實七為三商實實仍有兩位是三)
(商亦也又書於次商之下於實首復銷去一以待四商)
四商(因三商亦又增於廉法之下得一為廉法以第四點上七四九為四商實用廉法約之)
(得七十尺書於三商之下即以七為隅法增於廉法下共廉隅法一七以乘四商七得廉積七百萬隅積四千)
(九百以對減四商實恰盡)
五商(五點宜有五商而四商已減實盡無可商作於四商)
凡開得方根五萬七十尺
命分式
假如方積五百七十六萬四千八百尺問方根若干
答曰二千四百尺(又四千八百一分尺之四千八百)
列位(實盡於百位如前法補作兩圈列之)
作點定位(有四點宜商四次初商是千)
初商(以實首五為初商實入表得二為初商以自乘數四減實五改書餘一以待次商)
次商(倍初商二千得四千為廉法約以第二點上餘實一七六為次商實用廉法之得四為次商)
(即以為隅法書廉法下共廉隅法四四以乘次商四得廉積一百六十萬隅積一十六萬共減積一百七)
(十六萬次商實減盡)
三商(倍次商隅法四作八增入次商法共四八為三商廉法以第三點上餘實四八為三商實)
(有兩無可商作於三商位消去實首一以待四商)
四商(三商亦增於廉法下共四八為廉法與以第四點上餘實四八為四商實僅)
(廉法相同是無隅積也不能商一數作於四商位其不盡之數以法命之法以廉法四千八百加隅)
(一共四千八百一為命分之母以不盡之數四千八百為分子命為四千八百一分尺之四千八百)
(即一尺弱也)
共開得平方二千四百尺又四千八百一之四千
八百
此雖未開至單尺之位而餘實甚少不能成一單尺故
即以法命之若餘實是四千八百一尺則商得平方
二千四百一尺矣今止四千八百尺是少一尺故不
能成一單尺也
開方分秒(凡開方欲知分秒法於餘實下每增兩位則多開一位為分秒之數平方之積尺有百寸)
(寸有百分皆以百為母故增兩)
假如有平方積二十四尺平方開之得方四尺不盡八尺問分
秒若干答曰方四尺零八寸九分八釐九毫有竒
如常列位作點點在次位即以
二四兩位合商得方四尺減其
自乘一十六尺餘八尺用命分
法以商四尺倍作八尺又加隅
一得九為命分母不盡為分子
命為方四尺又九分尺之八
今欲知其寸(九分尺之八者是以尺作九分而今有其八言每方四尺之外仍𢃄此畸零是其中有寸)
法於餘實下加兩化八尺為八百寸(每尺縱横十寸故其積百)
(寸)用為次商實以初商四尺倍之得八尺亦化八十
寸(商數是每邊之數故尺只十寸)對餘實十寸位書之(即第一位)為廉
法用廉法約實可商九寸因恐無隅積只商八寸書
於初商四尺之下亦即以次商八寸為隅法書於廉
法八十寸之下共廉隅八十八寸以乘次商八寸得
廉積六百四十寸隅積六十四寸共廉隅積七百
四寸自次商位書起至第二位止以對減餘實仍
餘九十六寸命為竒數
凡商得每方四尺八寸有奇
再求其分
法於實下又加兩以餘九十六寸化九千六百分(解見)
(上)為三商實商數四尺八寸亦化四百八十分倍
之為九百六十分移對餘實百分十分之位書之為
廉法以廉法約實商得九分為三商書次商之下亦
即以三商九分為隅法書於廉法九百六十分之下
共廉隅九百六十九分以乘三商九分得廉積八千
六百四十分隅積八十一分共積八千七百二十一
分自三商位書起至第四位止以對減餘實仍餘
八百七十九分命為竒數
凡商得每方四尺八寸九分有竒
再求其釐
法於餘實下又加兩以餘八百七十九分化八萬
七千九百釐為四商實次倍商數四尺八寸九分
作九尺七寸八分化為九千七百八十釐移對餘實
依千百十之位書之為廉法用廉法約實得八釐
為四商書於三商之下即以四商八為隅法增於廉
法末共廉隅法九千七百八十八釐以乘四商八釐
得廉積七萬八千二百四十釐隅積六十四釐自四
商位書起至第六位止以減餘實仍餘九千五百
九十六釐
凡商得每方四尺八寸九分八釐有竒
再求其毫
如法於餘實下又加兩化餘實為九十五萬九千六
百毫為五商實次倍商數四八九八作九尺七寸
九分六釐化為九萬七千九百六十毫為廉法移對
餘實萬千百十之位書之用廉法約實得九毫為五
商書四商下亦即以五商九為隅法增入廉法下共
廉隅九萬七千九百六十九毫以乘五商九毫得廉
積八十八萬一千六百四十毫隅積八十一毫對五
商位書起至第八位止以減餘實仍餘七萬七千
八百七十九毫
凡商得方四尺八寸九分八釐九毫又九萬七千九百
七十九之七萬七千八百七十九即竒數也
右單數下已開四位(尺為單位析為寸分釐毫凡四位)其不盡者
是不滿一毫之數于單數為十萬分之一(如欲再求忽微)
(亦如上法)
開方𢃄縱(𢃄縱者長方形也以方為闊加縱數為長其法與開方無異但須以商得數乘縱數為縱積併)
(入方積以減原積不及減者改商之其次商亦倍初商加縱為廉法但倍方而不倍縱三商以上並同)
假如有長田積六百二十四步闊不及長二步問長闊各若干
答曰長二十六步闊二十四步
列位(以實列右綫之右步以縱二步列右綫之左對實位列之)
如常作點定位
初商(以六為初商實商得二十步自乘應減方積四百步又以商數乘縱二步得縱積四十步如)
(法列之以減原實仍餘一百八十四步)
次商(倍初商二十步作四十步加縱二步共四十二步為廉法以約餘實得商四步即以為隅法合)
(廉隅縱共四十六用乘次商四得廉積一百六十步隅積十六步縱積八步共減積一百八十四步恰盡)
命為闊二十四步加縱二步為長二十六步
合問
以圖明之
甲為初商方形(長闊各二十步積四十步)
已初商縱形(闊二步四長亦二十步積十步)
戊丙並次商廉(長各二十步十闊四步積八步)
乙次商隅(方四步步積一十六)
丁次商縱廉(長四步八闊二步積步)
(以上五者合之為一長方形步共長二十六步闊二十四)
(積六百二十四步合原數)
若縱數有比例可求者先以比例分其積平方開之得
闊因以知長
假如有直田積四百五十步但云長多闊一倍問長闊
若干
答曰闊十五步長三十步
法平分其積得二百二十五步平方開之得闊十五
步
置闊十五步倍之得長三十步合問
假如有長田積二百五十二步但云長比闊多四分之
三問長若干
答曰闊一十二步長二十一步
法以多三分加分母四共七為法以分母四乘積為
實法除實得一百四十四步開方得闊一十二步
置闊一十二步七因四除之得二十一步為長(長比闊多)
(九步於十二步為四分之三)
開立方法
平方者方田之屬也但取面羃之積立方者方倉之屬
也必求其内容之積故平方曰面立方曰體有面而後
有體有線而後有面故皆以線為根
假如長二尺者線數也線有長短而無廣狹若以此線
横展之長亦二尺闊亦二尺則其積四尺為面面者平
方形也面有闊狹而無厚薄又以此面層累而厚之長
闊皆二尺高亦二尺則其積八尺為體體者立方形也
立方有虚有實如築方臺則實鑿方池作方窖則虚然
其立方之積數一也
法先立位(同平方)作點(自單位起每隔二位點之以最上一點為初商實)定
位(視有若干點則商幾位如有二點則商數有十有五點則商數有百並同平方)
初商法以自乘再乘數約而商之(如一商一八商二二七商三之類)
書商數於左線之右(凡商得一數者書於點上一位商得二三四五者書於點上兩位商)
(得六七八九者書於點上三位)即以自乘再乘數書於左線之左以對
減初商實(初商減積至初點止)
次商法以初商自乘而三之為平廉法(亦曰方法)以初商三之
為長廉法(亦曰廉法)皆對原實千百位書之截第二點上餘實為
次商實(次商減積至次點止)以平廉法約實得次商(列初商下)即以次商為隅
法列長廉次(亦按千百位列之)乃以次商乘平廉法為平廉積又以次
商自乘以乘長廉及隅法為長廉小隅積俱挨書之以減餘積
不及減者改商
三商法以餘實另列之合初商次商自乘而三之為平廉
法合初商次商三之為長廉法截第三點上餘實為三商
實(三商減積至此點止)亦即以三商為隅法(餘並同前)
四商以上並同三商
命分法合平廉長廉法再加隅一為命分母不盡之數為命
分子(並同平方)
還原法置商數自乘得數再以商數乘之即合原實(有不盡者以不盡之數加入之)
初商表(用法與平方表同)
假如立方積五千八百三十二尺問方若干
答曰方一十八尺
列實
作點定位(有兩點初商是十)
初商(以五千為初商實約商一十自乘再乘得一千為應减積減原實餘四千)
次商(以初商自乘而三之得三百為平廉法二又以初商三之得三十為長廉法以平廉法約第點上餘實得)
(八尺為次商即以為隅法並如法列之乃以次商乘平廉法得二千四百為平廉積又以次商自乘得六十四以乘長廉)
(及隅法得長廉一千九百二十隅積五百一十二共減積四千八百三十二恰盡)
以圖明之
甲為初商方形(長闊皆十尺積一千尺)
乙為次商平廉凡三以輔於
方之三面(長闊皆十尺厚八尺積八百尺共積)
(二千四百尺)
丙為次商長廉亦三以輔三
平廉之隙(長十尺闊與厚皆八尺積六百四十)
(尺共積一千九百二十尺)
丁為次商隅如小立方以補三長廉之隙(長闊高皆八尺積五百一十二尺)
假如立方積二千二百五十九億七千七百八十一萬一千五
百七十尺問方根若干答曰方六千零九十尺(又一億一千一百二十八)
(萬二千五百七十一之一億一千一百二十八萬二千五百七十)
列實(實尾無單位補作)
作點定位(有四點初)
(商是)
千
初商(合實三位約之商六千對初點上三位列之以六千自乘再乘得減積二千一百六十億其餘積改書以待次)
(商)
次商(日乘初商而三之得一億八百萬為平廉法位以初商三之得一萬八千為長廉法各對原實)
(列之次以第二點上餘實為次商實實首有兩無可商是商也作於初商之下即於實首消去兩)
(餘俟三商)
三商(次商即以次商法為三商法尺以第三點上餘實為三商實以平廉法約之商九十即以為隅法對實十)
(位列之乃以九十乘平廉法得平廉積九十七億二千萬又以九十自乘得八千一百以乘長廉及隅法得長廉積一億)
(四千五百八十萬隅積七十二萬九千共減積九十八億六千六百五十二萬九千)
四商(以第四點上餘實另列之二合三次商數六九自乘而三之得一億一千一百十六萬四千三百為平廉)
(法得又以六九三之一萬八千二百)
(七十為長廉法廉以法約實僅與兩法)
(之數相同無隅積不能成一單數以法命)
(之合平廉長廉數加隅一為命分母餘實)
(為命分子)
命為立方六千九十尺又(一億一千一百二十八萬二千五百七十一尺之一億一千一)
(百二十八萬二千五百七十)
自乘再乘
歷算全書卷三十八
