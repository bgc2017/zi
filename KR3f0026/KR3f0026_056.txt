歷算全書卷四十三
宣城梅文鼎撰
方程論卷四
刊誤
古之為學也精故其立法也簡而語焉不詳闕所疑而
敬存其舊無臆參焉斯善學也已不得其理而強為之
解以亂其真古人之意乃不可見矣意不可見而訛謬
相仍如金在沙淘之汰之沙盡而金以出故刊誤次之
方程之誤厥有數端
一曰立負之誤(立負誤也四色五色期于立負以為法誤之誤也自騾馬逓借一問諸書沿訛)
(而加減之誤因之矣)
一曰加減之誤
同加異減一誤也(誤沿于牛羊豕相易之一問由不知正負之有更也)
竒減偶加二誤也(誤沿于桃梨問價以不知和較之交變也)
一曰法實之誤(以上為法下為實拘也以法必少實必多亦謬也)
一曰倂分母之誤
一曰設問之誤(如井不知深而以除法為井深問中先已大誤)
立負辨
立負非古人法也何以知之有負則有正今立負而不
言正非正負之本旨也或曰有正則有負則言負可
不言正矣是又不然凡和之變而較也有減其和數
而盡者亦有減其和數而餘者其減而盡者命為適
足而無較數則但言此之為負以見彼之為正可矣
若減而餘者是有較數也而但言負不言正何以知
其較數必與正物同名乎即使同名而竟不明言其
為正何以分别同異而為加減乎至于以有空位而
立之負則又不可何也和之或變而較也固不必以
空位也但減餘分在兩行而兼用之即變較數矣今
必以有空位者而立之負則無空位者即不立負乎
然則和數之無空位者終于同減而無異併乎將進
退失據矣故曰非古人法也
凡言正負者分其物以相較也不言正負者合其物以
言數也皆自然而有之名非立之也而立負乎哉夫
不知正負之出于自然而強立之負則同異之旨淆
而加減之用失種種謬誤緣之以生故謹為之辨
今以諸書所載立負例攷定如左
假如米四石二斗以馬一騾二驢三載之皆不能上坡
若馬借騾一騾借驢一驢借馬一則各能上坡問馬
騾驢力各幾何
畣曰馬力二石四斗騾力一石八斗驢力六斗
法各以和數列位(馬借騾一則一馬一驢也騾借驢一則二騾一驢也驢借馬一則三驢一)
(馬也各以其本數加借數而列之干方程法則和數而已)
此三色有空法也中行無馬原只二色故不湏乘減
但先以左右兩行首位不空者對乘又因兩行馬
數皆一乘皆如故故徑以對減馬減盡右騾一左
驢三皆無對不減米各四石二斗亦對減而盡
乃視減餘騾一在右行驢三在左行分在兩行是有
正負也米亦減盡是正負適足也重列之
論曰此和數變為較數也何以言之兩行之馬相若而
其載物又相若則其所偕以共載之騾一與驢三其
力亦自相若矣故命之適足適足者以兩相較而成
故曰變為較數也然謂之適足可也謂一行俱減盡
則不可也減盡者同類之物而其數又同故物與數
俱減盡也適足者物非同類而其物之積數則同故
其物不能減盡而數則減盡也物不同而數同故曰
適足也適足者存之為用也物數俱減盡者清出其
一色而不復用也如此三色中雖不能遽知各力然
已知驢三騾一之適相當矣則已清出馬之一色而
變為二色矣此逓減立法之意也
又論曰減餘適足則有正負矣其原列只是和數無正
負也諸書以逓借一匹之故而列之曰借又别其本
數曰正不知正與負對非與借對也雖逓借一匹其
實是本有之頭匹與所借之頭匹共載此米故曰和
數逮減餘乃變為較耳故減餘適足宜言正負也而
諸書但立負原列和數無正負也而忽分正借又不
立負于減之後而立于其先正也借也立負也三者
相亂而靡有指實古人之法固如是乎哉
次以中行原數與減餘對列因中行馬空故徑求也
此和較雜也減餘分正負中行原無正負
以減餘騾負一遍乘中行如故(較乘和也數雖如故但皆以乘法之名名之為負)
又以中行騾二遍乘減餘得數(和乘較也故仍其正負之名)
騾同减盡驢異併得七為法四石二斗無減就
為實法除實得六斗為一驢之力三因驢力得
一石八斗為一騾之力(適足故也)以騾力一石八斗減四
石二斗餘二石四斗為一馬之力(原右行數)
論曰減餘原是騾一與驢三力等乘後得數則騾二與
驢六亦等也然則于中行共力中減去二騾而以相
等之六驢益之其共之四石二斗亦必與原載等也
故併此六驢與原列一驢共七為法以除此四石二
斗而驢力可知也驢三與騾一既等則三驢之所
載即騾力也騾與馬各一共四石二斗則減騾力
即馬力也
又論曰此因中行有空故徑求也使其不空自當與左
行或右行遍乘而減去其馬與其數乃列兩減餘如
二色求之此常法也今中行馬空原只二色恰與減
餘之二色相對故徑相乘減是省一算也諸書皆言
因左行騾空故立負騾一與中行對乘不知左行騾
空而右之騾一無減猶右之驢空而左之驢三無減
也其與中行相對乃用此兩色之減餘非獨用左行
也盖左行有馬中行無馬原無對乘之理亦猶之右
與中不可對乘惟減餘是二色可以對乘雖云徑求
實自然之理勢也而強立之負以用左行乎
有正斯有負立負騾于左行為與何物相對耶以馬一
為正耶驢三為正耶其馬一驢三皆正耶既無所指
則負為徒立矣
凡言正負者其下數必為正與負之較今所用左行之
四石二斗者為是騾一與驢三相較之數耶騾一與
馬一相較之數耶將合馬一驢三與騾一相較之數
耶則皆無一合矣
凡物有正負者其較數亦有正負此四石二斗者正耶
負耶若無正負即是和數不應立負騾矣
若以四石二斗為和數則更非理夫以馬一驢三之共
數加一騾力而其數如故理所無也若去一馬用一
騾而與驢三共此米抑又不能馬與騾之力原不同
乃去一馬加一騾而其數如故理所無也然則此四
石二斗安屬耶彼惟不知四石二斗之減盡即為適
足故誤至此也
又謂右行俱減盡不知減盡必兩行數同如馬一與米
四石二斗也若騾一驢三固未嘗有減也况盡乎方
程立法原以對減有盡不盡而得其朕兆若三色俱
減而盡其算不立矣惟不知有空位者可以徑求而
誤以所用之減餘為是左行之原數故也
凡減盡者兩俱減盡不應右減盡而左行獨存若謂復
用左行之原數何以不用原列之馬一而加一負騾
以為馬一減去故不用則四石二斗何既減而復存
耶故以立負騾減馬一為用减餘之法則四石二斗
不宜存四石二斗為用原列之法則馬一不宜減負
騾不宜立破兩法而參用之一不成矣承譌者遷就
多岐抑奚足怪
今試以減餘更置則先得騾力如後圖
如前法以一和一較遍乘得數驢同名減盡騾
異併得七為法正十二石六斗無減就為實實
如法而一得一石八斗為騾力以驢三除相當一騾
之力得六斗為驢力(任于原列左行或右行如法減驢力或騾力得馬力)
論曰凡減餘重列之數皆可更置互求何則皆實數也
三色減去一色即二色法矣若干減餘之適足加以
四石二斗則不可以互求故知其誤
又試以原列更置之先減去騾如後圖
如法先以右中遍乘騾减盡中行驢一右行
馬二皆無減分正負列之載米餘四石二斗在右
行與馬同名左行騾空故徑與減餘相對依和
較雜法乘之驢同減盡馬異併七為法載米異
倂十六石八斗為實法除實得二石四斗為馬力
以馬力減四石二斗餘一石八斗得騾力以馬
力倍之同減四石二斗餘六斗得驢力
試又更之如後圖
如前法先以右中兩行遍乘減去驢餘馬一騾六皆
無減分正負載米餘八石四斗在右與騾同名
乃重列之如前法徑與左行相對遍乘馬同減盡
騾異併七為法載米異併十二石六斗為實實
如法而一得騾力以次得驢馬力皆如前
論曰凡諸色方程其上下皆可互更如上二圖以空位
徑求之法求之無所不合也
又試以原列無空而減餘適足者為例如後
假如有三車三槖駝七牛各欲載物六十四石而皆不
能勝若車借駝牛各一駝借車牛各一牛借車駝各
一則皆能載問三者力若干
畣曰車二十四石槖駝十二石牛四石
法以和數列位
如法乘車皆減盡甲乙兩行減餘皆在乙行和
數也乙丙相減餘乙駝二丙牛六是有正負也
載物減盡適足也(乙丙載物減盡則不但對減去之物適相當而其減餘之駝二牛六)
(其力亦適相當也雖欲不命之適足不可得矣)
乃以和較雜重列之
依一和一較法求得牛三十二為法載物一百二
十八石為實法除實得四石為牛力牛六共力
二十四石以相當之駝二除之得十二石為駝力
以牛力駝力減六十四石餘四十八石車二除之得
二十四石為車力(用右行原數)
論曰此亦以和變較而有適足之數也豈以有空位而
立之負乎可以悟其非矣
試更以較數求之
假如運糧以象馬牛車三種但云接運時以三象所載
與四牛車二十四馬載之則餘三十六石以八牛車
所載與二象十二馬載之亦餘三十六石以七十八
馬所載與二象二牛車載之亦餘三十六石問各若干
畣曰象七十二石牛車二十七石馬三石
法以較數列位
如法互乘減併重列其餘(中行每加二分一則首位象與右齊同可對減矣其)
(中左象本同徑以對減皆省算法也)
依省算法求得馬三十載九十石以馬除載得三石
為馬力馬九十載二百七十石牛車十除之得二
十七石為牛車力合計牛車四馬二十四共載一
百八十石異加正三十六石象三除之得七十二石
為象力(用右行原數)
論曰此原列較數也而其較數亦有減而適足者然則
先無適足減之而成適足者往往有之矣
惟適足故分正負非以空位而立負也故知減餘之亦
有適足而復用左行者非矣知用減餘而非用左行
則立負之非不攻而破矣
同加異減辨
同名相減則異名相加矣諸書所載忽而同減者忽而
異減忽而異加者忽而同加豈不謬哉又為之說曰
以正為主則同減而異加以負為主則異減而同加
又為之說曰同名相乘則其下同減而異併異名相
乘則其下異減而同併言之縷然用之紛然而要之
非是也夫同名相減即如盈朒章兩盈兩朒相減也
異名相併即如盈不足相併也豈有同加異減之理
乎所以誤者不知正負交變之法也正負宜變而不
變則首位之異名者何以能對減而盡乎不得不遷
就其法同加異減矣苟知其變則首位必同名首位
既同名則凡減皆同名凡加皆異名較若畫一何必
紛紛強為之說乎
凡減餘重列有仍其負正如故者亦有更其正負絶非
其故者且有先無正負及其重列而有正負者有先
分正負及其重列之而反不分者若但以初名為定
則加減皆舛矣
假如同減之餘分在兩行而為同名(或左餘正右亦餘正或左餘負右亦)
(餘負)則重列必為異名矣必變其一行之名而列之而
其下所餘數必是此二異名物之較數也若無餘數
必是此二異名物相當適足也(此以三色言之若四色以上減餘位數多)
(者皆倣此論之)
若同減之餘分在兩行而為異名(或左餘正而右餘負或左餘負而右餘正)
則重列必為同名矣而其下所餘數必是此二同名
物之和數也(此亦以三色言之其減餘只二色故也)則其原列正負之
名皆不用矣
若異倂者尤為易見何也凡異併者正與負併也正與
負併則如一物矣故重列之際必以一行為主而定
其名(或為正或為負或變和數則無正負)若但守初名而不知所變將
一物而名之正又名之負乎必不然矣兼此數端知
正負之交變出于自然非強名也(不知正負之變亦不知和較之變矣)
(故又有竒減偶加之誤也)
今以諸書所載同加異減例考定如左
假如以牛二羊五作價易猪十三剰價五兩以牛一猪
一易羊三適足以羊六猪八易牛五不足三兩問價
各若干
畣曰牛價六兩羊價二兩五錢猪價一兩五錢
列所問數
先以右行牛正二遍乘中左兩行得數(中右首位同名故正負不)
(變右左首位異名故變左行之正負以從右亦為以少從多)
次以中行牛正一遍乘右行皆得原數乃以中右
兩得數對減牛各正二同名減盡羊異名(右正五中)
(負六)併得十一猪異名(右負十三中正二)併得十五價無減
(右正五兩中適足)仍得五兩于是分正負以價與羊為同
名而重列之(羊右正中負猪右負中正故仍為較數價與羊同為正于右行故仍為同名)
次以左行牛負五遍乘右行得數(左行既變以從右則右行不變仍其)
(正負)乃以左右兩得數對減牛各正十同名減盡
羊異名(右正廿五左負十二)併得三十七猪同名(右負六十五左負一)
(十六)減餘四十九(在右)價同名減(右正二十五兩左正六兩)餘十九
兩(亦在右)于是亦分正負亦以價與羊同名而重列
之羊與餘猪原分正負于右故仍為較數價與羊
同為正于右故同名
列兩減餘
如法以兩正羊遍乘得數乃對減羊同減盡
猪同減餘十六為法價同減餘二十四兩為實法
除實得一兩五錢為猪價以猪十五價二十二兩
五錢異加正價五兩(共二十七兩五錢)羊十一除之得二兩
五錢為羊價任于原列中行羊三價七兩五錢内
減猪價一兩五錢餘六兩為牛價
論曰凡列正負可以任意呼之要在知下價之于正負
孰為同名耳若乘後得數則其首列一位必以同名
而相減故正負有時變而其價之正負從之變矣故
同異加減必以乘後得數而定也如此所列左右行
先為一正一負異名之價而乘後得數必為同名之
價何也兩價皆與牛同名而牛在首列得數必同名
故也若以羊更置首列則兩價得數必異名何也價
與羊于右同名而于左異名也
試更列之于後
上中上中下下
如法以中行羊與左右兩行互遍乘得數相減羊
同減皆盡右中牛異併三十七猪異併一百十
八價異併四十五兩(價與牛同名)中左牛同減餘九
猪異併三十價九兩無減(與牛同名)
乃以兩減餘各分正負而重列之
如法以牛互遍乘而變左行之正負以相從牛同減
盡猪同減餘四十八為法價同減餘七十二兩為
實法除實得猪價以次得牛羊價合問試又更之
如法以中行猪與左右兩行互遍乘得數相減猪同減
皆盡右中羊異併一百十八(右負中正)牛同減餘四十九(餘負)
(在中)價同減餘一兩(餘負在右)分正負(以價與羊同名)左中羊異
併三十(中正而左負)牛異併十三(中負左正)價三兩無減(中之負數)
亦分正負(以價與牛同名)皆重列之
如法互乘羊同減盡牛同減餘六十四兩為法價異併三
百八十四兩為實法除實得牛價六兩以次得羊價猪價
論曰反覆求之皆同減異加别無他術可見古人立法之簡快
竒減偶加辨
方程立法只同名相減異名相加盡之(和數有減無併皆同名也較數有減)
(有倂或同名或異名也和較交變故減併相生)不論二色三色四色乃至多色
皆一法也今諸書不察偶見瓜梨一例有竒減偶加之
形不得其觧遂執為四色之定法而不知通變使方程
一章之法為徒法而莫可施用深可惜也故覼縷辨之
今將瓜梨一問考定如後
假如有瓜二梨四共價四十文又梨二榴七共價四十文榴
四桃七共價三十文瓜一桃八共二十四文問各價幾何
畣曰瓜八文梨六文榴四文桃二文
法以和數列位依四色有空以省算法求之
惟甲丁兩行有瓜如四色故先以相乘瓜減盡
甲梨四丁桃十六皆無減價餘八文分正負(梨甲)
(桃丁故也)以價與桃同名(同在丁行故也)瓜減盡矣而餘行皆
無瓜則只三色故徑以減餘之數與乙行相對
如法互乘梨同減盡榴二十八(左正)桃三十二(右負)皆
無減價異併一百七十六文(右負左正)
隔行之異名乃同名也以和數列之不分正負
又以餘行無梨則只二色徑以減餘與丙行列之(于後)
如法乘減榴減盡餘桃六十八為法價一百三十六文為實
法除實得桃價二文以丙行桃七價十四文減共三
十文餘十六文悉榴價也榴四除之得榴價四文以
乙行榴七價二十八文減共四十二文悉梨價也梨
二除之得梨價六文以甲行梨四共二十四文減
共四十文除十六文悉瓜價也瓜二除之得價八文
論曰此和數變為較數而較數復變和數也何以言之初次
減餘價八文乃桃多于梨之價故曰變為較數也(桃十六價三十)
(二文梨四價二十四文差八文)何以知之餘數分在兩行也(桃十六在丁行梨四在甲)
(行)何以知桃多于梨桃與價同在丁行故同名也然所
用分正負者是甲丁兩行之減餘非但以丁行空位而
立負也又因乙丙瓜位皆空故用此減餘徑與乙行相對
是省二算也乃徑求也非專用丁行為主也減餘較也乙
行和也一和一較故有異名相併而非以偶行故加也
若第二次減餘則復是和數何也其相併一百七十六文
乃桃榴之共價(桃三十二價六十四文榴二十八價一百十二文共此數)而非其較
數故曰復變和數也何以知之桃與榴雖分餘于兩行
而異名然隔行之異名乃同名也(乙行榴正價亦正減餘桃負價亦負兼而)
(用之變為同名矣)至于立負之非此尤易見盖既變和數無正
負矣雖兩遇空而無減豈得謂之立負乎又因丙行梨
亦空故徑用減餘與之對減是又省一算非以丁行對
丙行也而顧曰立負榴于丁行誤之誤矣減餘變和丙
行相對是兩和也故有減而無併也而豈以竒行之故
而減也乎哉今試以甲丁之行易之則加減全非矣
如法以甲丁行對乘減瓜盡桃十六(甲)梨四(丁)皆
無減價相減餘八文(甲)乃分正負以價與桃同
名而重列之與乙行相對
如法乘桃同減盡榴六十四(左正)梨二十八(右負)皆
無減價同減餘四百二十四文依前論隔行之異
名即同名也不分正負而重列之與丙行相對
如法減榴餘梨六十八為法四百八文為實
法除實得梨價六文以次得諸物價皆如前
論曰此但更其前後之行耳而價皆同減無異併可見
竒減偶加之非通法矣又試以上下之位而更之
如法以甲丁先乘減去梨盡餘榴二十八(甲)瓜四
(丁)皆無減價相減餘八十文(甲)依前論分正負以
價與榴同名而重列之與乙行相對
如法乘減榴盡餘桃一百九十六(左正)瓜一十六(右負)
皆無減價相減餘五百二十文(左正)依前論復變和
數不分正負而徑與丙行重列之
如法減桃餘瓜六十八為法價五百四十四文
為實法除實得瓜價八文以次得諸物價皆如前
論曰此亦有同減無異加固不以竒偶之行而有别也
若以甲丁減餘更置之則亦有異併之用如後圖
論曰此下價何以倂異名故也何以異名凡一和一較
方程在和數行者其得必與較首位同名故其較數
之價與首位同名者則亦與和價同名也其與首位
異名者與和價亦異名也
先用丙行何也以有瓜故可與餘瓜相減亦可見行次
之非定也理之不定乃其一定凡事盡然泥一端
以定之轉不定矣
又論曰此亦復變為和數也何以知之正榴正價皆右
負桃負價皆左以之併為一行則無正負矣盖隔行
如法減桃餘榴六十八為法價二百七十二文
為實法除實得榴價四文以次得諸物價皆如前
論曰兼此數端知加減非關行數矣
統宗歌曰四色方程實可誇湏存末位作根芽若遇竒
行湏減價偶行之價要相加諸書仍訛又推而至于
五色六色皆云以末位為主而自首行以往皆與之
加減至其所以加減者又皆以行之竒偶如一行三
行五行竒數也則價與末行減二行四行偶數也則
價與末行加而不言同異名將竒行者皆同名乎偶
行者皆異名乎未可必也不知彼所設問各行逓空
兩位勢必挨列雖云四色乃四色之有空者耳非四
色之本法也(省算卷辨之極詳可以互發)既挨列矣餘行之首一
色皆空不湏乘減惟末行首行相對可以互乘非用
末行乃用上一色相對之行耳使上一色不空者在
中二行而末行反空又當以中行先用矣雖欲以末
行為主得乎
至于第二次重列而乘減者乃用首行末行相減之餘
也非專用末行也蓋兩行相減乃生餘數若謂之用
末行亦可云用首行矣
又因各行多空故徑以減餘與次行乘減得數又徑以
減餘與三行乘減乃省算之法于末行毫不相涉也
且方程之行次非有定也其前後可以互居左右中可
以相易亦何從而定之為末行乎末行無定矣又安
有竒偶之可言乎而以是為加減之定法乎
然則惡乎定曰詳和較以列減餘别同異以定加減苟
其和數也雖空無減不立正負也苟其較數也雖無
空位分正負也此列減餘之法也但同名者不論何
行皆減但異名者不論何位皆加此定加減之法也
如是而已
法實辨
算家法實皆生于問者之所求如有總物若干總價若
干而問每物若干價則是以物為法價為實也或問
每銀一兩得若干物則是以價為法以物為實也諸
算盡然則方程可知矣算海說詳曰中餘為法除下
實盖本統宗然其說非也同文算指曰以少除多其
說亦非也何以明之曰方程法實猶諸算之法實也
故必于問者之所求詳之中下多少非可執也
假如和數方程有物若干又物若干共價若干是物之
位在上中而價之位在下也若問每物之價而以物
為法銀為實是中除下也固也或問每銀一兩之物而
以銀為法物為實又當以下除中矣不知問者之所
求以物求價乎以價求物乎愚故曰中下難執也
又物之價值莫可等計有賤于銀之物以一兩而得數
千百斤有貴于銀之物以數十百金而得一物假如
有貴物若干又若干共價若干是物之數少而銀之
數多也而問每物之價謂之以少除多似也若問每
銀之物不又當以多除少乎又如有賤物若干又若
干共價若干是物之數多而銀之數少也而問每銀
物若干謂以少除多可也若問每物價若干不且以多
除少乎惟以多除少故有不滿法之實實不滿法故
有以法命之如云每銀一兩于物得幾分之幾者是
也其物多除銀少者則有退除為錢若分釐故曰多
少難拘也
多少中下既不足以定法實則法實安定曰亦惟于問
意詳之而已今具例如後
論曰方程法實只是以下一位與上中數位相湏為用
耳故有實一而法二其三色者則有實一而法三若
以下除中者則有法一而實二或法一而實三故用
互乘之法以減之及其用也則只是一法一實而已
二色者互乘而對減其一則一法一實也三色者對
減其一又對減其一亦一法一實也四色五色其法
悉同此方程立法之原也
問河工方九百尺以當築城八百尺城多一工以河工
七百二十尺當城工七百尺城多二工問每工一日
若干尺
畣曰河工每日六十尺城工每日五十尺
如法乘減餘城工五萬四千尺為實工一千
八十為法法除實得每工五十尺為城工每日之數
以城工五十尺除右行八百尺得十六工同減負一
工餘十五工以除河工九百尺得每工六十尺為河
工每日之數
論曰此以下除中也緣所問每工一日土若干尺以工
求土也故以工為法土為實若拘中法下實則法實
反矣
若問每土千尺該用幾工則當以五萬四千尺為法
一千八十工為實法除實得百分工之二是為每
城工一尺之數以所問每千尺乘之得二十工是為
城工每千尺用工二十日也若用異同除則以土
千尺乘一千八十工得一百八萬工為實以法
五萬四千尺除之得二十工為城工每千尺之數亦
同
於是以二十工乘八百尺(用右行原列)千尺除之得十六
工減負一工餘十五工河工九百尺數也以九百尺
除十五工得百分工之一又三分之二河工每尺數
也以問千尺乘之得十六工又三分工之二為河工
千尺之數用異乘同除以千尺乘十五工得一萬
五千工九百尺除之得十六工又九之六約為三之
二亦同
問開渠十七工築堡二十工共以立方計者一千六百
八十尺又渠三十工堡四十工共三千二百尺今欲
計土續工則每百尺得幾工
畣曰開渠每土一百尺(二工半)築堡每土一百尺二工
如法乘減餘堡工八十為實土四千尺為法
法除實得每尺百分工之二以百尺乘之得二工為
築堡每百尺之工(或異乘同除以百尺乘八十工得八千為實以法四千尺除之亦得)
(每百工二工)以左行堡工四十乘百尺二工除之得二
千尺以減共三千二百尺餘一千二百尺渠土數也
用除渠工三十得百分工之二半以百尺乘之得二
工半為開渠每百尺之工(或異乘同除以百尺乘三十工得三千以一千二百)
(尺除之亦得每百尺二工半)
論曰此亦以下法除中實也緣所問以土求工故也又
為以多除少盖土之數原多于工也故退除而得其
分秒而所問者每百故又有異乘同除之用也
併分母辨
自方程笇失傳有可以方程立算亦可以差分諸法立
算者則皆收入諸法而不知用方程如愚末卷所載
方程御襍法是也有實非方程法而列于方程如同
文算指所收菽麥畦工諸互乘之法是也有可以方
程算而不用方程漫以他法強合而漫謂之方程如
併分母之法是也諸互乘法非方程易知不必辨故
專辨分母
問甲乙二窖不知數但云取乙三之一益甲取甲二之
一益乙則各足二千石
畣曰甲窖一千六百石乙窖一千二百石
原法曰列位互乘甲得六千石乙得四千石相減餘二
千石為實併兩分母共五為法除之得四百石以乙
分母三乘之得一千二百石為乙窖以乙窖減二千
石餘八百石以甲分母二乘之得一千六百石為甲
窖
論曰此法不然乃偶合耳若分母為三與四即不可用
或分子為之二之三亦不可用况方程法原無平列
兩色物之理而此獨平列既平列矣又何以先得乙
窖皆不合也今以方程本法御之則無所不合
依帶分化整為零法列位
如法乘減甲減盡餘乙五分為法餘二千石
為實法除實得四百石為乙之一分以乙分母三
乘其一分得一千二百石為乙窖以乙之一分減
二千石餘一千六百石為甲窖
論曰此亦用五分為法也然為得數相減之餘非併分
母也所用之實亦二千石然為甲分互乘之數相減
非甲乙兩分母互乘相減也
亦先得四百石為乙三分之一然以乙列于中甲列
于上故先減去甲而餘乙為法以先得乙之分若列
乙于上則亦先得甲分矣試更列之以先求甲窖
如法乘减乙减盡甲餘五分為法餘四千石
為實法除實得八百石為甲之一分以甲分母二
乘之得一千六百石為甲窖
以甲之一分減二千石餘一千二百石為乙窖
論曰凡方程有各色皆可更列其上下以互求而任先
得其一色何也其互乘而對減者皆實數也若併分
母為法則無實數可言故不可以互求
愚于帶分言之備矣或化整為零(如上所列二例是也)或變零從
整或除零附整共有三法凡帶分者皆可施用若併
分母為法則多所不通矣凡此皆諸書沿誤而同
文算指亦皆收入未嘗駁正也
試以分母非三與二者求之
假如有句股不知數但云以股四之一益句以句三之
一益股則皆二丈二尺問句股各若干
畣曰句一丈八尺股一丈六尺
依化整法列位
上中下
如法乘減餘股十一分為法四丈四尺為實
法除實得四尺為股之一分以股分母四乘其一分
得一丈六尺為股
以股之一分減共二丈二尺餘一丈八尺為句
論曰此十一為法也若以股列于上則亦十一分為法
也如併分母將以七為法其能合乎
又試以分子非之一者求之
假如有股與弦不知數但云若取弦六分之二以益股
則五丈五尺若取股三分之二以當弦則少五丈五
尺問若干
畣曰股三丈弦七丈五尺
法以一和一較依化整法列位
如法互乘股同名減盡弦異名併得二十二分
為法數異名併得二十七丈五尺為實法除實
得一丈二尺五寸為弦之一分以弦分母六乘其一
分得七丈五尺為弦以弦之二分二丈五尺減共
五丈五尺餘三丈為股
論曰此以二十二為法也若以弦列于上則亦二十二
為法也而併分母是將以九為法矣豈不毫釐千里
乎
以上數則皆不可併分母為法
問者或云甲乙倉粟不知數但知共二千石其甲二之
一與乙三之一等各若干
畣曰甲八百石乙一千二百石
法以和較襍列位亦用化整為零
徧乘甲同減盡乙異併五分為法二千石無減
為實法除實為乙之一分以乙分母三乘其一
分得一千二百石為乙倉因適足故乙之一分猶
甲之一分也以甲分母二乘之得八百石為甲倉
論曰惟此有似于併母然實非併分母乃併得數之異
名者也又按併母法與方程不同
假如有倉粟取三之一又二之一共計二千石問原數
若干
畣曰原數二千四百石
法以兩母互乘其子而併之得五為法以兩母相
乘得六以乘二千石得一萬二千石為實法除實
得二千四百石為原倉之粟
論曰此即併母法也因兩分子皆一故併母用之實併
兩分母互乘其子之數也盖既曰三分二分其原數
必可以三分之又二分之者也故以兩分母相乘得
六借為原數之衰原數六則三之一即二也二之一
即三也併而用之借為所取之分如云取原數六分
之五而二千石也六分之五為二千石則其全數必
二千四百石矣此通分法非方程
設問之誤辨
算家設問以為規式意雖引而不發數則實而可稽苟
其稽之而無有真實可言之數則其意不能自明而
何以為式乎至其立法之多違于古皆以不深知算
理而臆見横生又相因而必至也故以設問為之目
今將同文算指所載井不知深例考定如後餘如此者
尚多不能一一為辨也(錢塘吳信民九章比類亦載是例非同文創立也盖方程)
(之沿誤久矣)
問井不知深以五等繩度之用甲繩二不及泉借乙繩
一補之及泉用乙繩三則借丙一用丙繩四則借丁
一用丁繩五則借戊一用戊繩六借甲一乃俱及泉
其井深若干五等繩各若干
原法曰列五行以五繩之數為母借繩一為子先取甲
二乘乙三得六以乘丙得二十四以乘丁得一百二
十以乘戊得七百二十併入子一共七百二十一為
井深積列位
一甲二乙一七百二十一
二乙三丙一七百二十一
三丙四丁一七百二十一
四丁五戊一七百二十一
五甲一負一負一負一戊六七百二十一
乃取五行為主而以一二三四俱與相乘
先以一行甲二遍乘五甲(甲一得二戊六得十二積七百二十一得一千四百)
(四十二)
五行甲一亦遍乘一行對減(甲得二減盡乙得一因五行乙空立負一積七)
(七百二十一本數以減五行仍餘七百二十一)
次以二行乙三乘五行(乙負一得負三戊正十二得三十六積七百二十一得二)
(千一百六十三)
五行乙負一亦乘二行(乙三得三對減盡丙一得一因五行丙空立負一積七百)
(二十一得本數併入五行積共二千八百八十四)
再以三行丙四乘五行(丙負一得四戊正三十六得一百四十四積二千八百八)
(十四得一萬一千五百三十六)
五行丙負一亦乘三行(丙四得四減盡丁一得一因五行丁空立負一積得本數)
(與五行對減餘一萬八百一十五)
又以四行丁五乘五行(丁負一得五戊正一百四十四得七百二十積一萬八)
(百一十五得五萬四千七十五)
五行丁負一亦乘四行(丁五得五減盡戊一得一併入五行戊正七百二十共七)
(百二十一積得本數併入五行積五萬四千七十五共五萬四千七百九十六)
乃以最後所得求之以積五萬四千七百九十六為
實戊七百二十一為法除之得戊繩七尺六寸以減
四行總積(七百二十一)餘六百四十五以丁五除之得丁
繩一丈二尺九寸以減三行積(七百二十一後同)餘五百九
十二以丙四除之得丙繩一丈四尺八寸以減二行
積餘五百七十三以乙三除之得乙繩一丈九尺一
寸以減一行積餘五百三十以甲二除之得甲繩二
丈六尺五寸
論曰此一例中有數誤一者以末行為主而以一二
三四與之相乘此由不知和較交變而沿竒減偶加
之失誤一一者謂末行有空故立負由不知有空
徑求而沿立負之非誤二一者以除法命為井深
而設問不明言丈尺誤三又輒立母逓相乘加借
子一之法誤四一例中誤至數端將令學者何所
措意乎
前之兩誤(謂以未行為主而竒減偶加反立負之法)業于瓜梨諸例辨之綦
詳可以互見今特明後兩誤之非具如後論
凡言百十者皆虚位也其實數以单位為端故单位為
寸則十者尺百者丈若单位為尺則十者丈百者十
丈若單位為丈則十者十丈百者百丈七百二十一
以為井深不知其所謂一者尺乎寸乎丈乎若七百
二十一尺七百二十一寸七百二十一丈相去甚懸
然其為七百二十一者不殊也先不明言尺寸雖得
數何以命之
詳觀問意乃借井深以知各繩故井深者和數也在各
行中皆所列諸繩之共數必先知此共數然後以乘
減之法求之而各數乃見矣而不先言井深轉借各
繩以求之方程中無此法也故其所得但為七百二
十一之虚率而不能斷其為丈尺何等亦固然耳
七百二十一亦非井深定率何也倍七百二十一則一
千四百四十二若三其七百二十一則二千一百六
十三推之以至于無窮凡可以七百二十一除之而
盡者皆可以五等繩相借而及泉也故使其井為一
丈四尺四寸二分之深則戊繩必一尺五寸二分丁
繩必二尺五寸八分丙繩必二尺九寸六分乙繩必
三尺八寸二分甲繩必五尺三寸矣使其井為二十
一丈六尺三寸之深則戊繩二丈二尺八寸丁繩三
丈八尺七寸丙繩四丈四尺四寸乙繩五丈七尺三
寸甲繩七丈九尺五寸矣皆甲二偕乙一若乙三則
偕丙一若丙四則偕丁一若丁五則偕戊一若戊六
則偕甲一而及泉故曰七百二十一非井深之定率
也
七百二十一者除法也以此為法除井深乘併之數而
得一繩因以知各繩即不得以此命為井深
除法法也井深實也而以法為實乎
以七百二十一為除法乃繩也如所求先得戊繩之數
則此七百二十一者即是戊繩也其五萬四千七百
九十六者乃七百二十一戊繩之共數也以戊繩七
百二十一為法除其共數而得七十六則是一戊繩
之數也故七百二十一者繩也五萬四千七百九十
六者井深也(假如一井深七丈二尺一寸則七十六井共深五百四十七丈九尺六寸井無)
(此深乘併而有也數猶戊繩之七百二十一亦以乘併而得也)而顧以繩之積為井
深之積乎
假如井深一丈四尺四寸二分依法求之其為戊繩之
共數必一百九丈五尺九寸二分而其戊繩亦必
七百二十一以七百二十一為法除一百九丈五
尺九寸二分得一尺五寸二分則一戊繩之數矣故
曰七百二十一者非井深也乃除法也繩也繩之為
除法者有定而其所除之井深無定也
又輒立母子乘併之法夫以各繩為母而借繩為子未
大失也盖于三繩中取一即是三之一于四繩取一
亦即四之一也乃謂七百二十一為母相乘而加借
子則非也盖位既迭空除首位減去外皆母與相乘
乘子與相乘而不相遇至第四次乃相遇而又適當
其變為一和一較之時異名相併故得此數以為除
法耳固不得立此以為通法也
假如問五色方程而各行不空則和較之變多端豈預
知其減併即使各行有空如所列而或為較數則有
減而無併亦將以借子加之乎
又所加之一乃子相乘之數若遇借子為之二之三則
皆不能徑用其原借之子數也故曰非通法也
今試以井深一丈四尺四寸二分者舉例如後
假如有井深一丈四尺四寸二分以甲乙丙丁戊五等
繩汲之皆不及泉若甲借乙三之一乙借丙四之一
丙借丁五之一丁借戊六之一戊借甲二之一皆及
泉問繩各長若干
法以帶分和數列位
上上上下中上中下下上下下
依空位省算先以一行與五行對乘甲減盡乙
一戊十二皆無對不減和數餘一丈四尺四寸二
分乙在首行戊與一丈四尺四寸二分在五行
分正負列之和變較也餘行無甲繩不湏減
徑以減餘與次行相對
依和較相襍法互乘乙繩同減盡丙一(左正)戊三
十六(右負)皆無減和較數異併五丈七尺六寸八分
(右負左正)復變和數不分正負(隔行異名併故也)
依和數乘丙繩減盡丁繩一(左)戊繩一百四十
四(右)皆無減和數減餘二十一丈六尺三寸(右)又
復變和數也分正負列之
餘行又無丙繩徑以減餘與第四行相對
上中下
依和較相襍乘丁同減盡戊異併七百二十一
為法和較數異併一百九丈五尺九寸二分為
實法除實得一尺五寸二分為戊繩六之一以
減共一丈四尺四寸二分得一丈二尺九寸為丁繩
五除丁繩得二尺五寸八分為丁繩五之一以
減共一丈四尺四寸二分餘一丈一尺八寸四分為
丙繩四除丙繩得二尺九寸六分為丙繩四之一
以減共一丈四尺四寸二分餘一丈一尺四寸六
分為乙繩三除之得三尺八寸二分為乙繩三之
一以減共一丈四尺四寸二分得一丈六寸為
甲繩二除之得五尺三寸爲甲繩二之一以
減共一丈四尺四寸二分得九尺一寸二分爲
戊繩
計開
論曰此亦七百二十一為除法也減併之用與前無異
而井深既别繩數迥殊不先言丈尺何以定之
試又以較數明之
今有數不知總其五人所分亦不知各數但云取乙三
之一以當甲取丙四之一以當乙取丁五之一以當
丙取戊六之一以當丁取甲二之一以當戊皆不足
七百一十九問若干
畣曰甲一千三十四乙九百四十五丙九百
四丁九百二十五戊一千二百三十六
法以較數列位
依帶分法化整爲零
如法乘甲同減盡乙一(左負)戊十二(右負)皆無減
同名在隔行仍分正負較數異併與戊同名餘
行無甲徑以減餘對第三行
如法乘乙同減盡丙一(左負)戊三十六(右負)皆無減
以隔行同名分正負較數異併與戊同名餘
行無乙徑以減餘對第四行
如法乘丙同減盡丁一(左負)戊一百四十四(右負)皆
無減以隔行同名分正負較數異併仍與戊同
名餘行無丙徑以減餘對末行
如法乘丁同減盡戊同減餘七百一十九為法
較數異併一十四萬八千一百一十四為實法
除實得二百五為戊之一分加正七百一十九共
九百二十五為丁數五除丁數得一百八十五為
丁之一分加正七百一十九共九百四為丙數
四除丙數得二百二十六為丙之一分加正七百一
十九共九百四十五為乙數三除乙數得三百一
十五為乙之一分加正七百一十九共一千三十
四為甲數二除甲數得五百一十七加負七百一
十九共一千二百三十六為戊數六除戊數仍得
二百六為戊之一分
計開
論曰此其母與母相乘子與子相乘與前略同但末後
相遇為同減故不以七百二十一為法而以七百一
十九為法無他較數也若依母相乘而併子豈不誤
哉
且四次乘減其下較皆異倂亦足見竒減偶併之非
又以法同而得數迥異者明之
今有數五宗不知其總但云以乙三之一當甲以丙四
之一當乙以丁五之一當丙以戊六之一當丁皆適
足若以甲二之一偕戊則共數七百二十一問各若
干
法以和較帶分列位化整為零
甲同減盡乙一(左負)戊一十二(右正)皆無減一千四
百四十一亦無減隔行異名即同名也變為和數
重列之與次行對
乙同減盡丙一(左負)戊三十六(右正)四千三百二十六
(右正)皆無減皆隔行異名亦變和數重列與第三行
對
丙同減盡丁一(左負)戊三十六(右正)一萬七千三百
四(右正)皆無減隔行異名仍變和數重列與第四行對
丁同減盡戊異併七百二十一為法八萬六千
五百二十無減就為實法除實得一百二十為戊
六之一即丁數五除之得二十四為丁五之一即
丙數四除之得六為丙四之一即乙數三除之
得二為乙三之一即甲數半之得一為甲二之一
以減共七百二十一餘七百二十為戊數
計開
甲二乙六丙二十四丁一百二十戊七百二十
論曰此亦以七百二十一為法而其各數迥不相類則
以下數之為和為較迥不相同也然則井深者即和
數也而不先言其丈尺顧以除法命之可乎
又試以分子逓借而非之一者明之
今有甲乙丙丁船各十隻以載鹽九千七百七十六引
俱不足若甲借乙一乙借丙二丙借丁三丁借甲四
則各能載問各船若干
法以和數列位
列後
甲減盡乙四(右)丁一百(左)皆無減以兩行故分
正負載鹽餘五萬九千八百五十六(左)與丁同名
甲空與減餘對次行
乙同減盡丙八(左正)丁一千(右負)俱無減引異併六
十三萬八千四百六十四(右負左正)異名在隔行復變和
數無正負乙空以減餘對三行
丙減盡丁餘九千九百七十六為法引餘六百
三十萬四千八百三十二為實法除實得六百
三十二引為丁船數以丙借丁船三乘丁數得一
千八百九十六以減共九千九百七十六引餘八千
八十丙所載也以丙十除之得八百八引為丙
船數以乙借丙船二乘丙數得一千六百一十六
以減共九千九百七十六引餘八千三百六十乙所
載也以乙十除之得八百三十六引為乙船數
以乙船數減共九千九百七十六餘九千一百四十
甲所載也以甲十除之得九百一十四引為甲船數
計開各船每隻載數
甲船九百一十四引
乙船八百三十六引
丙船八百八引
丁船六百三十二引
論曰此四色方程逓借法與諸書所載馬騾載米同亦
與同文算指井不知深同但彼誤以除法為井深又
誤立各母逓乘加借子法故設此問以顯其理
此所用除法丁船九千九百七十六猶彼所用除法戊
繩七百二十一也乃除法也非井深也除法有定而
井深無定即如此問九千九百七十六之除法有定
而鹽之數無定也何言乎無定假如以九千九百七
十六引而倍之則各船之所載亦倍矣以引數半之
船所載亦半矣然其除法之九千九百七十六如故
也若不先言引數何知之
共載九千九百七十六引者鹽數也以九千九百七十
六為法而除者船數也船為法者算家虚立之率鹽
列位者問者現據之實數數雖偶同為用迥别
以各原數為母借數為子是也如甲借乙船一而乙船
原有十即十分之一也謂母相乘而加借子一則非
法也如此所用除法九千九百七十六何以處之又
如後條馬步舟師各借二分者又何以處之數雖似
不可施之他數非通法矣
又試以三色例亦用異加得除法者觀之
假如有馬步舟師不知數但云取騎兵五分之二益步
取步卒三分之二益舟取舟師七分之二益騎則皆
得六千七百八十名
畣曰步卒四千五百名騎兵五千七百名
舟師三千七百八十名
法以和數帶分列位
依省笇以左行加二分之一步卒減盡騎二分
(右)舟師十分半(左)皆無減共數減餘三千三百
九十(左)分餘兩行變較數也以較數與舟師同名
中行步卒原空徑以減餘作二色列之
依省算四因左行而退位騎同減盡舟師異併
十一分三釐為法和較數異併六千一百二為
實法除實得五百四十為舟師之一分以分母
七乘之得三千七百八十名為舟師數
以舟師數減共數六千七百八十餘三千所借步卒
之二分也二除之分母三乘之得四千五百為步
卒數
以步卒數減共數六千七百八十餘二千二百八十
所借騎兵之二分也二除之分母五乘之得五千
七百名為騎兵數
論曰此雖以異加而得除法然不得竟以子之二加也
故以分子一加者非通法也
歷算全書卷四十三
