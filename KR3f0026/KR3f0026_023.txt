歷算全書卷二十一
宣城梅文鼎撰
歷學騈枝卷一
大統歷步氣朔用數目錄
元世祖至元十七年辛巳歲前天正冬至為歷元
按古歷並溯太古為元各立積年未免牽合故久而
多差惟授時歷不用積年截用至元辛巳為元一憑
實測而無假借故自元迄明承用三四百年法無大
差以視漢晉唐宋之屢改屢差不啻霄壤故曰授時
歷集諸家大成盖自西歷以前未有精於授時者徐
文定公歷書亦截崇禎戊辰為元而廢積年用此法
也(又按大統歷以洪武甲子為元然易其名不易其實故臺官布算仍用至元辛巳也)
周天三百六十五萬二千五百七十五分
半周一百八十二萬六千二百八十七分半
天體渾員自角初度順數至軫末度得周天度分均
剖之即半周天
按天本無度因日躔而有度古歷代更天度異測授
時歷用簡儀實測當時度分視古為密
度法一萬分
按古歷以日法命度並有畸零(如太初歷以八十一分為日法大衍歷以)
(三千四百分為日法而度法因之亦有畸零)惟授時歷不用日法故一度
即為一萬分而周天三百六十五度二五七五分即命
為三百六十五萬二千五百七十五分此王郭諸公
之卓見超越千古也又按授時歷周天百年長一今
大統不用此其與授時微異者也
歲周三百六十五萬二千四百二十五分
歲周一名歲實自今歲冬至數至來歲冬至得此日
數實不及周天一百五十分而歲差生焉
半歲周一百八十二萬六千二百一十二分半
均剖歲周也自天正冬至算至本年夏至又自本年
夏至數至本年冬至其日數並同
氣策一十五萬二千一百八十四分三十七秒半
置歲周日數以二十四氣平分之得此日數謂之恒
氣
日周一萬分(自今日子正至來日子正共得此數)刻法一百分(每日百刻故也)
旬周六十分(自甲子至癸亥六十日之積分)紀法六十日(即旬周也)
按日周一萬分乃整齊之數故旬周亦整六十日也
太陽行天每日一度前云度法萬分者亦以此也並
以整萬分立算而無畸零故曰不用日法也又按授
時歷歲周上考已往百年長一分下推將來百年消
一分大統省不用故不言也
通餘五萬二千四百二十五分
置歲周減六旬周得餘此數即五日二十四刻二十
五分乃一年三百六十日常數外之餘日餘分
氣應五十五萬千六百分
此授時歷所用至元辛巳天正冬至為元之日時也
是為己未日丑初一刻乃實測當時恒氣之應上考
已往下求將來並距此立算以此為根也其數自甲
子日子正初刻算至戊午日夜子初四刻得五十五
日又自己未日子正初刻算至丑初一刻得六刻合
之為五十五萬零六百分
歲策三百五十四萬三千六百七十一分一十六秒
此十二朔策之積也自今年正月經朔至來年正月
經朔得此積分或置歲實内減歲閏亦同
朔策二十九萬五千三百五分九十三秒
此太隂與太陽合朔常數乃晦朔弦朢一周也自本
月經朔至次月經朔得此積分又謂之朔實乃十二
分歲策之一
朢策一十四萬七千六百五十二分九十六秒半
此朔策之半乃二十四分歲策之一自經朔至經朢
又自經朢至次月經朔並得此數又謂之交朢
弦策七日三千八百二十六分四十八秒二五
此朢策之半乃四分朔策之一自經朔至上弦又自
上弦至經朢又自經朢至下弦至次月經朔其數並
同
月閏九千百六十二分八十二秒
此一月兩恒氣與一經朔相差之數置氣策倍之得
三十萬四千六十八分七十五秒内減朔策得之
歲閏一十萬八千七百五十三分八十四秒
此十二箇月閏之積也亦名通閏
閏應二十萬二千百五十分
此至元辛巳為元之天正閏餘也盖即己未冬至去
經朔之數當時實測得辛巳歲前天正經朔是三十
四萬八千五百五十分即至元庚辰年十一月經朔
為戊戌日八十五刻半為戌正二刻也
閏凖一十八萬六千五百五十二分九秒
置朔策内減歲閏得之
盈初縮末限八十八日九千百九十二分二十五秒
此冬至前後日行天一象限之日數盖冬至前後一
象限太陽每日之行過於一度故也(四分歲周所行度得九十一度)
(三一六二五為一象限)
縮初盈末限九十三日七千一百二十分二十五秒
此夏至前後日行天一象限之日數也盖夏至前後
一象限太陽每日之行不及一度故也
按盈初者定氣冬至距定氣春分之日數縮末者定
氣秋分距定氣冬至之日數也此兩限者並以八十
八日九十一刻稍弱而行天一象限縮初者定氣夏
至距定氣秋分日數盈末者定氣春分距定氣夏至
日數也此兩限者並以九十三日七十一刻有奇而
行天一象限今現行時憲歷節氣有長短即此法也
又按古歷每日行一度原無盈縮言盈縮者自北齊
張子信始也厥後隋劉焯唐李淳風僧一行言之綦
詳歷宋至元為法益密然不以之註歷者為閏月也
大衍歷議曰以恒氣注歷定氣算日月食由今以觀
無處不用但每月中節仍用恒氣不似西洋之用定
氣耳西洋原無閏月祇有閏日故以定氣註歷為便
若中土之法以無中氣為閏月故以恒氣註歷為宜
治西法者不諳比氣輒訶古法為不知盈縮固其所
矣
轉終二十七萬五千五百四十六分
此月行遲疾一周之日數也内分四限入轉初日太
隂行最疾積至六日八十餘刻而復於平行謂之疾
初限厥後行漸遲積至十三日七十七刻奇而其遲
乃極謂之疾未限於是太隂又自最遲以復於平行
亦六日八十餘刻謂之遲初限厥後行又漸疾亦積
至十三日七十七刻奇其疾乃極如初日矣謂之遲
末限合而言之共二十七日五十五刻四十六分而
遲疾一周謂之轉終也
轉中一十三萬七千七百七十三分
即轉終之半(解見上文轉其數一名小中)
轉差一萬九千七百五十九分九十三秒
置朔策内減轉終得之乃相近兩經朔入轉之相差
日數也
轉應一十三萬千二百五分
此至元辛巳天正冬至日入轉日數也盖實測得冬
至己未日丑初一刻太隂之行在疾末限之末日也
交終二十七日二千一百二十二分二十四秒
此太隂出入黃道陽歷隂歷一周之日數也
交差二日三千一百八十三分六十九秒
置朔策内減交終得之乃相近兩經朔入交之相差
日數也
交應二十六萬千三百八十八分
此至元辛巳天正冬至入交泛日也(乃實測冬至己未日丑初一刻)
(月過正交日數)
氣盈日二千一百八十四分三十七秒半
此氣策内減十五整日外餘此數(一月兩恒氣共盈四千三百六十八)
(分七十五秒)
朔虚日四千六百九十四分七秒
置三十日内減朔策得之乃一朔策少於常數三十
日之數
沒限日七千八百一十五分六十二秒半
置日周一萬内減氣盈得之
土王策一十二日一千七百四十七分五十秒
又土王策三日千四百三十六分八十七秒半
按土王策一名貞策置歲實以五除之得七十三日
四八五為一歲中五行分王之日數又為實以四
除之得一十八日二六二一二五為每季中土王日
數内減氣策得餘三日(四三六八七五)為土王策乃自辰
戌丑未四季月中氣日逆推之數土王策四因之得
十二日(一七四七五)亦為土王策乃自四季月節氣日順
數之數二者只須用一今並存者所以相考也
宿會二十四萬
宿餘分一萬五千三百五分九十三秒
日直宿二十八日一周是為宿會以宿會減朔實得
宿餘
限策九十限六八三八六五
置弦策以十二限二十分乘之得此數故以全加得
次限
限總一百六十八限八三六(一名中限)
置小轉中以十二限二十分乘之得此數故限策加
滿則用以全減
朔轉限策二十四限一七一一四六
置轉差以十二限二十分乘之得此數故以全加得
次朔限
按以上三者為求遲疾限之捷法然可不用盖既有
日率相減之法則十二限二十分乘之法已為筌蹄
何况限策
盈策六十九萬六千六百九十五分二十八秒
置氣盈分為實以氣策除之得每日盈一百四十三
分五三四七七五轉用為法以除日周得每六十九
日六六九五二八而盈一日是為盈策故以加盈日
即得次盈
虚策六十二萬九千一百四分二十二秒
置朔虚分以朔策除之得每日虚一百五十八分九
五六一七一轉用為法以除日周得六十二日九一
四二二而虚一日是為虚策故以加虛日即得次
虛
大統歷步氣朔法
求中積分
置歲實三百六十五萬二千四百二十五分為實以距
至元辛巳為元之積年減一為法乘之即得其年中積
分(定數以歲實定六子以積年視有十年定一子百年定二子乘法言十加定一子得數後共以八子約之)
(為億也)如徑求次年中積分者加一歲實即可得之
中積分者自所求年天正冬至逆推至辛巳為元之
天正冬至中間所有之積日積分也積年減一者以
歲前天正冬至為立算之根故也假如康熙元年壬
寅距至元十七年辛巳該三百八十二算法祗以三
百八十一年入算是為減一用之也盖欲算本年之
氣朔必以年前天正冬至為根是所求康熙壬寅年
之中積分乃順治辛丑年十一月冬至之數故也
定子法者為珠算定位設也其法十定一子百定二
子千定三子萬定四子十萬定五子百萬定六子千
萬定七子億萬定八子歲實首位是三百萬故定六
子積年有十定一有百定二皆一法也言十加定一
子者以乘法首位言之凡法首位與實首位相呼九
九數有言十之句則得數進一位故加定一子此條
原文缺此句余所補也得數以八子約之為億者謂
視原定之子若有八子則乘得數首位是億也未乘
之先視法實之數以定子故既乘之後即據所定之
子以定得數此法最便初學也
附歲實鈐
千百十萬
一三六五二四二五凡用鈐自單年起有
二七三四八五十年則進一位用之
三一九五七二七五有百年又進一位即
四一四六九七得所求中積分並以
五一八二六二一二五單年無定之位推而
六二一九一四五五上之即算位俱定
七二五五六六九七五
八二九二一九四
九三二八七一八二五
求通積分
置所得其年中積全分加氣應五十五萬千六百分
即得所求通積分如徑求次年亦加歲實
前推中積分是從辛巳歷元天正冬至起算今加氣
應是又從辛巳歷元冬至前五十五日六刻起即
甲子日子正初刻也
求天正冬至
置通積全分滿紀法六十萬去之餘為所求天正冬至
分也萬以上命起甲子算外為冬至日辰(欲求時刻依發斂加時條求之)
(見後)如逕求次年者不拘有無閏月並加通餘五萬二四
二五滿紀法去之即得
通積分既從甲子起算故滿紀法去之即知日辰也
算外命日辰者以有小餘也凡滿萬分成一日者為
大餘九千分以下皆為小餘大餘為日乃先一日之
數小餘為時刻乃為本日故取算外也
求天正閏餘分
置其年中積全分如閏應二十萬二千百五十分
為閏積以滿朔實二十九萬五千三百五分九十三
秒除之為積月其不滿者即為所求年天正閏餘分也
閏餘分滿閏凖一十八萬六五五二九者其年有閏
月(補法閏餘滿十六萬八四二六四五以上者其年冇閏如用閏凖須加兩月閏)如逕求次年
天正閏餘者不拘有無閏月並加通閏一十萬八七
五三八四滿朔策去之即得(如却求前歲閏者置本年閏餘内減通閏得之閏餘)
(小于通閏不及減加朔實減之即是)
閏餘分者乃歲前天正冬至距天正經朔數也法當
自辛巳歷元天正經朔起算故以閏應通之也
閏凖是朔實内去十二箇月閏之數若閏其年十一
二月者此法不能御故有補法也若於所得閏餘分
加一萬八千一百二十五分六四(兩月閏之數)再用閏凖
取之亦同
附經朔鈐
百十萬
一二九五三五九三閏積内與經朔鈐數
二五九六一一八六同者減去之減至不
三八八五九一七七九滿一朔實二十九萬
四一一八一二二三七二五三五九三而止
五一四七六五二九六五其餘數即閏餘分
六一七七一八三五五八
七二六七一四一五一
八二三六二四四七四四
九二六五七七五三三七
求天正經朔
置其年通積全分内減去其年閏餘全分滿紀法六十
萬去之餘為所求天正經朔分
又法置冬至内減閏餘即得經朔如冬至小于閏餘不
及減加紀法六十萬減之如逕求次年天正經朔者無
閏加五十四萬三六七一一六(十二朔實去紀法之數)有閏加
二十三萬八九七七九(十三朔實去紀法之數)並滿紀法去
之即得
朔者日月同度之日經者常也經朔者朔之常數所
以别于定朔也古人只用平朔故日蝕或在晦二唐
以後始用定朔則蝕必於朔然不知經朔則定朔無
根故必先求定朔
先推通積分自歷元甲子日算至冬至減去閏餘是
從甲子日算至經朔故去紀法即得經朔之大小餘
也
先推冬至分是以紀法減過通積而得乃冬至前甲
子日距冬至數内減閏餘即為甲子日距經朔數也
如冬至小于閏餘是此甲子日雖在冬至前却在經
朔後故加紀法減之是又從經朔前甲子算起也
求天正盈縮歷
置半歲周一百八十二日六二一二五内減去其年閏
餘全分餘為所求天正縮歷也(補法若其年冬至與經朔同日而冬至加時在)
(經朔前則天正經朔入盈歷)如逕求次年天正縮歷者内減去通閏
一十萬八七五三八四得之減後視在一百五十三
日九以下者再加一朔策即是
按冬至交盈歷夏至交縮歷各得歲周之半今置半
歲周是減去盈歷半周祇用縮歷半周從夏至日算
至冬至日之數也内減閏餘即為從夏至算至十一
月經朔日數故恒為縮歷
亦有入盈歷者其前必有閏月而至朔同日冬至小
餘又小于經朔小餘先交冬至後交經朔其經朔已
入盈歷法當於經朔小餘内減去冬至小餘命其餘
為天正盈歷也若冬至小餘大於經朔小餘不用此
法盖雖至朔同日而朔在至前仍為縮歷此處原本
所缺故備著之
凡閏餘加通閏即為次年閏餘今所得天正縮歷是
半周内減閏餘之數于中又減通閏即如減次年閏
餘矣故逕得次年天正縮歷也一百五十三日九
以下者半周内減一朔策也減後得此必有閏月在
次年天正經朔前故必復加朔策而得次年天正朔
歷也
求天正遲疾歷
置其年中積全分内加轉應一十三萬二五減去
其年閏餘全分為實以轉終二十七萬五五四六為法
除之其不滿轉終之數若在小轉中一十三日七七七
三以下者就為所求天正疾歷也若在小轉中以上者
内減去小轉中則為天正遲歷也
如逕求次年天正遲疾歷者加二十三日七一一九一
六(十二轉差積數)經閏再加轉差一日九七五九九三並滿轉
終去之遲疾各仍其舊若滿小轉中去之者遲變疾疾
變遲也
中積分原從歷元冬至起算至所求天正冬至止今
加轉應減閏餘是從歷元冬至前十三日初交疾歷
時起算至所求年天正經朔止故不滿轉終即為天
正疾歷也轉中者轉終之半故疾歷滿此即變遲歷
也
附轉終鈐
百十萬
一二七五五四六
二五五一九二
三八二六六三八
四一一二一八四
五一三七七七三
六一六五三二七六
七一九二八八二二
八二二四三六八
九二四七九九一四
求天正入交泛日(原本作交泛分今依歷經改定)
置中積減閏餘加交應二十六萬三八八為實以交
終二十七萬二一二二二四為法除之其不滿交終之數
即為所求天正入交泛日及分也
如逕求次年天正入交日者無閏加六千百八二
四(十二交差内減去交終之數)有閏加二萬九千二百六五七三(十三)
(交差内減去交終之數)即得
中積減閏餘與求遲疾法同加交應是從辛巳歷元
前二十六日初入正交時算起也故不滿交終即為
天正入交日也泛者對定而言也有經朔有定朔則
入交之深淺亦從之而移此所得者經朔下數故别
之曰泛
附交終鈐
百十萬
一二七二一二二二四
二五四四二四四四八
三八一六三六六七二
四一八八四八八九六
五一三六六一一二
六一六三二七三三四四
七一九四八五五六八
八二一七六九七七九二
九二四四九一一六
推經朔次氣及弦望法
置天正經朔全分加五十九萬六一一八六(即二朔策)滿
紀法六十萬去之為所求年正月經朔累加朔策二十
九萬五千三百五九三為逐月經朔累至次年天正
經朔必相同也(次年天正經朔在本年為十一月)復以朢策一十四萬
七六五二九六五累加各月經朔得經朢又加之即得
次月經朔復以弦策七萬三八二六四八二五累加
經朔得上弦加上弦即復得經朢又加之得下弦又加
之復得次月經朔凡累加時並滿紀法去之其復得
數必與原推分秒不異(或先加弦策次加朢策亦同)
前有逕求次年天正經朔法與此挨次累加之數互相
參考即知無誤算法還原之理也以後並同
推恒氣次氣法
置天正冬至日及分加四十五萬六五五三一二五(即三)
(氣策)滿紀法去之為所求年立春恒氣累加氣策一十五
萬二一八四三七五滿紀法去之得各恒氣加至本年
冬至即與前逕推次年天正冬至相同也
附二十四恒氣鈐
立春(次年)正月節五十萬八九七八一二五
右鈐以加天正冬至滿紀法去之即逕得各月恒
氣大小餘
凡恒氣大餘命起甲子算外得日辰小餘命時刻
(依發斂加時條取之)並同冬至法
推盈縮歷次氣法
置天正盈縮歷日及分加五十九萬六一一八六滿
半歲周一百八十二日六二一二五去之為所求年正
月經朔下盈歷也累加朔策二十九萬五三五九三
為逐月經朔盈歷也盈歷加滿半歲周去之交縮歷又
累加之滿半歲周去之復交盈歷也(累加至十一月即與次年天正盈縮)
(歷相同)復以弦策七萬三八二六四八二五累加之各
得弦朢乃次朔之盈縮歷也(至次朔亦必相同)
盈歷滿初限八十八日九九二二五為有末之盈
縮歷滿初限九十三日七一二二五為有末之縮
推初末限法
置半歲周一百八十二日六二一二五内減有末之盈
縮歷全分餘為所求各末限日分也復於各盈縮末
限日分累減弦策七萬三八二六四八二五得各弦朢
及次朔下盈縮末限必相同也若不及減弦策者末
限已盡盈交縮縮交盈也(補法置弦策以不及減之餘末轉減之即各得所交盈縮)
(初限日分相同也)
凡盈歷算起冬至縮歷算起夏至並從盈縮初日順
推至所求日時若盈末則算起夏至縮末則算起冬
至並從盈縮盡日逆推至所求日時故置半歲周減
之而得末限日分也
所得末限日分是所求日時距盈縮末盡日遠近之
數朔而弦朢入歷益深則其距末盡日益近故在初
限累加弦策者在末限即用累減而得也
推盈縮差法
置盈縮歷全分(若係末限則置所得末限全分)減去大餘不用只用小
餘(有千分定三有百定二有十定一)並以立成相同日數下取其盈縮
加分為法乘之(加分有百定二有十定一言十加定一子)得數以所定八子
約之為度位乃於立成取本日下所有盈縮積與得數
相倂即得所求盈縮差
凡言八子或九子約之為度者乃是於得數上定此虚
位以便與盈縮積度相加非言得數有八子九子也假
如八子為度位而原所定只有五子即得數為度下三
位若盈縮積有度即度得數上第三位加之法於得數
首位呼五字逆上數之曰五六七八至八字住於此加
積度即無誤也遲疾歷同
盈縮加分是本日太陽行度或過或不及于一度之
分也(或日行過于一度而有餘分是為盈加分或日行不過一度而有欠分是為縮加分)盈縮
積度則是本日以前加分累積之數也(總計逐日盈加分為盈積)
(度總計逐日縮加分為縮積度)法當以小餘乘本日加分為實日周
一萬分為法除之即得小餘時刻内所有之加分乃
以得數倂入本日以前原有之積度則為本日本時
之盈縮差矣(歷經云萬約為分即是以日周一萬除乃本法也)兹以定子法約
之故以八子為度所得亦同(假如以千乘百共定五子則所得乘數為十萬)
(分就用為實以日周一萬為法除之當去四子剰一子則所得除數成十分是于度下為第三位也何以)
(言之盖度下有千有百故十分為第三位今于所定五子虚進三位至八子位命為度以加積度即得數)
(十分適居度下第三之位而相加無誤矣理前條八子命億而此以八子約為度何也曰無二也八子)
(于乘得數原是億位盖億即一萬萬用萬萬為實以一萬為法除之當去四子剩四子則除後得數為萬)
(而成度位今不去子故以八子為度其實即歷經萬約為分之法非有二也)
問初限是從盈縮初日順推(盈初從冬至起算縮初從夏至起算並數其已)
(過之日)其小餘亦順推(並自本日子正刻起順下丑寅數至所求時刻)若末限
則是從盈縮末盡日逆數(盈末距夏至立算縮末距冬至立算皆數其未到之)
(日)其小餘亦逆數(並自本日夜子初刻逆轉亥戌數至所求時刻)而加分乘
小餘加積度之法並無有異且盈縮互用(盈末所用之加分積)
(度即縮初之數縮末所用之加分積度即盈初之數)何也曰凡初限所積之盈
縮度分並為末限之所消(假如盈初限共有積盈度二度四十分一交盈末即)
(每日有所縮以消其積盈直至盈末盡日其盈消盡而交夏至為縮歷矣又如縮初限共有積縮度二度)
(四十分一交縮末即每日有所盈以消其積縮直至縮未盡日其縮消盡而交冬至復為盈歷矣)故
同一加分也在初限為日增之分在末限則為日消
之分(假如盈末限未到夏至若干日與縮初限已過夏至之日數等則其日行度之所縮亦等故盈)
(末日即用縮加分又如縮末日與盈初限之日數等則其距冬至等而日行之所盈亦等故縮末日即用)
(盈加分)同一積度也在初限為己積之度分若末限則
為未消之度分(假如盈末每日内各有縮加分以消其盈而今盈末尚有若干日則其縮)
(加分末用而積盈亦未消累而計之其數必與縮初限相同日數下之積度等故即用縮積度為盈積度)
(也縮末即用盈積度為未消之縮積度其理亦同)今末限既有小餘則此時
刻内亦必有未消之零分在積度外故以小餘乘加
分而萬約之(即八子為度之法解已見前)倂入積度即知此日此
時尚有未經消盡之積度共若干度分而命之為盈
縮差矣(盈末日雖用縮加分縮積度取數而仍為盈差縮末日雖用盈加分盈積度取數而仍為)
(縮差盖其加分積度為逐日之盈縮而盈縮差分是總計初日以來之盈縮故也)
推遲疾歷次氣法
置天正遲疾歷日及分加三日九五一九八六(兩轉差數)為
所求年正月經朔下遲疾歷也以後累加轉差即得各
月經朔下遲疾歷也凡加後如滿小轉中一十三萬七
七七三者去之疾變為遲遲變為疾不滿者遲疾不變
累加至十一月即與次年天正遲疾歷相同也復以
弦策七日三八二六四八二五累加之各得弦朢及次
朔之遲疾歷亦滿小轉中去之變遲疾也
本宜累加朔策而去轉終今用轉差是捷法其得數
同也
附轉差鈐
一一日九七五九九三用鈐加正月經朔下
二三日九五一九八六遲疾歷可逕求各月
三五日九二七九七九遲疾歷若加滿小轉
四七日九三九七二中去之疾變遲遲變
五九日八七九九六五疾也
六十一日八五五九五八
七日五四六五一自七箇月以後為減
八二日三六四四過小轉中之後加後
九四日六六三七即變遲疾若加滿小
十五日九八二六三轉中去之反不變也
十一七日九五八六二三
十二九日九三四六一六
推遲疾歷限數法
置遲疾歷日及分(十日定五單日定四日有千定三日千有百定二有十定一)以
十二限二十分(定一)為法乘之(言十定一)得數以所定有四子
為單限五子為十限六子為百限即得各遲疾歷限數
如逕求次弦朢之限數者(如自朔求上弦自上弦求朢之類)每加限
策九十限即得加滿中限一百六十八限去之則變遲
疾如超次月(如以朔求次朔以上弦求次月上弦之類)累轉加朔轉限策
二十四限一即得(亦滿中限去之而變遲疾)如累加之至十箇月
間有多一限乃二十分尾數積成故有退一限減之之
法不必致疑皆以日率為定也
遲疾分限數何也太隂行天有遲疾其遲疾又有初
末與太陽之盈縮同所不同者太陽之盈縮以半歲
周分初末而其盈縮之度止于二度奇太隂之遲疾
以十三日七十七刻奇分初末而其遲疾之度至于
五度奇(疾初只六日八十八刻奇而疾五度遲初只六日八十八刻奇而遲五度)歷家以
八百二十分為一限(即八刻竒)一日分十二限二十分而
自朝至暮逐限之遲疾細分可得而求矣
捷法以所得遲疾歷與立成中遲疾日率相較擇其
相近者用之(或所得遲疾歷日及分即立成内日率相同或稍強于日率即可取用)即
可逕得限數(此法可免十二限乘亦即無退退一限減之之事余所補也)
推遲疾差法
置遲疾歷日及分以立成内相同限下日率減之(如立成日)
(率大不及減即退一限減之)用其餘分為實(有百分定四子十分定三子單分定二子十秒)
(定一子)以其下損益分(十分定五子單分定四子十秒定三子單秒定二子)為法乘
之(言十定一)得數又為實以八百二十分(去二子)為法除之(不滿)
(法又去一子)得數取所定八子為度位視立成是益分即于
得數上依位加本限下遲疾積度(如盈縮差加積度法)若是損分
即置遲疾積度内減去得數(如八子為度位而所定只五子則于度下第三位減)
(之餘倣此)即各得所求遲疾差
遲疾日率者每限八百二十分之積數也(如滿八百二十分則)
(為一限滿兩箇八百二十分則為二限乃至滿十箇八百二十分即為十限百箇八百二十分即為百限)
(故曰日率)而所得遲疾歷未必能與各限之日率巧合而
無零分故以此日率減之即知此日太隂之行度己
足過若干限而尚餘若干時刻也(每限八百二十分即八刻奇未滿此)
(數皆為零分)
損益分者各限内遲疾進退之差也自初限至八十
三限為益分其遲疾為進也(在疾歷則益其疾在遲歷亦益其遲故並為益)
(分)自八十四限至一百六十八限為損分其遲疾為
退也(在疾歷則損其疾在遲歷亦損其遲故並為損分)此損益分皆整限八
百二十分之數零分所有之損益必小于八百二十
分之損益故以零分乘八百二十分除也
遲疾積度者是本限以前所積之遲疾度分也(如在八十)
(三限以前則為日益之積數八十四限以後則為日損之餘數)於是以所得零分内
之損益分損之益之便知此時此刻内太隂之遲疾
所不同於平行者共有若干度分而命之為遲疾差
也
定子之法千三百二則萬四常為度位而此與盈縮
差並用八子者盈縮差原是萬約為分宜去四子今
省不去故八子即是四子也此求遲疾之損益是以
八百二十除原非萬約為分而亦用八子為度者因
乘時加定四子(餘分百定四子是加定二子也損益分之十分是度下一位宜定千三今)
(定五子是又加二子也合之共加定四子)則八子亦是四子其故何也遲
疾歷遇八十一限至八十六其損益分多為單秒則
定子之法窮故加四數以豫為之地也
不滿法又去一子者亦以相除時算位言之(假如法是八實)
(亦是八或八以上可以除得一數即為滿法若實在八以下即不能除得一數當退位除之即為不滿法)
(也此不論十百千萬之等惟論自一至九之數假如以八十除六百亦為不滿法若以八百除九十亦為)
(滿法皆以得數有進位不進位而分算中精理也)盖除法本是降位(如用十為除法)
(是以十為一當降一位故去一子百為除法是以百為一當降兩位故去二子)今不能除得
一數而退位除之是又降一位故再去一子也
按古歷太陽朓朒之行但有各恒氣十五日奇之總
率而無每日細數太隂朓朒之行但有每一日之總
率而無一日内分十二限奇之細數有之皆自授時
始皆以平立定三差得之授時之密於古法此一大
端也
推加減差法
視各經朔弦朢下盈縮差與遲疾差如是盈遲縮疾為
同名則相倂用之如是盈疾縮遲為異名則兩數相較
用其餘分(有萬定四子千定三子百定二十定一)以八百二十分(定二子)乘
之(言十定一)得數為實以立成本限下遲疾行度為法(遲用遲行)
(度疾用疾行度並以萬去四子千去三子)除之(不滿法又去一子)得數以所定有三
子為千分二子為百分即得所求加減差
同名者盈遲為加差縮疾為減差
異名者盈多疾少為加差疾多盈少為減差
遲多縮少為加差縮多遲少為減差
加減差者時刻之進退也前論盈縮遲疾二差則行
度之進退也因日月之行度各有紓亟而時刻因之
進退故前既分求之兹乃論之也
以右旋之度言之日每日平行一度月每日平行十
三度有竒合朔時日月同度歷弦策七日(三八二六四八二五)
而月度超前離日一象限是為上弦又歷弦策而月
度離日半周天與日對度是為朢自此以後月向日行
又歷弦策而距日一象限是為下弦更歷弦策而月
追日及之又復同度而為合朔矣凡此者皆有常度
有常期故謂之經朔經朢經弦也乃若定朔定朢定
弦則有時而後於常期故有加差焉有時而先於常
期故有減差焉
凡加差之因有二一因於日度之盈夫日行既越於
常度則月不能及一因於月度之遲夫月行既遲於
常度則不能及日二者皆必於常期之外更增時刻
而後能及於朔朢弦之度故時刻加也
減差之因亦有二一因於日度之縮夫日行既緩於
常度則月易及之一因於月度之速夫月行既速於
常度則易及於日二者皆不待常期之至而已及於
朔弦朢之度故時刻減也
乃若以日之盈遇月之遲二者皆宜有加差以日之
縮遇月之疾二者皆宜有減差故(盈與遲縮與疾)並為同名
而其度宜倂若以日之盈遇月之疾在日宜加在
月則宜減以日之縮遇月之遲在日宜減在月宜加
故(盈與疾縮與遲)並為異名而其度宜相減用其多者為主
也
如上所論既以(盈縮遲疾)二差同名相從異名相消則加
減差之大致已定然而又有乘除者上所言者度也
非時刻也故必以此所得之度分(即同名相從異名相消之度分)用
每限之時刻(八百二十分)乘之為實每限之月行度為法
(即遲疾行度)除之即變為時刻而命之為加減差矣
以異乘同除之理言之月行遲疾行度則所歷時刻
為八百二十分今加減之度有幾箇遲疾行度則月
行時刻亦當有幾箇八百二十分故以此乘除而知
加減差之時刻
推定朔法
各置經朔弦朢大小餘各以其加減差加者加之減者
減之即各得所推定朔弦朢大小餘大餘命起甲子算
外得定日支干小餘命時刻(依發斂加時條求之)其定朔朢日小
餘若在本日日出分以下者退一日命之惟朔不退
定朔日干名與次月同者其月大不同者其月小内
無中氣者為閏月
弦朢退一日者以候月當用更點也假如定朢在乙
丑日日未出前則仍是甲子日之更點故也
按節氣為兩月相交之界故謂之節中氣為一月三
十日之正中故謂之中月有中氣然後可正其名曰
某月(如有冬至則為十一月有大寒則為十二月有雨水則為正月他皆若是)若月内無
中氣而但有節氣則在兩月交界之間不能名其為
何月而謂之閏月矣
凡閏月前一月中氣必在晦後一月中氣必在朔則
前後兩月各在定名而此月居其間不得復以前後
月之名名之不得不為閏月(如月内但有立春節而無中氣則大寒中氣在)
(前月之晦定其為十二月雨水中氣則後月之朔定其為正月前後兩月各有本名不可移動而本月無)
(中氣即無月名必為閏月也)歷家以無中氣為閏月則各月之中
氣必在本月而不可稍移所謂舉正于中民則不惑
也然惟以恒氣注歷始能若是唐一行之說所以確
不可易而歷代遵守以為常法非不知有定氣而但
知恒氣也(定氣即日行盈縮若于各恒氣求其盈縮差而以盈差為減差縮差為加差即得各)
(定氣日及分然而不用者為閏月也)
推入交次氣法
置天正入交泛日及分加四日六三六七三八(即兩交差)即
為所求年正月經朔下入交泛日及分也以後累加交
差二日三一八三六九滿交終二十七日二一二二二
四去之即各月經朔下入交泛日也累加至其年十一
月即與次年天正入交泛日相同也復以交朢一十
四日七六五二九六五累加之亦滿交終去之即得各
月經朢下入交泛日加朔得朢加朢得次朔亦必相同也
附交差鈐
一二日三一八三六九用鈐加正月經朔下
二四日六三六七三八入交泛日可逕得所
三六日九五五一七求某月經朔下入交
四九日二七三四七六泛日若加正月經朢
五十一日五九一八四五下入交泛日亦可逕
六十三日九一二一四得所求某月經朢下
七十六日二二八五八三入交泛日加滿交終
八十八日五四六九五二二十七日二一二二
九二十日八六五三二一二四並去之用其餘
十二十二日一八三六九數
十一二十五日五二五九
十二日六八二四
推盈日法
視各恒氣之小餘在沒限七千八百一五六二五以上
者為有盈之氣也置策餘分一萬一四五(以十五日除氣策得)
(一萬一四五六二五止用四位取大數也)内減有盈之氣小餘四位用其
餘分為實(以千三百二定之)以六十八分六十秒(以氣盈除十五日得六十)
(八分六十六秒九五今亦止用三位)定一為法乘之(言十定一)得數取定四子
為日位用加恒氣大餘日滿紀法去之命起甲子算外
為所推盈日也
又法亦以有盈之恒氣小餘去減策餘分餘以一氣十
五日乘之為實氣盈二千一百八四三七五為法除之
得數以加恒氣大餘滿紀法去之命為盈日亦同
若逕求次盈日者置所得盈日每加盈策六十九萬六六
九五二八即得第二盈日亦滿紀法去之命干支也
盈日即古歷之沒日也凡氣内有盈日者多一日假
如甲子日立春則己夘日雨水今盈一日為庚辰日
雨水故謂之盈日
策餘分者十五日除氣策之數也盖謂每大餘一日
即帶有盈分千一百四十五分故必足得策餘分
(一萬一四五)之數則為十五分氣策之一也
六十八分六十秒者氣盈除十五日之數也盖謂每
盈一分在恒氣為六十八分六十秒即六十八分六
十秒盈一分也今有盈之恒氣小餘尚不及策餘分
有若干分則必更歷若干六十八分六十秒而其盈
分始足命之盈日也
又法以十五日乘氣盈除即六十八分六十秒乘也
故其得數同
捷次盈以盈策加者率六十九日奇而有盈日則每
一歲周只有五盈日或四日也餘詳用數
推虚日法
視各經朔之小餘在朔虚四千六百九四七以下者
為有虚之朔也置有虚之朔小餘四位(千定三百定二)為實以
六十三分九十秒(朔虚除三十日得六十三分九十一秒竒此用大數故只三位)定一
為法乘之(言十定一)得數取定四子為日位用與經朔大餘
相加滿紀法去之命起甲子算外為所推虚日也
又法以三十日乘有虛之小餘為實朔虚四千六百九
四七為法除之得數以加經朔大餘滿紀法去之為
虚日亦同
若逕求次虚日者置所得虚日每加虛策六十二日九
一四二二即得第二虛日其命干支亦滿紀去之也
虚日即古歷之滅日也凡月内有虚日者其月小(以經)
(朔言之)故謂之虛日
六十三分九十秒者朔虚除三十日之數也盖謂每
虚一分在月内為六十三分九十秒即每六十三分
九十秒當虛一分也今經朔小餘尚有若干分則必
更歷若干六十三分九而其虚分始盡命之虚日
也
其又法以三十日乘朔虚除即六十三分九乘也
故得數亦同
捷次虚日以虛策加者率六十三日弱而有虚日則
每一歲策亦只五虚日也餘亦詳用數
推土王用事法
置四季月節氣大小餘(三月用清明六月小暑九月寒露十二月小寒)各加土
王策一十二萬一七四七五滿紀法去之大餘命起甲
子算外各得所推土王用事日辰也
又法置四季月中氣大小餘(三月用穀而六月大暑九月霜降十二月大寒)内
各減第二土王策三日四三六八七五如不及減加
紀法減之所得亦同
天有五行而土無專位以體之立者言之則居中以
用之行者言之則在隅土者木火金水之所以成終
而成始也參同契曰土旺四季羅絡始終青赤白黑
各居一方皆禀中宫戊己之功盖謂此也歷家以春
木夏火秋金冬水分旺者各得氣策四又十二日(一七)
(四七五)而土寄旺於四季之末者各得氣策一又三日
(四三六八七五)與四行之數適以相等而歲功成焉前法
用加節氣者是於四時之末而要其終後法用減中
氣者是據土王用事之初而原其始餘詳用數
推發斂加時法
各置定朔弦朢及恒氣之小餘為實以十二時為法乘
之(法實並以千三百二定之言十定一以所定四子為萬)取萬為時命起子正有
五千起作一時命起子初並以算外命時其不滿五千
者取一千二百為刻命起(初正)初刻算外為某刻
又法各置小餘加二為時減二為刻不須定數就以千
位為時百位為刻有五百起作一時命起子初初刻不
起者命起子正初刻也
按古法以日行赤道外去北極遠謂之發日行赤道
内去北極近謂之斂發斂字義並主北極為言日道
之自近而遠遠而復近皆以漸致故不曰遠近而曰
發斂也古諸家歷法並有步發斂一章其所列者月
卦律呂氣候之類而加時之法附焉授時亦然故曰
步發斂加時也(授時雖不用律吕月卦惟存七十二候而統以廿四中節盖即其所謂發)
(斂而所謂步發斂加時者以推各氣候初交之時刻發斂字義蒙上文而為說猶云步氣候加時云爾)
大統則省去步發斂一章故加時之法在氣朔章後
而猶云推發斂加時因仍舊名無他義也
以十二乘者何也盖以日周一萬分十二時則各得
八百三十三分三三不盡故以十二乘之通日周一
萬為十二萬則可以勻分乃算術通分法也日周既
通為十二萬故以一萬為一時以一千二刻為一刻
也有五千起作一時者因時有初正則各得五千其
子初四刻為前半箇子時乃先一日之數謂之夜子
時子正四刻為後半箇子時乃本日之數本日十二
時並從兹起故滿一萬者命起子正也命起子正則
算外為丑正矣(因所滿一萬數中有子正四刻丑初四刻在内則前半箇丑時已滿而算)
(外為丑正)若但滿五千則算外為丑初(但滿五千則所滿者是後半箇子時)
(而交前半箇丑時是為丑初非丑正也)故起作一時而命起子初此是
從先日夜子初刻算起借前半箇子時輳合成整以
便入算也
其又法加二為時減二為刻者加是就身加二即十
二乘但不變千位不定子故即以一千為一時而起
子正有五百起作一時而起子初也減二即十二除
而挨身減二不動算位所謂定身除法也故即以一
百為一刻
附十二時鈐
千百十分十秒千百十分十秒
子正午正五
丑初四一六六六未初五四一六六六
丑正八三三三三未正五八三三三三
寅初一二五申初六二五
寅正一六六六六六申正六六六六六六
夘初二八三三三酉初七八三三三
夘正二五酉正七五
辰初二九一六六六戌初七九一六六六
辰正三三三三三三戌正八三三三三三
巳初三七五亥初八七五
巳正四一六六六六亥正九一六六六六
午初四五八三三三(夜子)初九五八三三三
凡日下小餘分並以十二時鈐相減命時(如滿四一六六者即)
(命其時為丑初滿八三三三者即命其時為丑正)減不盡者以一百分為一
刻如不滿百分即命初刻滿一百分即命一刻滿二
百分命二刻滿三百分命三刻滿四百分命四刻(如小)
(餘可減二千五百分命其時為夘正减過餘數有一百分即為夘正一刻有二百分為夘正二刻有三百)
(分為夘正三刻有四百分為夘正四刻若減餘不滿百分只為夘正初刻他皆若是)初正並同
推朔值宿法
置辛巳為元求到其年通積全分内減去其年閏餘全
分加三萬六一一八六(即兩宿餘)滿宿會二十八萬去之
命起虚宿算外即得所求年正月經朔直宿以後累加
宿餘一萬五三五九三滿宿會去之即得各月經朔
直宿再以各朔下加減差加者加之減者減之亦滿宿
會去之命起虚宿算外即得各月定朔直宿(其加減過小餘亦必)
(與定朔小餘相同為凖)
此盖以辛巳為元之天正冬至前甲子日正直虚宿
故逕以通積取之即得直宿
按日直宿法乃演禽之用占家之一種也故諸家歷
法無之授時歷經亦所未載而大統歷有之盖元統
之所增其實無關歷法
推閏月所在
置朔實(二十九萬五三五九三)内減去有閏之天正閏餘全分(即所)
(推天正閏餘在閏凖以上者其年有閏是也)餘為實以月閏九千百六二八
二為法除之滿法為月視所得有幾月命起歲前十一
月算外得閏在何月此法仍多未的然祇在其月之前
後皆以定朔為凖也
滿法為月者滿得一箇月閏之數即為一月若滿兩
箇月閏即為兩月此只求整月不除分秒故不必定
子
附六十甲子鈐
初日(甲子)一日(乙丑)二日(丙寅)三日(丁夘)四日(戊辰)五日(己巳)
六日(庚午)七日(辛未)八日(壬申)九日(癸酉)十日(甲戌)十一(乙亥)
十二(丙子)十三(丁丑)十四(戊寅)十五(己夘)十六(庚辰)十七(辛巳)
十八(壬午)十九(癸未)二十(甲申)廿一(乙酉)廿二(丙戌)廿三(丁亥)
廿四(戊子)廿五(己丑)廿六(庚寅)廿七(辛夘)廿八(壬辰)廿九(癸巳)
三十(甲午)三十一(乙未)三十二(丙申)三十三(丁酉)三十四(戊戌)三十五(己亥)
三十六(庚子)三十七(辛丑)三十八(壬寅)三十九(癸夘)四十(甲辰)四十一(乙巳)
四十二(丙午)四十三(丁未)四十四(戊申)四十五(己酉)四十六(庚戌)四十七(辛亥)
四十八(壬子)四十九(癸丑)五十(甲寅)五十一(乙夘)五十二(丙辰)五十三(丁巳)
五十四(戊午)五十五(己未)五十六(庚申)五十七(辛酉)五十八(壬戌)五十九(癸亥)
二十八宿鈐
初日(虚)一日(危)二日(室)三日(壁)四日(奎)五日(婁)
六日(胃)七日(昴)八日(畢)九日(觜)十日(參)十一(井)
十二(鬼)十三(柳)十四(星)十五(張)十六(翼)十七(軫)
十八(角)十九(亢)二十(氐)廿一(房)廿二(心)廿三(尾)
廿四(箕)廿五(斗)廿六(牛)廿七(女)
歷算全書卷二十一
