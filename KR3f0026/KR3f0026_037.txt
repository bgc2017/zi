歷算全書卷三十三
宣城梅文鼎撰
籌算六之七
開方捷法
勿菴氏曰廉隅二形也故有二法今借開方大籌為隅
法列于廉法籌之下而合商之則廉隅合為一法而
用加捷矣存前法者所以著其理用捷法者所以善
其事
平方
法曰如前列實從單位作點每隅位點之以求初商(初商)
(列位有常法進法俱如前)既得初商即倍根數為廉法(亦同前法)以廉
法數用籌(廉法幾位用籌幾根)列于平方籌之上為廉隅共法
(或省曰次商法)合視廉隅共法籌某行内有次商之實同者
或略少者減實以得次商(以本行内方根命之)
三商者合初商次商倍之以其數用籌列平方籌上
為廉隅共法(或省曰三商法)以除三商之實而得三商
四商以上倣此求之
解曰隅者小平方也故可以平方籌為法廉之數每
大于隅一位今以平方籌為隅列于廉之下則隅之
進位與廉之本位兩半圓合成一數故廉隅可合為
一法
(何以知廉大于隅一位也曰有次商則初商是十數矣平方廉法是初商倍數其位同初商故大于隅一)
(位)
凡初商減積盡最上一點故最上一點者初商之實也
次商減積盡第二點故第二點以上次商之實也三
商減積盡第三點故第三點以上三商之實也推之
第四點為四商之實第五點為五商之實(以上並同)
審空位法曰若次商之實小于廉隅共法之第一行(凡籌)
(第一行最小數也)則知次商是空位也(不能成一數故空)即作圈于
初商下以為次商乃于廉法籌下平方籌上加一
空位籌為廉隅共法以求三商(若空位多者另有簡法見後)
三商實小有空位並同
假如有平方積二千四百九十九萬九千九百九十九
尺問每面若干
列位作點
如圖點在次位以二千四百
萬為初商實
視平方籌有小于二四者是
一六其方四也商四千尺減積一千六百萬尺(有四點故)
(初商是千而有次商)
次以初商四千尺倍之得八千尺為廉法用第八籌
列平方籌上為廉隅共法
以第二點餘實八百九十九萬為次商實視籌第九
行合數八一小于實次商九百尺減實八百一
萬尺
(此所減首位不空故對位書之)
次倍初商次商共四千九百尺得九千八百尺用第
九第八兩籌列平方籌上為廉隅共法以第三點
上餘實九八九九為三商之實
合視籌第九行是八九一小于實商九十尺減餘
實八十九萬一百
尺
(首位不空故亦對位書之)
次倍三次商共四千九百九十尺得九千九百八十
尺用九九八三籌列平方籌上為廉隅共法
以第四點上餘
積九九八九九
為四商之實
合視籌第九行
積八九九一
小于實商九尺
減餘實八萬九
千九百一尺
不盡九千九百九十八尺
開方已得單尺而有不盡以法命之倍方根加一數
得九千九百九十九為命分
凡開得平方四千九百九十九尺又九千九百九十
九之九千九百九十八
右例可明四以上用常法之理蓋積所少者不過
萬分之一不能成五數之方而其法迥異
加空籌式
假如有平方積一千六百七十七萬七千二百一十六
問每面若干
列位作點
如圖點在次位以一千六百萬
為初商實
視平方籌有一六與實同其方
四商四千尺減積一千六百萬尺(凡餘實必在商數下一位起倘空位)
(則作圈補之後倣此)次以初商四千尺倍得八千尺為廉法
用第八籌列平方籌上為廉隅共法(籌見前例)
以第二點上餘實七七為次商實
籌最小數是八一(第一行數)大于實
不及減是商數無百也
乃于初商四千下作一圈以為次
商(減去實中位)次如上圖加一空位籌于次商廉法之
下平方籌之上為三商廉隅共法
以第三點上七七七二為三商實
視籌第九行是七二八一小于實商九十尺減積七
十二萬八千一百
次合初商次商三商共四九倍之得八一八為廉
法
去空位籌加一八兩籌列于平方籌之上為四商廉
隅共法
以第四點上四九一一六為四商之實
合視籌第六行數與實合商六尺減積四萬九千一
百一十六尺恰盡
凡開得平方四千九十六尺
假如有平方積九億一十八萬九步問每
面若干
列位
作點
如後圖點在首位以九億步為初商實
視平方籌有九與實同商
三萬步(五點故初商萬)減積九億步
次以初商三萬步倍之得六
萬步用第六籌加平方籌上為次商法(即廉隅共法)以
第二點上為次商之實視實三位俱空無減知商數
有空位且不止一空位也如前法宜挨次商得一空
位則于原實内銷一圈(凡續商之實必下于前商之實一位故雖位必減去之)
(以清出續商之實)而于共法籌内加一空位籌如此挨商頗
覺碎雜故改用又法
又法曰凡實有多空位者知商數亦有多空不必挨
商當于原實中審定可減之數在何位則此位之上
皆連作圈而徑求後商如此餘實有三圈皆無積可
減必至一乃有可減而法是第六籌籌最小是
六大于一仍不可減必至一八方可減而一是籌
之進位當以商數對之則知以上俱是空位乃皆作
圈合視之有三圈即次商三商四商也干原實内銷
去三圈如後圖
此即次商三商四
商合圖也
次加三空籌于平廉(第六籌)之下平方之上為五商廉
隅共法徑以第五點上一八九為五商實
視籌第三行數與餘實合商三尺
除積一八九恰盡
凡開得平方三萬三步
又假如積二千五百七萬四十九尺問方若干
列位作點
如圖點在次位以二千五
百萬尺為初商實
視平方籌有二五與實同
其方五商五千尺減積二千五百萬尺
次倍初商五千尺得一萬千尺用一籌空位籌為
廉法(凡商得五數則原帶有空位)列平方籌上為次商法實多
空位以前除又法審之必至七萬尺乃有可減而
七之與籌上首位之對當以商數居之則知此
以上俱無商數也于是于初商五千下作兩圈如後圖
此次商三商合圖也(原實上減兩圈商數下加兩圈)
如上圖加兩空位籌于廉法一萬千之下平方之
上為四商法
以七四九為四商實(次商三商之兩點已銷故徑用第四點)
視籌第七行相合商七尺減實
恰盡
凡開得平方五千七尺
又假如積五千六萬三千五百尺問方若干
列位
作點如圖點在次位以五十六萬為初商實
視平方第七行是四九小
于實商七百尺除實四十
九萬
次倍初商七百得一千四百用第一第四兩籌列平
方籌上為次商法以第二點上七三五為次商
實
合視第五
行是七
二五小于
實商五十
尺減去餘
積七萬
二千五百
尺
次合商數七百五十倍之得一千五百尺應用第一
第五空位三籌加于平方籌上為三商法以第三點
上一千尺為三商實而實小于法不能成一尺
乃于商數未作一圈以為三商其不盡之數以法命之
凡廉隅共法籌第一行數即命分
也蓋能滿此數即成一單數矣
凡開得平方七百五十尺又一
千五百一之一千約為
三之二弱
立方
法曰如前列實隔兩位作點以求初商既得初商即以
初商數自乘而三之為平廉法(即方法)以平廉法用籌
列于立方籌之上(借立方籌為隅法也)為平廉小隅共法
别以初商數三之而進一位為長廉法(即廉法)以長廉
法用籌列于立方籌之下(法于長廉數下加一空籌以合進一位之數)
先以平隅共法(即平廉小隅共法或省曰共法)為次商之法即截取
初商下一位至第二點止為次商之實法除實得次
商(視共法籌内有小于實者為平廉廉小隅共積用其根數為次商)次以次商之自
乘數(即大籌立積下所帶平方積數)與長廉法相乘(以平方數尋長廉籌之行取其)
(行内積數用之)得數加入平隅共積為次商總積以此總積
減次商之實及減則已倘不及減轉改次商及減而
止(因廉積或大有不及減者)
三商者合初商次商數自乘而三之為平廉法以其數
用籌列方籌上為平廉小隅共法
别以初商次商數三而進位以其數用籌加一空位
籌列立方籌下為長廉法
截取次商下一位至第三點為三商之實共法為法除
之以得三商(其積為共積)次以三商自乘數與長廉法
相乘得數加入共積為三商總積减實(又一法長廉法不必)
(加空位籌得于得數下加一圈即進位也)
四商以上倣此
解曰隅者小立方也故可以立方籌為法平廉之數每
大于隅二位今以立方籌為隅列于平廉下則隅之
首位與平廉之末位兩半圓合成一數故平廉小隅
可合為一法長廉之兩頭皆如次商自乘之數故
可以平方乘之又長廉之數每大于隅一位故于下
加一空籌以進其位便加積也
(何以知平廉大于隅二位而長廉只大一位也曰平廉者初商自乘之數也初商于次商為十數十乘十)
(則百數矣隅積者次商本位也故平廉與隅如百與單相去二位也若長廉只是初商之三倍位同初商)
(初商與次商如十與單故長廉與小隅亦如十與單相去一位也)
凡初商積盡于上一點故上一點為初商實次商積盡
于第二點故第二點以上為次商實推之三點為三
商實四點為四商實以上並同
審空位法曰若次商之實小于平廉小隅共法之第一
行或僅如共法之第一行而無長廉積則次商是空
位也即作圈于初商下以為次商乃于平廉籌下立
方籌上加兩空位籌為三商平廉小隅之共法以求
三商其長廉法下又加一空位籌(并原有一空位籌共兩空位籌)為
三商長廉法(又法長廉不必加空籌但于得數下加兩圈)若商數有兩
空位者平廉小隅籌下加四空位籌長廉積下加三
圈
解曰有空位則所求者三商也初商于三商如百與單
而平廉者初商之自乘百乘百成萬故平廉與三商
之隅如萬與單大四位也此加兩空籌之理也(平廉原大)
(二位加二空籌則大四位矣)初商與三商既如百與單則長廉與
隅亦如百與單大兩位也此又加一空籌之理也
初商列位商一用常法二至五用進法六至九用超法
今各存一例于後
假如有立方積六百八十五萬九千尺問每面若干
列位作點
如圖點在首位以六百
萬為初商實
視立方籌有小于六者
一也其立方一商一百尺(三點故初商百)減積一百萬
尺次截取第二點上五八五九為次商實
以初商一百尺自乘得一萬尺而三因之得三萬
尺為平廉法用第三籌列立方籌上為平廉小隅
共法
别以初商一百尺三而進位得三百十尺為長
廉法
列立方籌下視平隅共法籌第九行是三四二九
小于實商九十尺
次以第九行平方八一乘長廉三得二四三以加
共積得五百八十五萬九千為次商九十尺之積除
實盡
次商十宜有三商而除實已盡是方面無單數也
凡開得立方每面一百九十尺
假如有立方積一千二百八十六億三千四百六十七
萬五百九十二尺問方若干
列位
作點
如圖點在第三位以一
千二百八十億為初商
實
視立方籌内有小于一二八是一二五其方五也商
五千尺(四點故初商千)減積一千二百五十億
次截取第二點上三六三四為次商實
以初商五千自乘得二千五百萬而三之得七千五
百萬為平廉法用七五兩籌列立方籌上為平廉小
隅共法别以初商五千尺三而進位得一萬五千
百尺為長廉法用籌列立方籌下
視共法籌第一行是
七五一大于實不及
減知次商百位空也于
初商下作一圈為次商(原實上減一圈)
乃截第三點三六三四六七為三商實
次于平廉籌下立方籌上加兩空位籌為平廉小隅
共法
于長廉籌下又加一空位籌(原有一空位籌共二空位)為長廉法
視共法籌第四行
是三六
四小于實用為共
積商四十尺以長廉法與四行之平方一六相乘
得二四為長廉積加入共積得三二四
六四減積三十億二千四百六萬四千尺
次以商數五千四十自乘得二千五百四十萬
一千六百尺而三之得七千六百二十萬四千八
百尺為平廉法列立方籌上為平隅共法别以商數
五千四十尺三而進位得一萬五千一百二十
尺為長廉法列立方籌下
乃截第四點
六一六
六五九二為
四商之實
視共法籌第
八行六九
六三八九
一二小于實
商八尺以長廉法與第八行平方六四相乘得九六
七六八為長廉積以加共積得六一六六五
九二除實盡
凡開得立方每面五千四十八尺
右加兩空籌例
假如有立方積七千二百九十七億二千九百二十四
萬三千二十七尺問每面若干
列位作點
如圖點在第三位以七
千二百九十億為初商
實視立方籌方九之
積七二九與實同商九千尺減積七千二百九十億
(四點故初商千)次截第二點七二九為次商實
以初商九千尺自乘八千一百萬尺而三之得二億
四千三百萬尺為平廉法列立方籌上為平廉小隅
共法别以初商九千尺三而進位得二萬七千百
尺為長廉法列立方籌下視共法籌第一行是
二四三一大于實不及減知次商百位空也于初
商九千尺下作一圈為次商(原實上減去一圈)乃于平廉籌
下立方籌上加兩空籌為平廉小隅共法于長廉籌
下又加一空籌得二七為長廉法截取第三
點七二九二四三為三商實視共法籌第一
行是二四三一大于實仍不及減知三商十位
亦空也于商得九千百下加一圈為三商(原實上又減去一圈)
(又法實多空不必挨商但尋至不空之界如七乃與平廉相應即于七之上初商之下作連圈為次)
(商三商而于原實中銷兩圈)
此次商三商合圖也
乃于平廉籌下立方籌
上又加兩空籌(共四空籌)為
平廉小隅共法其長廉籌下又加一空籌(共三空籌)得
二七為長廉法(或不必加籌只于得數下加三圈亦同)
截取第四點七二九二四三二七為四商實
視共法籌第三行是七二
九二七小于實商
三尺以長廉法與第三行
平方九相乘得二四三
為長廉積以加共積得
七二九二四三二七除實盡
凡開得立方每面九千三尺
右加四空籌例
開方分秒法(籌算七)
勿菴氏曰命分古法也然但可以存其不盡之數而已
若還原則有不合故有分秒法以御之也雖亦終不
能盡然最小之分即無關于大數視命分之法不啻
加密矣
平方
法曰凡開平方有餘實不能成一數不可開矣若必欲
開其分秒則于餘實下加二圈(原實一化為一百分)如法開之
所得根數是一十分内之幾分也或加四圈(原實一化為一)
(萬分)如法開之所得根數是一百分内之幾分也或加
六圈(原實一化為一百萬分)如法開之所得根數是一千分内
之幾分也如此遞加兩圈則多開得一位乃至加十
圈(原實一化為百億分)其根數則十萬分内之幾萬幾千幾百
幾十幾分也
假如平方積八步開得二步除實四步餘四步不盡分
秒幾何
法于餘實下添兩圈則餘實四步
化為四百分為次商之實
依捷法以初商二步倍作四步為
廉法列平方籌上為廉隅共法簡
籌第八行積三八四小于餘實次商八分除實三百
八十四分開得平方每面二步八分不盡一十六分
再開之
又于餘實下加兩圈則餘實一十六分化為一千六
百秒為三商之實
依捷法以初商次商共二步八分倍之得五步六分
為廉法列平方籌上為廉隅共法簡籌第二行積一
一二四小于餘實商作二秒除實一千一百二十四
秒共開得平方每面二步八分二秒不盡四百七十
六秒
此單下開兩位式也所不盡之數不過百分之四
若欲再開亦可得其忽微如後式
還原以二步八二用籌為法又以二步八二列為實
而自相乘之得七萬九千五百二十四分加不盡之
分四百七十六共八萬乃以一萬分為一步之法除
之(當退四位)仍得八步合原數
解曰此以一步化為百分故其積萬分何也自乘者
横一步直一步也今既以一步化為一百分則是横
一百分直一百分而其積一萬分為一步
假如平方九十步開得九步除實八十一步餘實九
步不盡(小分幾何)
法于餘實九步下加八圈則餘實九步化為九億共
作五點而以第二點九億分為次商之實
依捷法以初商九步倍作一十八步為廉法列平方
籌上為廉隅共法簡籌第
四行七三六略小于餘
實商四千分除實七億三
千六百萬分餘一億六千
四百萬分為第三商
之實(第三點也)
又依捷法以初商次商九步又十之四倍之得一十
八步八為廉法列平方籌上為廉隅共法簡籌第八
行一五一四略小于餘實商八除實一億五千一
百四萬餘一千二百九十六萬分為第四次
商之實(第四點也)
又依捷法以三次所商共九步四八倍之得一十八
步九六為廉法列平方籌上為廉隅共法簡籌第六
行一一三七九六略小于實商六除實一千一百三
十七萬九千六百分餘一百五十八萬四百
分為第五次商之實(第五點也)
又依捷法以所商九步四八六倍之得一十八步九
七二為廉法列平方籌上為廉隅共法簡籌第八行
一五一七八二四略小于實商八除實一百五十一
萬七千八百二十四分餘六萬二千五百七十六分
不盡凡開得平方每面九步四千八百六十八分(亦可)
(名為四分八秒六忽八微)不盡一之
六二五七六(即一萬分之六分有竒)
雖不盡不過萬分之一不足為損益可棄不用
還原以九步四八六八用籌為法又為實自乘得八
十九億九千九百九十三萬七千四百二十四分加
入不盡之分六萬二千五百七十六共九十億以一
億分為一步之法除之(當退八位)仍得九十步合原數
解曰此以一步化為一萬分故其自乘之積一億何
也自乘者横一步直一步之積也今既以一萬分為
步則是横一萬分直一萬分而其積一億為一步
若依命分法則還原不合
如前例原實八步開得方二步除實四步不盡四
步法當倍每方二步作四步又加隅一步為命分命
為二步又五分步之四意若曰若得五步則商三步
矣今只四步是五分内止得四分也然還原有不合
何也
以算明之
用通分法以命分五通二步得一十分又加得分四
共一十四分自乘得一百九十六為實以命分五自
乘得二十五分為法(每步通作)
(五分横一步直一步則共得二十五分也)除之
得七步又二十五分之二十一以較原實少二十五之四
以圖明之
每步作五分其羃積二十五分方二
步積四步共一百分又五之四以乘
方二步得四十分倍之為廉積八十
分又五之四自乘得隅積一十六分
共九十六分以合原餘積四步該一百分少二十五
分之四
以此觀之實數每縮虛數常盈故命分之法不可以
還原其故何也曰隅差也何以謂之隅差曰平方
之有竒零其在兩廉者實其在隅者虛何也廉之虛
者一面而隅之虛者兩面也即如二步五之四謂五
分内虛一分故不能成一步也然試觀于圖兩廉之
四步皆虛一分(横四分直五分積二十分以二十五分計之是為于五分之中虛一分)
而隅之一步虛一分有零(横四分直亦四分積一十六分虛九分以二十五分)
(計之是為五分之中虛二分弱)則是邊數二步五之數者其積不及
五之四也今餘積四步者實數也其邊數常盈于五
之四有竒也而命之曰五之四宜其不及矣然則古
何以設此法曰古率常寬以為所差者微故命之也
不但此也古率圓一圍三方五斜七今考之皆有微
差故曰寬也
愚常考定開平方隅差之法法曰如法以命分之毋
通其整而納其子(即得分)為全數以全數自相乘得數
為通積另置分毋以分子減之餘數以乘分子而加
之為實乃以分毋自乘為法除之即適還原數如
上方二步五之四以分毋五通二步得十納子四共
十四自乘得方積一百九十六分另以分子四減分
毋五餘一以轉乘分子四得四即隅差也以隅差加
入方積共二百分為實乃以分毋五自乘得二十五
為法以除實得八步合原積
又如後例原實九十步開得九步除實八十一步
不盡九步法當倍每方九步作十八步又加隅一共
十九步為命分命為九步又十九分步之九意若曰
若得十九步則加商一步成十步今只九步是十九
分内只得九分也然還原亦不合
以算明之
用通分法以命分十九通九步得一百七十一步又
加得分九共一百八十步自乘得三萬二千四百為
實以命分十九自乘得三百六十一為法(每步十九分横十九)
(分直十九分共得三百六十一分也)除之得八十九步又三百六十一
分之二百七十一以較原實之九十步計少三百六
十一分之九十分
若依隅差之分以得分九減命分十九餘十轉乘得
分得九十分為隅差以加自乘通積三萬二千四百
共得三萬二千四百九十為實乃以命分自乘三百
六十一為法除之恰得九十步合原積
以圖明之
甲戊丁庚形者方九步九分
之總形也通為一百八十分
積三萬二千四百分以三百
六十一為步除之較原實少
九十分
内分甲丙乙巳形為初商方九步之形其積八千一步
戊乙形庚乙形次商廉積之形也長九步(通為一百七十一分)
闊九分積一千五百三十九分兩廉共計三千七
十八分
丁乙者小隅者横直各九分以較廉積中每一步之
形(如丑乙)欠一丁癸形即隅差也
以積考之廉九步每步闊九分長一步(通為十九分)積一
百七十一分隅闊九分長亦九分積八十一分少九
十分為隅差
立方
法曰凡立方有餘實不能成一數不可開矣若必欲知
其分秒則于餘實下加三圈(原實一化為一千分)如法開之所
得根數是一十分之幾分也若加六圈(原實一化為一百萬分)
所得根數是一百分之幾分也若加九圈(原實一化為十億)
則根數是一千分之幾分也若加十二圈(原實一化為萬億)
則根數是一萬分之幾分也
解曰平方籌兩位故兩位作點而其化小分亦以兩位
為率蓋積多兩位則根數可多一位也(廉一位隅一位故兩位)
立方籌三位故三位作點而其化小分亦以三位為
率蓋積多三位則根數可多一位也(平廉一位長廉一位隅一位故)
(三位)
假如立方積一十七步開得立方二步除八步餘實九
步不盡法于餘實下
加十二圈則餘實九
步化為九萬億分(增)
(四點可加開四位)
依捷法截第二點九為次商之實以初
商二自乘(四)而三之得一十二步為平廉法列立方
籌上為平隅共法以初商(二)三而進位得(六)為
長廉法列立方籌下簡共法籌第五行積(六一)
(二五)小于實商五分(六行七行亦小于實因無長廉)
(積故不用)
乃以第五行平方(二五)與長廉法相乘得(一五)
為長廉積以加共積共得(七六二五)是為次商五
分之積以除實餘一三七五以俟三商
又截取第三點一三七五為三商之實以
初商次商共二步五分自乘得(六二五)而三之得(一)
(八七五)為平廉法列立方籌上為平隅共法以初
商次商(二步五分)三而進位得(七五)為長廉法列
立方籌第七行(一三一二八四三)共法(八四三)小于
實商七秒乃以第七行平方(四九)與長廉法相乘
得(三六七五)為長廉積以加共積共得(一三四九)
(五九三)為三商七秒之積以除實餘二五四七
以候續商
又截取第四點二五四七為四商之實
以商數(二五七)自乘得(六六四九)而三之得(一九)
(八一四七)為平廉法列立方籌上為平隅共法以
商數(二五七)進位而三之得(七七一)為長廉法列
立方籌下簡共法籌第一行(一九八一四七一)
小于實商一忽
乃以第一行平方(一)乘長廉得(七七一)為長廉積
以加共積得(一九八二二四一一)為商一忽之積以
除實餘五五八四五八九以候末商
通第五點五五八四五八九為末商之實
以商數(二五七一)自乘得(六六一四一)而三
之得(一九八三一二三)為平廉法列立方籌上為
平隅共法以商數(二五七一)進位而三之得(七七)
(一三)為長廉法列立方籌下簡共法籌第二行()
(三九六六二四六八)小于實商二微
乃以第二行平方(四)乘長廉法得(三八五二)
為長廉積以加共積得(三九六六三三三一二八)
為末商二微之積以減實餘一六一八二五五八七
二不盡
凡開得立方每面二步五分七秒一忽二微(不盡之數不能)
(成一微棄不用)
還原以二步五七一二用籌為法别以二步五七一
二列為實以法乘實得六六一一六九四四
再乘之得一十六萬九千九百八十三億八千一百
七十四萬四千一百二十八分
乃以不盡之積一十六億一千八百二十五萬五千
八百七十二分加入再乘積共得一十七萬億以一
萬億為一步之法(以一步為萬分横一萬直一萬商一萬共一萬億)除之得
一十七步合原數
若依命分法則還原不合
如前所設立方積一十七步開得立方每面二步除
積九步餘九步法當以立方二步自乘得四步而三
之得十二步為平廉又以立方二步三之得六步為
長廉又加(一步)為隅共(一十九步)為命分命為立方
二步又十九分步之九意若曰餘積若滿十九步則
加商一步矣今只有九步是以十九分為一步而今
僅得九分也然還原則有不合
以算明之
用通分法以命分十九通立方二步得(三十八分)又
加得分九共(四十七分)此即所云二步又十九分之
九乃立方一面之數也以此自乘得(二千二百九)
(分)再乘得(一十萬三千八百二十三)乃立方二步
又十九分之九所容積數也為實别以命分十九自
乘得(三百六十一)再乘得(六千八百五十九)乃方一
步之積為法以除實得(一十五步又六千八百五十)
(九之九百三十八)較原實一十七步少(一步又六千)
(八百五十九分之五千九百二十一)
其故何也曰長廉小隅之差也何以言之曰立方之
有竒零其在平廉者實其在長廉小隅者虛何也平
廉之虛者一面而長廉虛兩面小隅虛三面故也今
以十九分為一步其立方積(六千八百五十九分)為
步法以十九分除之得每(三百六十一)為分法平廉
每步(横十九分直十九分高九分積三千二百四十九)分法除之得九是為
十九分之九適合命分之數也
若長廉(横九分直十九分高九分積一千五百三十九分)分法除之得四分
有竒而已以較平廉九分之積(三千二百四十九)少
(一千七百一十分)三長廉共(六步)共少(一萬二百)
(六十分)步法除之得一步又三千四百一分為長
廉差
若小隅(横直高各九分積七百二十九分)分法除之得二分有竒而
已
以較平廉九分之積(三千二百四十九)少二千五百
二十分為隅差
合廉隅兩差計之共少一步又六千八百五十九分
之五千九百二十一
以圖明之
丑寅為立方一步之形每步通為十九分
横直高各十九分積六千八百五十九分
是為步法
以十九分除步法得三百六十一分是為分法
廉隅總圖(見左)
甲乙丙三平廉也縱横各方二步通為三十八分厚
九分積一萬二千九百九十六分三廉共三萬八千
九百八十八分丁戊巳三長廉
也各長二步通為三十八分厚
闊各九分積三千七十八分
三廉共九千二百三十四分
庚小隅也長闊高皆九分積七
百二十九分
三長廉三平廉一小隅共包一正方形在内
正方形縱横各二步通為三十八分積五萬四千
八百七十二分
總形方二步九分通為四十七分高如之積
一十萬三千八百二十三分以步法除之
得一十五步有竒不滿原實一步又五千九百二
十一分
平廉方二步其容四步即辛壬癸
子之分形也每步縱横皆一步通
為十九分厚皆九分積三千二百
四十九(辛一形積如此壬癸子者同)以分除之適得九分
長廉長二步(如丑寅合形)通為三十八
分厚九分皆與平廉同所不同者
平廉闊十九分而長廉闊只九分
故長廉二步尚不及平廉一步之積以積計之每長
廉一步(如丑形)積一千五百三十九分較平廉每步之
積(如丑夘合形)少一千七百一十分(如丑之虛分夘)三長廉計六
步共少一萬二百六十分是為長廉之差
小隅横直高皆九分(如未形)于平廉
一步之積不及四之一以積計之
小隅之積七百二十九較平廉一
步之積(如未申合形)少二千五百二十分(如未之虛分申)是為小
隅之差合二差共一步五千九百二十一分
今考定開立方廉隅差法法曰凡立方有命分者如
法以分母(即命分)通其整而納以分子(即得分)為立方全
數以全數自乘再乘得數為立方通積另置命分(母數)
與得分(子數)各自乘得數以相減用其餘數以乘得
分得數為隅差又置命分與得分相減用其餘數轉
與得分相乘以乘命分得數是為長廉每步虛數又
以長廉法乘之得數為長廉差合二差數以加通積
為實以命分自乘再乘得數為法除之即適還原數
如所設立方積十七步開得立方二步又十九分
之九法以分母(十九)通立方二步而以分(子九分)納
之共(四十七分)為立方全數以全數自乘再乘得(一)
(十萬三千八百二十三)為通積另置命分(十九)自
乘得(三百六十一)内減分子(九)自乘(八十一)餘(二百)
(八十分)以分子(九)乘之得(二千五百二十分)為隅差
又置命分(一十九)内減得分(九)餘十分轉乘得分(九)
得(九十分)以乘命分(十九)得(一千七百一十分)為長
廉每步虛數又以長廉法(六步)乘之得(一萬二百)
(六十分)為長廉差合二差共一萬二千七百八十分
以加通積共得一十一萬六千六百三分為實以
命分一十九自乘再乘得六千八百五十九分為法
以除實得一十七步合原積
歷算全書卷三十三
