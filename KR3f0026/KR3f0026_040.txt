歷算全書卷三十四
宣城梅文鼎撰
筆算卷一
列位法
數始於一究於九畢於十十則又復為一矣等而上之
為百為千為萬乃至兆億皆得名之為一即皆得名之
為二三四五六七八九故必先稽其位而列之併減乘除
以此為基非是則算無可施矣法具如後(以一位言之有自一至九)
(之名此如同軰之有長幼合上下之位言之有單十百千萬之等此如己身而上有高曾祖父己身而下又有)
(子孫雲仍故單以下復有畸零之位也)
列位式
萬千百十零
(此姑以五位為式位有多寡皆以零數為根零亦曰單)
假如有數二萬四千七百五十九依法列之
二四七五九
(凡列數以最下小數為單單上有一位共二位即是十數有三位是百有四位是千有五位是萬不必更)
(書十百千萬等字但稽其有若干位即得之矣)
又如有數四千九十六依法列之
四九六
(凡數大小相乘中有空者必作以存其位如此式有千有十有單而無百故於百作以存其位)
又如有數一萬八百
一八
(凡數以單位為根今此數無千無十而並無單故必補作三以成五位則知首位是一萬矣)
又如有數一十二萬九千六百
一二九六
(原數四位無空然無十無單故必補作兩空以成六位則知首位為十萬)
畸零列位式
凡整數自單而陞若畸零數則自單而析故單位者數
之根也然整數之陞以十為等自單而十而百而千而
萬皆一法也(萬以上有以十萬為億十億為兆十兆為京自此而垓而秭壤溝澗正載皆以十而)
(變謂之小數有以萬萬為億億億為兆兆兆為京以上盡然皆以自乘而變謂之大數今所用者以萬萬為億)
(萬億為兆萬兆為京以上盡然皆以萬而變謂之中數三者不同然其列位皆以十為等故曰一法也)若
畸零之式其故多端約而言之亦只二法其一以十為
等其一不以十為等而各以其所立之率為等是二法
者又各分二類列之各有其法(詳後)
其一以十為等分二類
假如錢糧料則每田一畝該五分九釐八毫六絲七忽
九微三纖四沙八塵九埃二渺一漠
依法列之
五九八六七九三四八九二一
兩錢分釐毫絲忽微纖沙塵埃渺漠
(右式今所通用自兩而下以十之一為錢又以錢十之一為分分十之一為釐如是遞析為毫為絲忽以至渺漠皆以十為等)
(原科則自分起以至渺漠計十二位今加兩為十四位者乃列位之法也何也分之上有錢錢之上有)
(兩兩為單數凡列畸零之數必以單數為根始便合總故兩數雖空必存其位也)
凡度法以丈為單數則其十之一為尺又十析之為寸
為分為釐毫絲忽之屬(亦有以尺為單以寸為單者皆如所設)
凡量法以石為單數則其十之一為斗又十析之為升
為合為勺之屬(亦有以斗為單數者皆如所設命之)法並同上
右法以十為等即以一位為一名如上位是兩下一
位即是錢此為一類
假如授時歷法每一平朔二十九日五十三刻零五分
九十三秒依法列之
(右式日為單數而以日百析之為刻又百析之為分又百析之為秒故列位時必作點以誌之使知日下)
(二位始為單刻由是而分而秒皆隔兩位而變其名然仍是以十為等凡作點必單位如日為單位下)
(又有單刻單分單秒之屬)
凡開平方尺有百寸寸有百分其法同上
凡開立方尺有千寸寸有千分則三位而變即隔三位
作點以誌之法亦同上
右法雖亦皆以十為等而不以一位為一名或隔兩位或隔三位
前法只尋單位即知其餘此法單位之下仍須各尋單位
盖前法之分秒只有單而此法分秒各有十有百故必以作
點之處知其為單分單秒是與前法微别又為一類也
其一不以十為等而各以其所設之率為等亦分二類
假如回回歷法以六十分為一度六十秒為一分太陽三十日
平行二十九度三十四分一十秒作何排列
(右以度為單數下兩位為分又下兩位為秒故作點誌之略同授時然皆以六十而進非以百也)
(其自秒以下為微纖等數凡在授時以百為數者回回之法皆以六十為之是雖不以十為等而所設六)
(十之率鉅細同法西洋法亦然)
又如古量有以四升為豆四豆為區四區為釜皆以四為率
又如楊子雲太玄以三方統九州二十七部八十一家其遞析
也皆以三
又如測量家以矩度分十二度每一度又分十二分是又以十二為率也
右諸率皆不用十而所用之率屢析不易是為一類
假如物重十六兩為一斤二十四銖為一兩今有物二斤四兩
半作何排列
(此以斤為單數斤下二位為兩又下二位為銖銖與兩皆斤之分秒也故作點誌之亦同前法但銖以二)
(十四為率兩以十六為率二率不同)
又如歷家以甲子六十為旬周每日十二時又分初正
(西歷謂之二十四小時)每各四刻每刻有十五分今依新法筭得
辛未年冬至為旬周之第五十日二十二時二刻七分
依法列之
(此以日為單數下二位析日為時又下一位析時為刻又下兩位析刻為分皆日下之畸零也然時之率)
(二十時刻之率四分之率十五各率不同所當細玩)
右法既不以十為等而所用之率又不齊同是又一
類也(此二類不以十分為率而各有其率即通分子母之法也但通分以子母並列又是一法别卷詳之)
併法
凡數合總法當用併有諸數於此併而合之為一總數
又名垜積即珠盤之上法也(數相併則相益而多故亦名加法在錢穀之用則所)
(以稽總撒)
法曰置所有散數幾宗各依列位法自上而下對位
列之萬千百十單各以類從
列訖仍併之自上而下如畫卦之法
數滿十者進位作號而本位紀其零
紀號式
丨□□□□丅□□□(此古算位也用以别原數便稽核也)
假如有絲八百九十二斤又一千八十八斤又(三百五十)
(斤若合之干)
如上式散數三宗依法列位併之
得總數二千三百三十斤
假如有絹四丈五尺六寸又五丈三寸又八丈五尺
合之若干
九減試法
(凡九減之法不論單十百千之位亦不計位只摢現有之數而合計之)
(先減減數首行八九二合得十九減去二九餘一以合次行一八八共得十八減去二九恰盡只餘三行)
(三五合成八數紀於右八紀於左次減總數二三三合得)(左右相同知其)
(不誤)
(第二圖先減散數首行四五成九減去餘六合次行三成九減去餘五合三行八五共十八成二九減盡紀)
(於右同次以總數一八九成二九減盡紀於左也左右相知其無誤或問九減不計上下之位何曰)
(此捷法也凡九減者數不變假如以九減一十則仍餘一減二十則仍餘二推之百千萬亦然故不論位)
七減試法
(凡七減與九減不同須論位減實數十第一圖先減散數自上而下頭一排只有一作一算合第二排)
(八三得十一共二十一以七減之盡第三排九八五合得二十二以七減之餘一作一十合第四排八二)
(得十共得二十以七減之餘六紀於右二次減總數亦自上起首位無七有二合第二位作十三以七)
(減之餘二又合第三位作二十三以七減之餘二合誤末位作二十減二七餘六紀於左左右相同不)
(第二圖先減散數頭一排四五八合十七以七減之餘三作三十合第一排兩個五成十共四十以七減)
(之餘五作五十合下六三成九共五十九以七減之餘三紀右)
(次減總數首兩位十八以七減之餘四合第三位作四十以七減之餘五作五十合下位九共五十九)
(以七減之餘三紀左左右相同不誤)
畸零併法
假如有物十斤四兩十二銖又九斤十一兩十二銖共
若干
答曰二十斤
(銖數併得卄四成一兩進位併原數共十六兩成斤進位併原數十九斤)
(共卄斤四兩率十六不同故以點隔銖率卄)
(之率不同難用九減七減只以減法凡)
(還原其法於總數内減原散數一宗其餘一宗必合減餘是為無誤減法)
(見後詳通分)
假如品官計俸原歷任過三年九個月今又歴任一
年十一個月共若干
答曰共歴任五年八個月
(先併月得二十再以十二個月成一年進位紀號餘八個月次併一年三年加)
(所進一年共五年併得五年八個月此因月法十二非以滿十而進故以點)
(隔之非滿十而進不用九減七減只以此亦)
(減法還原)
遞加法
假如授時歷歲實(三百六十五日二十四刻二十五分)兩次加氣策(一十五日)
(二十一刻八十四分三十七秒五十微)共若干
答曰(三百九十五日六十七刻九十三分七十五秒)
此遞併法借前總數當散數用之如此則可以層累
而加
(前條三百八十日四十六刻竒是從歲前冬至算至本年小寒此條三百九十五日六十八刻弱是又)
(算至本年大寒)
截小總法(凡併法頭項太多者截分小總則易清乃垜積之捷法)
假如河工一十二宗一工(五千十四工)又(三千三百工)又(八百九十一工)
又(二千九十工)又(九百九工)又(一千八十工)又(二千二十工)又(九十一工)又(六百)
(六十七工)又(四千七百工)又(七百三十工)又(八十二工)問共數
答曰二萬一千五百七十四工
法曰(先以河工十二宗任分為三段依法併之各成小總再合各小總依法併之為一大總合問)
(或有極多至百十宗者宜多分小總小總又併為小總末乃併為一大總變繁為簡最便覆核)
減法
凡數相較法當用減有兩數於此以相減則得其大小
之較也有全數於此減其所去則得其留餘之數也
(在錢糓之用則減為開除減餘為實在若收受則所減為已完減餘為未完其法與併法正相對其用亦)
(相需也)
法曰置原數於右置減數於左依列位法自上而下
對位列之(若兩數相較則以大數列右以當原數小數列左為減數)乃以兩數相
較以少減多(原數必多減數必少若原數反少則有轉減)減訖列減餘之
數於左行
凡減自下小數起本位無可減借上位一數化十而減
之則於上位作點以為誌(還原時即用此點為進位之誌或不用點用短直亦同)
假如有庫銀十萬兩支放過五萬九千五百三兩問
存庫若干答曰四萬四百九十七兩
(此因數萬以下俱空故皆用借十作點之法自最下兩位起兩位空作點於上位借十兩減三存七支)
(數原無十兩因借減之點宜減十兩而十兩亦空復作點於上位借一百内減一十存九十支數五百)
(加借點共六百亦作點借一千減六百存四百萬支數九千凑借點成一萬作點於萬位凑原支五共)
(六萬又作點於首位借十萬減六萬存四萬)
還原用併法(即借用本圖)從兩位起以支放三兩併存留七兩
得十兩作點於十兩位凑存留九十兩成一百兩又作
點於百位凑支放五百存留四百併得一千作點於
千位凑支放九千成一萬作點於萬位凑支放五萬存留
四萬共成十萬作點於首位至此存留支放俱無可輳
淨十萬兩作一十萬字於原銀位合總無差
遞減法
假如有應進貢(貂皮一千五百張收過九百五張次年補收四百九十五張仍欠若干)
答曰(一百張)
(以頭一次九百五張依法減原額一千五百張得減餘五百)
(九十五張為欠數十五張減欠次以補收四百九)
(數五百九十五張得減餘一百張為仍欠數)
因兩次遞減亦減兩次試之
(九減)(六□)(七減)(二□)(先以原額減餘數列右合收欠減餘數列左)
(試法)(一□)(試法)(□)(次以欠數取減餘列右合續收仍欠減餘列左)
還原(倒用前圖)以仍欠一百併續收四百九十五得五百
九十五合前欠數又以欠五百九十五併先收九
百五得一千五百合原額凡遞減者亦以遞併
還原
透支轉減法
假如有錢一萬五千三十文陸續支用過一萬六千
五十文該有透支若干答曰淨多支一千二十文
此因支數多於原數故以原數轉減支數而得透支
之數(凡兩數相較多寡皆倣此)
還原以多支一千二十併原錢一萬五千三十
得一萬六千五十合支用數
畸零減法
假如有地丁銀三千五百零三兩徵完三千二百一十兩零
三錢五分仍未完若干答曰二百九十二兩六錢五分
還原以已完未完相併得數合額編之數(此原數至兩而止因)
(減而有錢與分之數盖以兩為單數其錢為兩十之一分又為錢十之一皆畸零也)
假如授時歷每月二節氣共三十日四十三刻六十
八分七十五秒經朔二十九日五十三刻五分九十
三秒兩數不同是生月閏該若干
答曰月閏九十刻六十二分八十二秒
太陽節氣此經朔減節氣也
太陰經朔經朔小節氣大相減
月閏之較是為月閏
還原以月閏併經朔得總即仍合節氣之數
假如品官計俸以三年為滿今歷任過一年零七箇月
該補若干答曰該補一年零五箇月
(此以十二個月為一年故減法不同)
(先減七個月月位無可減作點於年位借一年為十二月減七存五)
(次減一年併所借一點共二年以減三年餘一年)
還原以己歷一年七箇月補俸一年五箇月相
併得三年合總
假如有海濱田一百三十一頃四十畝被潮坍損二頃
八十五畝一百五十九步仍餘若干
答曰仍存田一百二十八頃五十四畝八十一步
解曰(此以百畝成頃二百四十步為畝故列位時須作點别之而減法亦同)
(先減一百五十九步原數無步作點於畝位借一畝)
(為二百四十步紀號於原位乃如法減之)
仍存一二□五□八□
還原以坍損田及仍存田相併得原田數合總
右二式畸零之率不同難用九減七減只以併法還
原(餘詳通分)
錢糧四柱法
四柱者舊管新收開除實在也各衙門造册必歸四柱則收放
可稽在筆算為減併合用盖舊管新收用併法開除用減法其
實在則減餘也亦有減盡無餘者則無實在即於實在項下直
注曰無其事件創立前無所承者則無舊管亦有存留不動之
項則有舊管而無新收其法並同(如無舊管則注曰舊管無或無新收則亦曰新收無)
若所出浮於所入則為透支當用轉減之法也(開除本用以減)
(今反將併舊管新收以減開除故曰轉減)凡轉減者亦當於實在項下注明
(如云實在無外多支若干是也)式如後
假如藩庫原存地丁銀一十二萬三百三兩今於
康熙三十年徵收一百四十一萬五十五兩六錢節次支
放過一百二十二萬二千五兩六錢問該存留若干
答曰三十萬八千三百五十三兩
(先用併法得舊管新收共一百五十三萬三百五十八)
(兩六錢再用減法於共數内減去開除一百卄二萬二千)
(五兩六錢得實在存留三十萬八千三百五十三兩)
(四)(以舊管新收共數與開除實在併數各依試法)
(四)(左右列減餘相同知其不誤九減七減並餘)
(四可省一圖)
假如倉内原存米四千四百石新收某處解到米五百三
石麥三千六百石奉文支放兵米五千石問實在若干
答曰(米支放訖仍缺額九十七石麥實在三千六百石存倉)
麥
(法以舊管新收共米)舊管無
(四千九百三石轉)新收三六
(減開除五千石得缺)開除無
(項九十七石)實在三六
(試法合舊管新收加入缺項而九減七減之紀餘於右又單)
(用開除一項九減七減紀餘於左以左右相同知其無誤)
(凡轉減者倣此試之)
假如某鎮軍餉原存二千一百三兩支放過正月分口糧折
銀一千八百九兩續於二月有某處解到協濟銀三千五百
兩於四月内發過草料銀八百九十二兩又製造盔甲銀用過
九百九十九兩五錢續准某軍門公文發到餉銀一千九十
兩問今庫内現存若干答曰仍存二千九百九十二兩五錢
以上先用併法變六宗為兩宗然後相减
若依四柱法則當以協濟三千五百兩院發一千
九十兩另併為新收四千五百九十兩
(九)(六)(七)(三)
(試試□並試舊□新收併為右法以管)
(一宗而九減之紀餘於右以開除實在併為一宗而九減)
(之紀餘於左不同者開除實七減亦然所)
(在減至錢數則舊管新收亦必減至錢位止然後左右)
(相較可以無誤此七減之要訣所當熟翫)
淮倉銷算(邸抄附錄為式)
戶部題為差委司屬官員事查得淮倉監督將任内
自康熙廿九年九月初六日起至三十年八月初七
日止收放錢糧數目造册具題前來查册開舊管銀
三萬八千一百一兩五錢三分零米麥四萬五千一
百六十九石九斗三升零新收銀一萬二千一百四
十八兩九錢九分零米麥一萬七千三百六十九石
二斗六升零又收過商税等銀三萬一千六十四兩
八錢六分零内相符准銷銀一萬八千三百一十五
兩一錢五分零米麥一千一百一十九石八斗四升
零行查催解銀三萬五百五十四兩八錢零米麥一
萬三千二百五十石八斗二升零存剩銀三萬二千
四百四十五兩四錢三分零米麥四萬八千一百六
十八石五斗三升零將解支欵項開後一解部銀一
萬七千六百二兩三錢五分零米一百三石每石九
錢折銀九十二兩七錢麥一千一十六石八斗四升
零每石五錢折銀五百八兩四錢二分零等語查前
項銀兩已經解到收訖無庸議一給門軍口糧銀七
百一十二兩八錢等語查係應給之項無庸議一解
河工銀五千八百一十三兩二錢六分零查未開解
交年月日期應令開明報部之日查核一給淮安等
衛廿九年分行糧銀五千三百兩三錢二分零米麥
一萬三千二百五十石八斗二升零月糧銀一萬四
千七百三十二兩九錢查總漕未奏銷應俟奏銷到
日查核一解淮安府銀四千七百八兩三錢二分零
查卄八九兩年解府銀兩尚未動支今何得又行起
解應令作速解部一存剩銀三萬二千四百四十五兩
四錢三分零米麥四萬八千一百六十八石五斗三
升零應將此解部米麥存倉備用又收過房田税契
銀四百二兩六分六釐零查前項銀兩已經解到收
訖無庸議者奉
旨依議今以四柱法核之如後
(桉此即原題四柱册也舊管者即四柱之舊管也新收及商税皆新收也准銷即開除存剩即實在其行)
(查催解銀則四柱中原作開作而部不准銷改入實在之數也)
法(以准銷查催共數與舊管新收共數相減即得存剩)
細賬
(仍原數不動)
以上並依法合總無訛
外有房田税契銀另項附銷不在四柱之内
歷算全書卷三十四
