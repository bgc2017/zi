數學九章卷二上宋秦九韶撰
天時
推氣治歷
問太史測驗天道慶元四年戊午歲冬至三十九日九
十二刻四十五分紹定三年庚寅歲冬至三十二日
九十四刻一十二分欲求中間嘉泰甲子歲氣骨歲
餘斗分各得幾何
按紹定三年庚寅之冬至實紹定四年辛夘之
始辛夘距戊午三十四年積年為三十三
答曰氣骨十一日三十八刻二十分八十一杪八
十小分餘歲五日二十四刻二十九分三十杪
三十小分斗分空日二十四刻二十九分三十
杪三十小分
術曰先距前後年數為法置前測曰刻分减後測曰
刻分餘為率(不足减則加紀策)以紀策累加之今及天道合
用五日以上數為實以法除實得歲餘去全日餘為
斗分以所求中間年上距前測年數乘歲餘益入前
測日刻分滿紀策去之餘為所求氣骨
草曰置前測戊午歲距前歲庚寅歲得三十三為法
置前測戊午歲冬至三十九日(日辰癸夘)九十二刻四十
五分減後測紹定三年庚寅歲冬至三十二日(日辰丙申)
九十四刻一十二分今後測者少不及前測者以減
乃加紀法六十日於後測日内得九十二日九十四
日一十二分然後用前測者減之餘五十三日一刻
六十七分為率按術當以法三十三餘率須使商數
必得五日以上乃可今率未得五日乃兩度累加紀
法一百二十入率内共得一百七十三日一刻六十
七分為刻實如法除之得五日二十四刻二十九分
三十杪三十小分(不盡棄之)為歲餘乃去全五日得二十
四刻二十九分三十杪三十小分為斗分次推嘉泰
甲子上距慶元戊午歲得六以乘歲餘五日二十刻
刻二十九分三十杪三十小分得三十一日四十五
刻七十五分八十一杪八十小分益入前測戊午歲
三十九日九十二刻四十五分得七十一日三十八
刻二十分八十一杪八十小分滿紀法六十去之餘
一十一日三十八刻二十分八十一杪八十小分為
所求甲子氣骨之數合問
按氣骨者年冬至時距甲子日子正初刻後之
日分也歲餘者歲實去六甲子之餘日分也斗
分者歲實去三百六十五日之餘分也此未知
歲實之法故先以前後兩氣骨相減餘數為實
以積年為法除之歲餘約五日餘紀日六十故
實數内累加六十日至商得五日上而止則實
數為積歲餘之數以積年除之得歲餘日分既
得歲餘以甲子積年六乘之得甲子積歲餘與
前測氣骨相加滿紀法去之餘即甲子氣骨也
治歷推閏
問開禧歷以嘉泰四年甲子歲天正冬至為一十一日
(日辰乙亥)四十四刻六十一分五十四杪十一月經朔一
日(日辰乙丑)七十五刻五十五分六十二杪問閏骨閏率
各幾何
答曰閏骨九日六十九刻五分九十一杪(不盡一百六十)
(九分杪之一百二十一)
閏骨率十六萬三千七百七十一
術曰以日法各通氣朔日刻分杪各為氣骨朔骨分
其氣骨分如約率而一約盡者為可用(或收弃餘分在一刻以下)
(者亦可用)然後與朔骨分相減餘為閏骨率以日法約之
為閏骨策
草曰置本歷曰法一萬六千九百先通冬至一十一
日四十四刻六十一分五十四杪得一十九萬三千
四百四十分二十六小分為實其歴約率係三千一
百二十以約之得六十二可用其餘小分二十六乃
弃之只用一十九萬三千四百四十為氣骨分次
置朔一日七十五刻五十五分六十二杪以本歷日
法一萬六千九百乘之得二萬九千六百六十八分
九十九杪七十八小分將近一分故於氣骨内所弃
二十六小分借二十二小分以補朔内收上得二萬
九千六百六十九為朔然後以朔骨分減氣骨分餘
有一十六萬三千七百七十一為閏骨率復以日法
除之得閏骨策九日六十九刻五分九十一杪不盡
一百二十一筭直命之為一百六十九分杪之一百
二十一合問
按此題若置冬至日分内減經朔日分餘九日
六十九刻五分九十二杪得閏骨策此原草僅
多一百六十九分杪之四十八盡草中氣骨内
棄小分二十六朔骨分内進二十二併之為一
百六十九分杪之四十八其不徑相減而必用
通分約分累乘累除者為向後推筭用耳
治歷演紀
問開禧歴積年七百八十四萬八千一百八十三欲知
推演之原調日法求朔餘朔率斗分歲率歲閏入元
歲入閏朔定骨閏泛骨閏縮紀率氣元率元閏元數
及氣等率因率蔀率朔等數因數蔀數朔積年二十
三事各幾何
答曰日法一萬六千九百
朔餘八千九百六十七
朔率四十九萬九千六十七
斗分四千一百八
歲率六百一十七萬二千六百八
歲閏一十八萬三千八百四
入元歲九千一百八十
入閏四十七萬四千二百六十
朔定骨二萬九千六百六十九
閏泛骨一十六萬三千七百七十一
閏縮一十八萬八千五百七十八
紀率一百一萬四千
氣元率一萬九千五百
元閏三十七萬七千八百七十三
元數四百二
氣等率五十二
因率一百四十四
蔀率三百二十五
朔等數一
因數四十五萬七千九百九十九
蔀數四十九萬九千六十七
朔積年七百八十三萬九千
積年七百八十四萬八千一百八
術曰以歷法求之大衍入之調日法如何承天術用
強弱母子互乘得數併之為朔餘以二十九日通日
法增入朔餘為朔率又以日法乘前歷所測冬至氣
刻分收棄末位為偶數得斗分與日法用大衍術入
之求等數因率蔀率以紀乘等數為約率置所求氣
定骨如約率而一得數以乘因率滿蔀率去之不滿
以紀法乘之為入元歲次置歲日以日法通之併以
斗定分為歲率以十二月乘朔率減歲率餘為歲閏
以歲閏乘入元歲滿朔率去之不滿為入閏與閏骨
相減之得差(或適足便以入元歲為積年後術並不用或差在刻分法半數以下者亦以入)
(元歲為積年)必在刻分法半數以上却以閏泛骨併朔率
得數内减入閏餘與朔率求閏縮(在朔率以下便為閏縮以上用朔率)
(減之亦得)以紀法乘日法為紀率以等數約之為氣元率
以氣元乘歲閏滿朔率去之不滿為元閏虛置一億
減入元歲餘為實元率除之得乘限乃以元閏與朔
率用大衍入之求得等數因數蔀數以等約閏縮得
數以因數乘之滿蔀數去之不滿在乘限以下以乘
元率為朔積年併入元歲為演紀積年又加成歷年
今人相乘演積年其術如調日法求朔餘朔率立
斗分歲餘求氣骨朔骨閏骨及衍等數約率因率蔀
率求入元歲歲閏入閏元率元閏已上皆同此術但
其所以求朔積年之術乃以閏骨減入閏餘為之閏
贏却與閏縮朔率列號甲乙丙丁四位除乘消減謂
之方程乃求得元數以乘元率所得為之積年加入
元歲共為演紀歲積年所謂方程正是大衍術(今人少知)
非特置筭繁多初無定法可傳甚是惑悮後學易失
古人之術意故今術不言閏贏而曰入閏差者蓋本
將來可用入元歲便為積年之意故今止將元閏朔
率二項以大衍先求等數因數蔀者仍倣前前求入
元歲之術理假閏骨如氣骨以等數為約數及求乘
數蔀數以等約閏縮得因乘數滿蔀去之不滿在限
下以乘元率便為朔積年亦加入元歲共為演紀積
年此術非惟止用乘除省便又且於自然中取見積
年不惑不差矣新術敢不用閏贏而求者實知閏贏
已存於入閏之中但求朔積年之竒分與閏縮等則
自與入閏相合必滿朔率所去故也數理精微不易
窺識窮年致志感於夢寐幸而得知謹不敢隐
草曰本歷以何承天術調得一萬六千九百為日法
係三百三十九強一十七弱先以強數三百三十九
乘強子二十六得八千八百一十四於上次以弱數
一十七乘弱子九得一百五十三併上共得八千九
百六十七為朔餘次以日法通朔策二十九日得四
十九萬一百增入朔餘得四十九萬九千六十七為
朔率又以日法乘統天歷所測每歲冬至周日下二
十四刻三十一分得四千一百八分三十九杪為斗
泛分驗八分既偶遂棄三十九杪只以四千一百八
分為斗定分與日法以大衍術入之□得五十二為
等數一百四十四為因率三百二十五為蔀率以甲
子六十為紀法乘等數得三千一百二十為約率却
置本歷上課所用嘉泰甲子歲氣骨一十一日四十
四刻六十一分五十一杪以乘日法得一十九萬三
千四百四十分二十六杪為氣泛骨欲滿約率三千
一百二十而一故就近乃棄微杪只以一十九萬三
千四百四十為氣定骨然後以約率三千一百二十
除之得六十二以因率一百四十四乘之得八千九
百二十八滿蔀率三百二十五去之不滿一百五十
三以紀法六十乘之得九千一百八十年為入元歲
次置歲三百六十五以日法乘之得六百一十六
萬八千五百併斗定分四千一百八得六百一十七
萬二千六百八為歲率却以十二月乘朔率四十九
萬九千六百七得五百九十八萬八千八百四率内
減去此數餘一十八萬三千八百四為歲閏以歲閏
乘入元歲九千一百八十得一十億八千七百三十
二萬七百二十滿朔率去之不滿四十七萬四千二
百六十為入閏次置本歷所用嘉泰甲子歲天正十
一月朔一日七十五刻五十五分六十二杪以日法
乘之得二萬九千六百六十八分九千九百七十八
杪為朔泛骨就近收杪為一分共得二萬九千六
百六十九為朔定骨數然後乃以朔定骨減氣骨一
十九萬三千四百四十餘一十六萬三千七百七十
一為閏泛骨置日法以二百歸除之得八十四半為
半刻法次以入閏數内減去閏泛骨與入閏相課減
之餘三十一萬四百八十九(此是閏贏)為差半刻法以上
乃以閏泛骨併朔率共得六十六萬二千八百三十
八以入閏四十七萬四千二百六十減之餘一十八
萬八千五百七十八在朔率下便為閏縮次以紀策
六十乘日法得一百一萬四千為紀率以等數五十
二歸除紀率得一萬九千五百(按即六十乘三百二數十五之數為一蔀年)
為氣元率以氣元率乘歲閏一十八萬三千八百四
得三十五億八千四百一十七萬八千滿朔率去之
不滿三十七萬七千八百七十三為元閏次置一億
(按此數似虛設不過取一億之數為限耳此所求過限又將改率數以遷就之矣)以入元歲
元千一百八十減之餘九千九百九十九萬八百二
十為實以元率一萬九千五百為法除之得五千一
二十七為乘元限數乃以元閏三十七萬七千八百
七十三餘與朔率四十九萬九千六十七用大衍術
求之得等數一因等四十五萬七千九百九十九蔀
數四十九萬九千六十七然後以等數一約閏縮只
得一十八萬八千五百七十八以因數四十五萬七
千九百九十九乘之得八百六十三億六千八百五
十三萬五千四百二十二滿蔀數四十九萬九千六
百七十去之不滿四百二在乘元限數以下為可用
以乘元率一萬九千五百得七百八十三萬九千年
為數積年併入元歲九千一百八十共得七百八十
四萬八千一百八十為嘉泰四年甲子歲積算本歷
係於丁夘歲進呈又加丁夘三年共為七百八十四
萬八千一百八十三年為本歷積年合具繪圖如
後
按此術草内竒定相求有等數又有因數蔀數
之異蓋等數即度盡定竒兩數之數因數為竒
數之倍數任倍定竒二數相較但得一等數則
竒之倍數即為因數蔀數者竒數最大之倍數
也任倍竒定至兩邊相等無較數則竒數之倍
數即謂之蔀數也等數甚小者因數不患其甚
大有蔀數以限之也草中尚多訛舛正之於後
按此題術草皆曰何承天調日法而宋書所載
何承天法並無甚率且各用數亦與此不同今
細按其草日法已有定數所調者朔策餘分也
然從來朔策餘分皆以實測之朔策分歲實分
兩母子互乘相通即得並無所謂調法今所載
強弱母子四數大約已有朔策餘分與日法分
相約而得非别有所本乃故設曲折以為竒也
試以朔餘分八千九百六十七分為第一條置
日法分内減朔策餘分餘七千九百三十三為
第二條以此二數數取之先置第一條減第二
條餘一千零三十四為第三條七因第三條以
減第二條餘六百九十五為第四條以第四條
減第三條餘三百三十九為第五條二因第五
條以減第四條餘一十七為
第六條是第五條即強母數
第六條即弱母數矣次用第
五條第六條轉求第一條以
取兩子數置第六條於上二
因第五條加之得第五條者
二第六條者一共六百九十
五為第四條以第四條加第
五條得第五條者三第六條
者一共一千零三十四為第
三條七因第三條以加第四
條得第五條者二十三第六
條者八共七千九百三十三
為第二條以第二條加第三
條得第五條者二十六第六條者九共八千九
百六十七為第一條是第五條倍數即強子數
第六條倍數即弱子數矣至算式中以日法取
強母數者則又以第五條第六條再約而得者
如以第五條為實第六條為法為法商之初商
得十以法乘初商得一百七十為初商積減實餘
一百六十九恰與百分日法分之一等故百除日
法分為一數又三乘之得五百零七為實以四
十九為法初商得十初商積為四百九十減實
餘十七乃以商十乘十七得一百七十與前初
商積等故加與前餘積等之百分日法分之一
得三百三十九為五條之數名之曰強數也
次以日法乘朔策日得數併朔餘為朔率
斗分見偶則棄見竒則收為偶
按此係棄分以下數不用也分為偶數即用其
數分為竒數則杪微進一分併為偶數如無杪
微即加一分
又按算中用數以日法分一萬六千九百分為
主斗分定為四千一百零八為偶數氣骨分亦
定為偶數其各時刻分皆由日分比例而得故
變時刻分為日分求之無不合
按求入元歲法用斗分與日法分求等率乘率
蓋以六十年之歲實積分與紀法分相約後以
六十除紀法分得日法分為定以六十除歲實
積分得斗分為竒求得蔀數乘數皆與六十年
之歲實積分與紀法分所求者同惟等數則為
六十之一故以六十乘之為乘分以約氣骨分
然後以乘數乘之滿蔀數去之所得用數為六
十年之周數故以六十乘之始為年數此立法
之意也然以六十年為周數則六十年之間其
氣骨數有合者則不可得故所得年數較以歲
實分紀分相求者為遠也
按氣元一萬九千五百乃前蔀數三百二十五
以六十乘之之數蓋求入元歲用六十倍者故
此仍用六十倍也
又按此皆用六十年歲實分求得之數與用一
歲實分求得之數同蓋因積年數為六十度盡
之數若非六十度盡之數則得數必遠也今依
其數另設一題以明其法
設宋開禧歷日法一萬六千九百分歲實分六百一
十七萬二千六百零八法紀率分一百零一萬四
千分朔率分四十九萬九千零六十七分嘉泰甲
子歲天正冬至距甲子日子正後十九萬三千四
百四十分(古名氣骨)十一月朔距甲子日子正後二萬
九千六百六十九分(古名朔骨)問距歴元甲子子正初
刻冬至朔之積年幾何
答曰七百八十四萬八千一百八十年
法以紀率為紀定紀率除歲率(即歲實分)餘八萬八千
六百零八分為紀竒依大衍術求至竒一百零三
餘分六百二十四餘分可以度盡上數則命六百
二十四為等數一百零三為乘數又求得竒一千六
百二十五無餘分則命一千六百二十五為蔀數
乃以等數約氣骨分得三百一十以乘數乘之得
三萬一千九百三十滿蔀數去之餘一千零五十
五即專以氣骨分求得距歷年之積年數也舊法
以斗分(歲餘分四千一百零八)為竒日法為定求得等數一
紀法六十乘之以約氣骨得數以乘數乘之蔀數
除之餘數又以六千乘之為積年名入元歲其術
未密(詳前)故所得積年為九千一百八十其數亦較
遠也
次以蔀數(即歲實紀法滿一會年數)乘歲率得一百億三千四十
八萬八千滿朔率去之餘二十三萬九千四百三
十四舊名氣元閏為朔竒朔率為朔定依前法求
得等數一乘數六千二百五十一蔀率四十九萬
九千零六十七次以前所得積年乘歲率滿朔率
去之餘二十七萬五千二百二十四為前朔距至
前分數舊名入元閏以嘉泰甲子氣骨朔骨相減
得十六萬三千七百七十一為後朔距至前分數
舊名閏骨夫十一月朔常在冬至前退行今前遠
後近是已退過一朔策則於後閏骨内加一朔策
再減去入元閏餘三十八萬七千六百一十四為
後朔前朔相差之分數舊名閏縮乃以等數約閏
縮仍得原數以乘數乘之滿蔀數去之餘四千八
百二十九為會數乃以一會年數(即前蔀數)乘之得七
百八十四萬七千一百二十五為朔積年加入前
積年得七百八十四萬八千一百八十為嘉泰甲
子積年
又法仍按本法求之先以歲率紀率朔率求總等
朔率不盡無總等各率朔即為各元數次連環求
等朔元不盡歲元等數等數為六百二十四留歲
元不約約紀元得一千六百二十五分為紀泛定
歲元朔元即為歲泛定朔泛定次求續等紀泛定
歲泛定等數為十三約歲泛定乘紀泛定得四十
七萬四千八百一十六為歲定二萬一千一百二
十五為紀定朔泛定即朔定三定數連乘得五
五八八五五五四六九六為衍母紀定
朔定相乘得八一九八三八七五為歲衍歲定
朔定相乘得二三六九六四
九九六六七二為紀衍歲定
紀定相乘得一三四
八八為朔衍置各衍
數滿各定數去之餘歲竒四
七二九六三紀竒二四
七朔竒二三九四三四次以
各定各竒求各乘數得歲乘
數(此題不用歲乘數求之以備其數)二四九
六七紀乘數二八
朔乘數六二五一以各乘數
乘各衍數得各泛用數歲泛
用二一九八九三二七
九四六二五紀泛用四七四
一一九五六五四四一三三
七六朔泛用六二七五
八四八八併三泛用與衍母數等則泛
用即為定用乃以氣骨乘紀定用得九一七一三
六八八七一九六二八三四五五三四四置氣骨
減去朔骨餘十六萬三千七百七十一以乘朔定
用得一二六八五三六七六七一二四八
併數得九二七四五四二三九六三三
八三七一四四滿衍母去之餘四八四四三
七三八六五三四四為實以歲實分為法除
之得七百八十四萬八千一百八十即嘉泰甲子
積年之數也此法較前法數繁然其理可互相發
明後復設一法兼二法用之
三法先以歲率紀率求等數得六百二十四專約
紀率得一六二五分為紀元歲率即為歲元又求
續等數得十三以約歲元得四七四八一六為歲
定以乘紀元得二一一二五為紀定紀定歲定相
乘得一三四八八為衍母以紀定二一
一二五為歲衍以歲定四七
四八一六為紀衍歲衍小於
歲定即為歲竒紀衍滿紀定
去之餘一六六為紀竒
次以各定各竒求各乘數得
歲乘數二五四八六一紀乘
數九七八六以各乘數乘各
衍數得各用數歲用數五三
八三九三八六二五紀用數
四六四六五四九三七六乃
以氣骨乘紀用數得八九八
八二八五一一二九三四四
滿衍母去之餘六五一二
一一四四為通積分為
實以歲實分為法除之得一
千零五十五即專以氣骨求
次以前衍母分(即歲率紀率一會一千六百二十五年之積分)一三
四八八與朔率分求等數得一即以前衍
衍母分為歲紀元亦即為歲紀定以朔率分四九九
六七為朔元亦即為朔定二定數相乘得五
五八八五五五四六九六
為衍母以朔定為歲紀衍以
歲紀定為朔衍歲紀衍小於歲
紀定即以歲紀衍為歲紀竒明
衍滿朔定去之餘二三九四
三四為朔竒各以定竒求乘
數得歲紀乘數九九四八
五二四三朔乘數六二五
一以各乘數乘各衍數得歲
紀泛用數四九四三一八四
九七四二八一朔泛
用數六二七五八四
八八併二泛數與衍
母等則泛用數即為定用數
乃置前通積分六五一二一
一四四滿朔率去之餘
二七五二二四為入元第一
千零五十五年之閏分又置
嘉泰甲子氣骨減去朔骨餘
一六三七七一為嘉泰甲子
之閏分閏分每歲漸加今後數小於前數是知已
加過一朔率乃於後閏分内加一朔率分減去前
閏分得三八七六一四為前後閏分差以乘朔定
用數得二四三三六二二八五二七五六三
二滿衍母去之餘四八四三七二二六五
五二為實以歲率為法收之得七百八十
四萬七千一百二十五為後積年數並前積年數
共得七百八十四萬八千一百八十年為嘉泰甲
子積年與前數合
按右竒定相求其上層竒一數即大衍術中所
謂立天元一也其逐層數即術中所謂遞互乘
餘也其下層竒得數即術中所謂乘數也(有等數者)
(求蔀數)古無筆算舊式所載不詳兼多重複舛偽
之處集中惟此問甚繁故既設題以明其法
復備錄加減乘除之數以詳其算式俾觀者易
見焉
綴術推星
問歲星合伏經一十六日九十分行三度九十分去曰
一十三度乃見後順行一百一十三日一十十七度
八十三分乃留欲知合伏段晨疾初段常度初行率
末行率平行率各幾何
按此以兩積曰之遞差積度求各行率也蓋合
伏初日其行最疾以次漸遲遲極則留總其積
度略如遞減差分故古法皆以其術步之
答曰合伏一十六日九十分常度三度九十度
初行率二十三分九十七杪平行率二十三
分二杪末行率二十二分七杪
晨疾初三十日常度六度一十三分初行
率二十一分九十六杪平行率二十分三十
三杪末行率一十八分七十杪
術曰以方程法求之置見日減一餘半之為見率以
伏日併見日為初行法以法半之如見率共為伏率
以伏日乘伏率為伏差以見日乘見率為見差以伏
日乘見差於上以見日乘伏差減上餘為法以見日
乘伏度為泛以伏日乘見度減泛餘為實實滿法而
一為度不滿退除為分杪即得日差
按此求逐日之遞差為日差也術曰方程非也
其所謂見數者乃徒設一數宛轉附會使合於
方程之行列也如見日減一折半為見率併
伏見日折半為半總日既以半總日加見率先
以伏日乘之後以見日乘之復置見率先以見
日乘之後以復日乘之相減然後為法豈非半
總日不用加見率但以伏日見日連乘之即可
為法乎特多立名目故為曲折顛倒使人不易
辦耳今去其見率另為步算於後以明其立法
之本意焉
法以合伏日除伏行度得二十三分(九七六二三)為合
伏日折中第八日四十五分一日之行度(即第七日九十)
(五分至第八日九十五分之行度)以順行日除順行度得十五分
(七七八七六一)為順行日折中第五十六日五十分一日
之行度兩一日之行度相減行七分(一九八一六二)為合
伏第八日四十五分與順行第五十六日五十分
兩一日之行度較為實併合伏順行兩日數而半
之得六十四日(九五)為合伏第八日四十五分至順
行五十六日五十分之積日為法除之得十一杪
(二三六五八五)為一日遞差之數即日差若不先用除則
以兩日數與兩行度互乘相減為實兩日數相乘
又併兩日數而半之再乘為法得數亦同
求初行率置初法減一餘乘日差為寄以半初行法
乘寄得數又加伏見度共為初行實以法退除之得
合伏日初行率
按此求合伏第一日最疾之行也其法即遞減
差分有總數有次數有每次差數求初次最大
之數也初行法減一乘日差為寄者合伏初日
與順行末日兩行率之差也半法乘寄與積差
等故加共度為實以共日為法除之為合伏初
日行率二十三分九十七杪也
求未行率以段日乘日差減初行率餘為末行率
按此求合伏末日之行率也以段日乘日差求
合伏初末日兩行率之較也既得初末日兩行
率之較以減初行率即末行率也
求平行率以初行率併未行率而半之為平行率
按此即均分合伏度為每日之平行率也與遞
加遞減有首尾數求中數者同應與伏日除伏
度數同不同者本非遞差之數也
求交段差以各段常日下分數減全日一百分餘乘
末日行率為交段差
按此即各段日下分數不及一日所差之行分
也求之以備後數加減
累減前段積度以益後段積度各為常度
按常度即各段積度也求晨疾初段常度見常
中專解於後
草曰以伏日隨伏度為右行以見日隨見度為左行
以度對度日對日其度於上日於中空其下列之
置見日一百一十三減一餘一百一十二以半之得
五十六為見率以伏日一十六日九十分併見日一
百一十三得一百二十九日九十分為初行法
以初行法半之得六十四日九十五分併見率五十
六日得一百二十日九十五分為伏率以初行法寄
之以伏率歸右下以對見率仍分左右兩行為首圖
以首圖伏日一十六日九十分乘伏率一百二十日
九十五分得二千四十四日五分五十杪為伏差於
右下以首圖見日一百一十三乘見率五十六得六
十三百二十八日為見差於左下乃成次圖凡方
程之術先欲得者存之以未欲得者互偏乘兩行諸
數今驗此圖先欲得日差故存其左右之上下以左
右之中伏見日數互偏乘兩行乃以次圖右中伏日
一十六日九十分先偏乘左行畢左上得三百一度
三十二分七十杪左中得一千九百九日七十分左
下得一十萬六千九百四十三日二十分又以次圖左
中見日一百一十三偏乘右行畢右上得四百四十
日七十分右中亦得一千九百九日七十分右下得
二十三萬九百七十八日二十一分五十杪
以兩行得變名泛積法而成才圖乃驗才圖左上
下皆少用減右行畢行上餘一百三十九度三十七
分三十杪為日差實右中空右下得一十二萬四千
三十五日一分五十杪為日差法今維圖法多實少
除得空度空分十一杪二十三小分六十五小杪不
盡十杪五十五小分三十九小杪五十二微分五十
微杪收為一小杪為日定差一十一杪二十三小分
六十六小秒
既得日差乃行初行率置法圖内初行法一百二十
九日九十分内減去一日餘一百二十八日九十分
乘日差一十一杪二十三小分六十六小杪得空度
一十四分四十八杪三十九小分七十七小杪四十
微分為寄次置(按此下脱三十一字應作次置寄以半法乘之得九度四十分七十三杪)
(四十三小分三十二小杪一十三微杪)
以得數加伏度三度九十分見度一十七度八十三
分共得三十一度一十三分七十三杪四十三小分
三十二小杪一十三微分為初行實如初行法一百
二十九日九十分而一乃行空度二十三分九十七
杪為伏合初日行率餘三杪一十三分分三十二小
杪一十三微分棄之
求末行率置合伏段日數一十六日九十分乘日差
一十一杪二十三小分六十六小杪得一分八十九
杪八十九小分八十五小杪四十微分為得數乃以
得數減初行率二十三分九十七杪餘二十二分七
杪一十小分一十四小杪六十微分為合伏末日行
求平行率置初行率二十三分九十七杪併末行率
二十三分七杪得四十六分四杪以半之得二十三
分二杪為平行率
求交段差置合伏日下減全日一百分餘一十分乘
末行率二十二分七杪得二分二十杪七十小分為
交段差
求晨疾初段常度置合伏日一十六日九十分乃收
九十分作一日通為一十七日併舊歷所注晨疾初
段常日三十得四十七為共日乘合伏初行率二十
三分九十七杪得一十一度二十六分五十九杪為
寄上
按此有第一日行度有逐日遞減之差有前後
各段日數有前段積度求後段積也先以共日
乘初行率者以最疾為率之共積也下求遞差
以減之故為寄
乃副置共日四十七減一餘四十六以半之得二十
三乘副四十七得一千八十一以乘日差一十一杪
二十三小分六十六小杪得一度二十一分四十六
杪七十六小分四十六小杪以減上寄一十一度一
十六分五十九杪餘一十度五分一十二杪二十三
小分五十四小杪為合伏晨疾初兩段共積度
按此乃求積差以減上數得共日之積慶也法
應於共日内減一日以乘日差得數為共日數
初末日行率之較再以共日數乘之得數折半
為積差此先折半次連乘得積差其理亦同
置共積内減合伏三度九十分餘六度一十五分一
十二杪二十三小分五十四小杪為泛次以交段差
二分二十杪七十小分減泛餘六度一十二分九十
一杪五十三小分五十四小杪為晨疾初段常度注
歷乃收八杪五(按應作四)十六小分四十六小杪為全分
常定度
按此於共積内減去合伏段積尚有合伏九十
分不及一日所差之行分即交段差未減故為
泛數再減交段差為晨疾初段常泛度再收為
六度十三分始為定常度也
求晨疾初段初行率以日差一十一杪二十三小分
六十六小杪減合伏末行率二十二分七杪餘二十
一分九十六杪為晨疾初段初行率行泛收之為定
者也
按此以合伏末日之次日為晨疾初段之初日
也故置合伏之末行率減一日之差即為晨疾
初段之初行率五杪餘收為六杪凡寄零未收
名泛數已收名定數下倣此
求晨疾初末行率置晨疾初常日三十減一餘二十
九日乘日差一十一杪二十三小分六十六十小杪得
三分二十五杪八十六小分一十四小杪以減晨疾
初段初行率泛二十一分九十五杪七十六小分三
十四小杪餘一十八分六十九杪九十小分二十小
杪為晨疾初末行率
按此求晨疾初段末日之行率也常日減一日
乘日差得數為晨疾初段初末二日行率之較
也故減初行率得末行率
求平行率以晨疾初初行泛二十一分九十五杪七
十六小分三十四小杪併晨疾初末泛一十八分六
十九杪九十小分二十小分得四十分六十五杪六
十六小分五十四小杪以半之得二十分三十二杪
八十三小分二十七小杪為晨疾初平行泛乃以三
泛收棄為之定
按此與求合伏平行率同其言泛棄為定者蓋
截去杪下竒零過半則收為一杪也然語意欠
明
又按五星行度遲疾差廻非遞加遞減之數術
中僅以合伏與順見二段各取中數至推遂日
行度仍用遞加遞減之法故古法之疎五星尤
甚原文語多隠晦令悉為解之可以見古今疎
密之所在焉
數學九章卷二上
數學九章卷二下宋秦九韶撰
天時
揆日究微
問歷代測景惟唐大衍歷最密本朝崇天歷陽城冬至
景一丈二尺七寸一分五十杪夏至景一尺四寸七
分七十杪九係與大衍歷同今開禧歷臨安府冬至
景一丈八寸二分二十五杪夏至景九寸一分欲求
臨安府夏至後差幾日而景與陽城夏至日等較以
大衍歷晷景所差尺寸各幾何
答曰大暑後五日午中景長一尺四寸八分八十
五杪
按舊本答數後有二圖舛錯潦草傳寫者失其
真也細考圖内所載之數皆與今法頗合知此
悉當時實測所定非同臆說也因取其數改正
於後
置臨安府所測冬至景一丈八寸二分二十五杪以
夏至景九寸一分減之餘九尺九寸一分二十五杪
為景差以為實
置象限度九十一度三十一分四十四杪加一十一
度二十五分二十七杪五十小分命度為寸得一百
二寸五十六百七十一分五十杪為法以除前差實
得空寸九十六百六十四分四十杪不盡棄之自乘
得節泛數九千三百四十分不盡棄之
先以小暑節乘率二十五乘節率九千三百四十分
得二十三寸三千五百分於上
次以臨安夏至九寸一分自乘得八十二寸八千一
百分為夏至冪
乃以夏至冪加上得一百六寸一千六百分為小暑
冪以為實以一寸為隅開平方得一尺三分為臨安
小暑節景不盡七百分即寸下七毫棄之
按各節氣影長皆當時實測所定本不待求今
所設求法乃故為溟涬使人不可觧也細查其
數首以象限加十一度餘為法以除影差得數
自乘為節率四每節下又有乘率以乘率節率
相乘與夏至影冪相加即為本節影冪是知節
率乃強取之數蓋以此數先除各節影冪與夏
至影冪之較名為乘率故以此與節率相乘加
夏至影冪即各節影冪也數家設術誤人往往
如此
又以大暑乘率一百九乘節率九千三百四十分得
一百一寸八千六十分於頭位
仍以夏至冪八十二寸八千一百分加頭位一百一
寸八千六十分得一百八十四寸六千一百六十分
為大暑冪以為實以一寸為隅開平方得一尺三寸
五分八十七杪為大暑不盡棄之
又置立秋乘率二百八十九乘節率九千三百四十
分得二百六十九寸九千二百六十分於上
仍置夏至冪八十一寸八千一百分加於上二百六
十九寸九千二百六十分得三百五十二寸七千三
百六十八為立秋冪
置立秋冪為實以一寸為隅開平方得一尺八寸七
分八十一杪為立秋景不盡棄之
乃驗陽城夏至景一尺四寸七分七十九杪在大暑
後立秋前乃置大暑一尺三寸五分八十七杪併立
秋景一尺八寸七分八十一杪得三尺二寸三分六
十八杪以半之得一尺六寸一分八十四杪為大暑
後九日景又以九日景併大暑景得二尺九寸七
分七千一杪以半之得一尺四寸八分八十五杪半
為大暑後五日景
乃以大暑景得五日景得二尺八寸四分七十二杪
半以半之得一尺四寸二分三十六杪少為大暑後
三日景
又以五日景得三日景得二尺九寸一分二十一杪
大以半之得一尺四寸五分六十杪八十七小分五
十小杪為大暑後四日景
今驗陽城夏至景一尺四寸七分七十九杪為入臨
安府大暑後四日景一尺四寸五分六十杪太強乃
以四日減五日景餘三分二十四杪太弱為景差以
十二時除之得二十七杪五小分二十小杪為法
乃置陽城夏至景一尺四寸七分七十九抄減臨安
大暑後四日景一尺四寸五分六十杪八十七小分
五十小杪餘二分一十八杪一十二小分五十小杪
為實後以法二十七杪五小分二十小杪除之實如
法而一得商數八有餘命大暑四日午後數八辰得
大暑五日寅時景與陽城夏至之日午景等
求較以大衍歷晷景所差乃置陽城大暑景長一尺
九寸五分七十六杪併陽城立秋景二尺五寸三分
三十一杪得四尺四寸九分七杪以半之得二尺二
寸四分五十三杪半為次暑後九日午中景
置九日景復併大暑景一尺九寸五分七十六抄得
四尺二寸二十九杪半以半之得二尺一寸一十四
杪太為大暑後五日景
今驗開禧歷所推臨安府大暑後五日午中景一尺
四寸八分八十五杪半與陽城大暑後五日午中景
尺一寸一十四杪太課之
乃以臨安府五日景減陽城五日景差六寸一分二
十九杪少
按此法不過以臨安前後兩節氣影長比例一影
長之日數時刻復以所得節氣日數時刻比
例一陽城影長與之相較耳題内引大行崇天
開禧諸法名目又稱其較同異差數皆故為張
皇之語且影差逐日不同皆以平派求之法亦
未密也
草曰置臨安府所測冬至景一丈八寸二分二十五
抄以夏至景九寸一分減之餘九尺九寸一分二十
五抄為景差以為實置象度九十一度三十一分四
十四杪加一十一度二十五分二十七杪半命度為
寸得一百二寸五千六百七十一分半為法除實得
空寸九千六百六十四分四十杪以自乘之得空寸
九千三百四十分為節率先以小暑乘率二十五乘
之得二十三寸三千五百分於上次以臨安夏至景
九寸一分自乘得八十二寸八千一百分為夏至景
冪以加上得一百六寸一千六百分為小暑景冪開
平方以一寸為隅開之得一尺三分為小暑景又以
大暑乘率一百九乘節率九千三百四十分得一百
一寸八千六十分於上仍加夏至冪八十二寸八千
一百分得一百八十四寸六千一百六十分為大暑
冪以為實一寸寸為隅開平方得一尺三寸五分八
十七杪為大暑景又置立秋乘率二百八十九乘節
率九千三百四十分得二百六十九寸九千二百六
十分於上仍加夏至冪八十二寸八千一百分共得
三百五十二寸七千三百六十為立秋冪以為實以
一寸為隅開平方得一尺八寸七分八十一抄為立
秋景乃驗陽城夏至景一尺四寸七分七十九杪在
大暑後立秋前乃併大暑立秋二景半之得一尺六
寸一分八十四杪為大暑後九日景又併大暑景半
之得一尺四寸八分八十五杪半為大暑後五日午
中景又併大暑景得數半之得一尺四寸二分三十
六杪少為大暑後三日景又併五日景一尺四寸八
分八十五杪半得數半之得一尺四寸五分六十杪
強為大暑後四日景驗得陽城夏至景入臨安大暑
後四日乃以四日景減五日景餘三分二十四杪太
弱為差以十二時除之得二十七杪五小分二十小
杪為法復除陽城景與本日景差二分一十八杪一
十二小分五十小杪得八命外為在初五日寅時景
等求較以大衍歷晷景所差乃置陽城大暑景長一
尺九寸五分七十六杪併陽城立秋景二尺五寸三
分三十一杪得四尺四寸九分七杪以半之得二尺
二寸四分五十三杪半為大暑後九日午中景復併
暑景一尺九寸五分七十六杪得四尺二寸二十九
杪半以半之得二尺一寸一十四杪太為大暑後五
日暑以較今開禧歷當日景一尺四寸八分八十五
杪半差少六寸一分二十九杪少合問
接集中皆術在前草次之圖在後此條之例不
同
天池測雨
問今州郡多有天池盆以測雨水但知以盆中之水為
得雨之數不知器形不同則受雨多少亦異未可以
所測便為平地得雨之數假今盆口徑二尺八寸底
徑一尺二寸深一尺八寸接雨水深九寸欲求平地
雨䧏幾何
答曰平地雨䧏三寸
術曰盆深乘底徑為底率二徑差乘水深併底率為
面率以盆深為法除面率得面徑以二率相乘又各
自乘三位併之乘水深為實盆深乘口徑以自之又
三因為法除之得平地水深
草曰以盆深及徑皆通為寸盆深得一十八寸底徑
得一十二寸相乘得二百一十六寸為底率置口徑
二十八寸減底徑一十二寸餘一十六寸為差以乘
水深九寸得一百四十四寸併底率二百一十六寸
得三百六十寸為面率以盆深一十八寸為法除面
率得二十寸展為二尺為水面徑以底率二百一十
六寸乘面率三百六十寸得七萬七千七百六十寸
於上以底率二百一十六寸自乘得四萬六千六百
五十六寸加上又以面率三百六十寸自乘得一十
二萬九千六百併上共得二十五萬四千一十六以
乘水深九寸得二百二十八萬六千一百四十四寸
為實以盆深一十八寸乘口徑二十八寸得五百四
寸自乘得二十五萬四千一十六寸又三因得七十
六萬二千四十八寸為法除實得三寸為平地雨深
合問
竹器驗雪
問以圓竹籮驗雪籮口徑一尺六寸深一尺七寸底徑
一尺二寸雪䧏其中高一尺籮體通風受雪多則平
地少欲知平地雪高幾何
按籮體通風一語與算術不相涉或籮口所降
之雪歸於籮底與前天池測雨題相同然依上
步算平地雪深只七寸餘今其數又不合殆故
為是語以誤人也
答曰平地雪厚九寸三千四百二十九分之七百
六十四
術曰口徑減底徑餘乘雪深半之自乘為隅以籮深
冪乘雪深冪併隅又乘雪深冪為實隅實可約約之
開連枝三乘方得平地雪厚
草曰列問數各通為寸置口徑一十六寸減底徑一
十二寸餘四寸乘雪深一十寸得四十寸以半之得
二十寸自乘得四百寸為隅以籮深一十七寸自乘
得二百八十九寸為籮深冪次置雪深一十寸自乘
得一百寸為雪深冪以乘籮深冪數加隅又乘深冪
得二百九十三萬寸為實隅實求等得四百俱約之
得七千三百二十五為實得一為隅開三乘方步法
不可超乃約實置商九寸與隅一相生得九為下廉
又與商相生八十一寸為上廉又與商相生得七百
二十九為從方乃命上商除實不盡七百六十四已
而復以商生隅入二廉至方陸續又生畢以方廉隅
共併之得三千四百三十九分寸之七百六十四為
平地雪厚九寸三千四百三十九分寸之七百六十
四合問
按此法之意不可見然以數考之非通法也設
原題雪深為一寸以口徑底徑較四寸乘雪深
一寸仍得四寸半之得二寸自之得四寸為隅
以籮深一十七寸自之得二百八十九寸為籮
深冪雪深一寸自之仍得一寸為雪深冪二深
冪相乘仍得二百八十九寸併隅得二百九十
三寸再以雪深冪乘之仍得二百九十三寸為
實隅實相約得七十四寸二十五百分為實一
為隅開三乘方得二寸又六千四百分寸之五
千七百二十五是平地雪反深於籮内矣
列問數各通為十口徑得一十六寸深一十七寸底
徑一十二寸籮中雪高一十寸
乃以底徑減口徑餘四寸乘雪深一十寸得四十寸
以中得數二十寸自乘得四百寸為隅
以籮深一十七寸自乘得二百八十九寸為籮深冪
次置雪深一十寸自乘得一百寸為雪深冪
以雪深冪一百寸乘籮深冪二百八十九寸得二萬
八千九百寸併隅四百寸得二萬九千三百寸為上
置頭位數二萬九千三百寸又乘雪深冪一百寸得
二百九十三萬寸為實開三乘方
以隅實求等得四百俱為約之得七千三百二十五
為實一為隅開之
步法不可超乃約實置商九寸與隅相生得九為下廉
下廉九又與商九相生得八十一為上廉
上廉又與商相生得七百二十九為從方
乃以從方七百二十九命上商九除實七千三百二
十五訖實餘七百六十四既而後以商生隅入下廉
下廉得一十八又與商九相生入上廉
上廉得二百四十三又與商相生入方得二千九百
一十六
又以商九生隅一入下廉一十八内得二十七
又以商九生下廉二十七入上廉二百四十三内得
四百八十六又以商生隅入下廉二十七内得三十
六為求圖乃以末圓方廉隅四者併之得三千四百
三十九為母以實餘七百六十四為子
命為平地雪厚九寸三千四百三十九分寸之七百
六十四合問
圓罌測雨
問以圓罌接雨口徑一尺五寸腹徑二尺四寸底徑八
寸深一尺六寸並裏明接得雨水深一尺二寸圓法
用密率問平地雨水深幾何
按此題問平地雨深無關圓法密率句贅若求
罌中雨積數則當加此語
答曰平地雨深一尺八寸七萬四千八十八分寸
之六萬四千四百八十三
按答數誤改正見後
術曰底徑與腹徑相乘又各自乘併之乘半罌深以
一十一乘之為下率以四十二為下法除得下積以
半罌深併雨深減元罌深餘為上深以口徑減腹徑
餘乘上深為次以半罌深乘口徑加次為面率以半
深除面率得水面徑以半深乘腹徑為腹率置面率
與腹率相乘又各自乘併之以一十一乘之為上率
以半深自乘為冪以乘下法為上法上法除上率得
上積半深冪乘下率併上率為總實口徑冪乘上法
為總法除實得平地雨高
草曰置底徑八寸與腹徑二十四寸相乘得一百九
十二寸於上又底徑八寸自乘得六十四寸加上又
腹徑二十四寸自乘得五百七十六寸併上共得八
百三十二寸以乘半罌深八寸得六千六百五十六
寸又以一十一乘之得七萬三千二百一十六寸為
下率(按此下法不合皆為題中圖法句所誤)置密率法一十四以所併
三因之得四十二為下法以半深八寸併雨深一十
二寸得二十寸以減元深一十六寸餘四寸為上深
以口徑一十寸五分減腹徑二十四寸餘一十三寸
五分以乘上深四寸得五十四寸為次以半罌深八
寸乘口徑一十寸五分得八十四寸加次共得一百
三十八寸為面率以半深八寸乘腹徑二十四寸得
一百九十二寸為腹率置面率一百三十八寸與腹
率一百九十二寸相乘得二萬六千四百九十六寸
於上又以面率一百三十八寸自乘得一萬九十四
十四加上又以腹率一百九十二寸自乘得三萬六
千八百六十四併上共得八萬二千四百四寸(按此條内)
(落以上高四寸乘之一層)以一十一乘之得九十萬六千四百四
十四寸為上率以半深八寸自乘得六十四寸為半
深冪以乘下法四十二得二千六百八十八為上法
以半深冪六十四寸乘下率七萬三千二百一十六
寸得四百六十八萬五千八百二十四寸併上率九
十萬六千四百四十四共得五百五十九萬二千二
百六十八寸為總實以口徑一十寸五分自乘得一
百一十寸二分五厘以乘上法二千六百八十八寸
得二十九萬六千三百五十二寸為總法除實得一
尺八寸不盡二十五萬七千九百三十二與法求等
得四俱約之為一尺八寸七萬四千八十八分寸之
六萬四千四百八十三為平地雨深合問
按此法有二誤法實皆當用圓冪或皆用方冪
今以圓冪率乘實方冪率乘法法實不同類一
誤也罌内雨自腹徑截之為雨圓臺體下高八
寸上高四寸於下體併三冪以高乘之於上體
只併三冪未以高乘之二誤也有此二誤故得
平地雨深少三十五分之十七今依本法改正
於後
法以腹徑底徑相乘又各自乘併三積以半罌深
八寸乘之得六千六百五十六寸為三倍方罌内
腹下雨積又以口徑腹徑相減餘一十三寸五分
以雨深減罌深餘四寸相乘以半罌深除之得六
寸七分五厘與口徑相加得一十七寸二分五厘
為雨面徑與腹徑相乘又各自乘併三積以雨上
深四寸乘之得五千一百五十寸二五為方罌内
三倍腹上雨積併二雨積得一萬一千八百零六
寸二五為方罌内三倍共雨積為實口徑自乘三
因得三百三十寸七五為法除實得三尺五寸又
一千三百二十三分寸之九百二十為平地雨深
若不先用除則以口徑腹徑較與罌深雨深較相
乘之五十四寸為雨面徑口徑較加一半罌乘之
數(應以半罌除之得雨徑較今不除即如雨徑較以半罌乘之)即為雨面徑口
徑較此數既加一半罌乘則諸數皆以半罌乘之
得口徑八十四寸腹徑一百九十二寸以口徑與
雨面徑口徑較相加得雨面徑一百三十八寸與
腹徑相乘又各自乘併三冪以腹上雨深四寸乘
之得三十二萬九千六百一十六寸為三倍上雨
積又以半罌深冪乘前三倍下雨積得四十二萬
五千九百八十四寸為三倍下雨積併二積得七
十五萬五千六百寸為三倍共雨積為實以半罌
深冪乘三因口徑冪得二萬一千一百六十八寸
為法除之得數亦同
峻積驗雪
問驗雪占年墻高一丈二尺倚木去址五尺梢與墻齊
木身積雪厚四寸峻積薄平積厚欲知平地雪厚幾
何
答曰平地雪厚一尺四分
術曰以少廣求之連枝入之以去址自乘為隅以墻
高自乘併隅於上以雪厚自之乘上為實(可約者約而開之)
開連枝平方得地雪厚
草曰以問數皆通為寸置去址五十寸自乘得二千
五百為隅以墻高一百二十寸自乘得一萬四千四
百寸併隅得一萬六千九百寸於上以雪厚四寸自
之得一十六乘上得二十七萬四百寸為實開連枝
平方今隅實可求等得一百俱約之得二千七百四
為實得二十五為隅開平方得一十寸四分展為一
尺四分為平地雪厚合問
按此術理法皆確然實用勾股不曰勾股而曰
少廣曰連枝者猶有所閉匿而不肯盡發也試
以圖明之甲乙為牆上雪厚即平地雪厚乙丙
為木上雪厚甲乙丙勾股形與木倚牆所成勾
股形同式牆高為大股木為大弦木去址為大
勾甲乙為小弦甲丙為小
股乙丙為小勾以牆高大
股自乘木去址大勾自乘
併之為大弦冪為實以木
上雪厚乙丙小勾冪乘之以木去址大勾冪除
之得甲乙小弦冪開平方即為平地雪厚也
數學九章卷二下
