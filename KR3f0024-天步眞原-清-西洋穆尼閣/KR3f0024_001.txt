天步真原
青州薛鳳祚撰
日食原理
日月泛遇為平會日月地心在一線為正會日月人目
在一線為實會用東西南北差為視會
求食限
中華定食限取北中界(地居赤道之北南不至赤道北不至北極)日食依南
方北極出地十八度北方北極出地四十二度定食限最
廣者太陰距南交嘗度七度三十一分午時高下差
全變為南北差以加二徑折半故距度少太陰距北
交嘗度一十七度三十五分午時高下差全變為南
北差以減二徑折半故距度多為可食之限最狹者
太陰距南交嘗七度距北交嘗一十六度五十三分
為必食之限月食不論陰陽歷其限皆一十五度
一十二分在日之冲
日月交入食限算朔在晝分望在夜分即有食
日月越六月皆能再食若五月能再食則大月七月能
再食則小月
年月積日
根數起漢庚辰至崇禎歷元後二十三年庚寅積一千
六百五十年入歷減一算
先求年變日表次月變日表搃計得第三旬周數第
二旬周數第一旬周數日數
大西東來應加(一日)日數末一日未成應減二算對仍依原數
平朔中積
月距日平行表搃計各旬周及日數平行度分以減全
周得全周餘度又以距日平行表取近小度數求日
時分並加于旬周日數為平朔中積日分
如先得本年月朔望策只以朔望策逓加平朔免積
日之煩望策一十四日十八小時二十二分二秒
朔策倍之二十九日一十二小時四十四分四秒
以中積入表求時分
以中積入表求春分平行即以春分平行為引數求加
減
以中積入表求日平行
以中積入表求日心平行即以心行為引數求心差加
減及比例分
以中積入表求高行以上叚所得心差加減之為真高
行
以日平行減直高為實引
以實引入表求日初均及餘分
以比例及餘分求次均度
以初均次均度加減日平行為實經又加減春分為日
自春分實經
以中積入表求月距日度分兩倍之即月心平行
以月心行入表求心行加減及比例分
以月自行加減心差為月實引
以月實引入表求月初均度及餘分
以比例餘分求次均
以日平行并月距日行得月平行以加減初次均為月
實經又加減春分差為月自春分實經
求平會離正會度分日月相距弧
太陽均度與太陰均度若一加一減二均度相加得平
會離正會度分若俱加或俱減以小減大其餘數即
平會離正會度分
求日月相距時刻
以太陰實引數入表取月一時行度分(若無正度用比例法)以上
叚平會離正會度分用三率法當行幾時刻為日月
相距時刻
日月在前在後
日月均度或俱加加大者在前或俱減減小者在前若
加減不同即減者在前
月在日前平會比實會先到日在月前平會比實會
後到
相距時刻加減
平會先到日月相距時刻加實會先到日月相距時刻
減以加減平朔中積日分變時分為正會時刻
試法真否
以正會時刻再筭積日
時分變日分
日春分平行及加減
日平行
日心之平行及加減及比例
日高行及真高行
日實引數
日加減度及餘分
日次均
日實經及自春分實經
月距日平行及心行
月心差及比例分
月平引及實引
月加減均度及餘分
月次均
月平行實經及自春分實經
時分變日以下十六法皆同前惟月距日平行筭于
太陽實經之後與上法異
前後二筭太陽距太陰度差在三十秒以下即可用
若差多再筭
再筭法
太陰實引數取月一時行用三率法一率月一時行
分二率一時三率太陰距太陽差分第四得
所求時分
太陽在太陰前實會先到所得時減太陰在太陽前平
會先到所得時加
筭諸行俱同前
應時
以太陽實經度查黃赤道變度表得赤道度(無正度用比例法)
太陽平行減黃道根數四周紀三十八度三十六分三
十四秒平行小加一圈減其餘為黃道餘度
變赤道度減赤道根數二百八十度三十五分赤道小
加一圈減其餘為赤道餘度
黃赤道二餘度相減變時分(黃道餘度大時分加正會赤道餘度大時分加正會)
南京比立表之地又加七時二十八分北京又加二
十分為實會應時(以上定朔)
求太陽實會經緯度
太陽黃道實經度變赤道即距赤道實經度
太陽黃道實經度用表查緯度南北度分即太陽距赤
道緯度
求太陽距天頂度(前後三時同用)
月在日前月加減大日加減小平會先到實會後到自
應時自午而己辰向後筭三小時若月加減小日加
減大月在日後平會後到實會先到自應時自午而
未申向前筭三小時
筭丁亥甲大三角
有亥甲邊北極出地之餘有亥丁邊日過白羊初
度緯在赤道北以日距赤道緯度減九十度若日過
天枰初度緯在赤道南以日距赤道緯度加九十度
有亥角距午時刻每時作十五度午後加赤道實
經度午前減
從不知之角打線從丁從甲皆可
今從丁打線至巳先求亥巳線
若大于亥丁分線在外小于亥
丁分線在内
先筭亥巳甲三角
用圈線正角第三法有兩角一邊其先有邊為正角
對邊法
求亥巳邊(先有角相連之邊有巳正角餘有亥角距午度分有亥甲邊北極出地之為正角對邊)
一率通弦二率亥角餘線三率亥甲邊切線
四率得亥巳邊切線
求甲巳邊(先有角相連之邊此有巳正角用有求邊對亥角有亥甲邊為正法今捷法省此筭)
一率通弦二率亥角正線三率亥甲邊正線
四率得甲己邊正線
又筭甲己丁三角(有己正角有己丁邊)(有甲己邊)
求己丁邊日距赤道緯度減九十度或加九十度除
上所得亥巳邊即己丁邊
求甲丁邊
一率通弦二率甲己邊餘線三率己丁邊餘
線四率得甲丁邊餘線為日距天頂度其餘即
距地平
筭前後三小時同法但時在午前以距午前分數減六
十分所得求度分有時者每一時加十五度時在午
後以距午後分數求度分有時者每一時加十五度
為距午時
有捷法省求甲己邊徑求甲丁邊
一率亥巳邊餘線二率亥甲邊餘線三率己
丁邊餘線四率即徑得甲丁邊餘線距天頂度
(餘距地平)
筭差角(前後三時同用)
如圖丑甲午為差角然丑甲邊難
取而甲己丙角與甲午之大小同
故寧算丙甲己鈍用
筭丙己邊
離午時(即前圖亥角每時十五度)看在午前後在午後(自午而未申)加太
陽實經變赤道度(即應時所得)在午前(自午而巳辰)減太陽實
經變赤道度為過午時圈度即知入何宫度(如得二百五十)
(一度五十分)即入天蝎一十一度五十分
變黃道以表中赤道對黃道度數取黃道度
有黃道度即可入表求黃道緯度又看黃緯在赤道
南北在赤道北(自白羊初至雙女三十度)以緯度減北極出地所
得在赤道南(自天枰初至雙魚三十度)以緯度加北極出地度所得
為丙己邊
筭己角
丙己邊内有赤道過午時圈度(離午時加實經所得)有赤道變黃
道度此入表不用過午時圈度用變黃道度求交角
表有餘分則用比例法得己角
筭甲角(即差角)
一率丙甲邊距天頂正線二率己角正線三
率丙己邊正線
搃數相較即得甲角正線為差角
求地平差(此法或前或後三時同用)
東西南北差之本是高卑差高卑差之本是地平差
以太隂實引數入表得其相對之分秒有餘數以下度
與餘數比例或加或減于相對之數為太隂地平差
崇禎歷書作地平徑數
求太隂高卑差(此法或前或後俱筭三時)
查表以所得地平差分數從上以前得距地平(即距天頂減九)
(十度之餘)從右小餘另比例為先得太隂高卑差
太陽高卑差以距地平查表得分秒以減先得太隂高
卑差為太隂真高卑差(恒減不加)
如圖
日月在甲人目在地視之不見在
甲而見在丁甲丙為日高即甲
丁為高卑差
就黃道極作一大圈至高卑差丁相交黃道又交過
頂圈
戊為正角凡各圈過本圈之極其相交之角即正角
甲丁為高差日在甲人目視之不見在甲而見在戊即
甲戊為東西差戊丁為南北差
高卑差南北差東西差三者惟甲丁高卑差至大不過
六十分其甲戊東西差戊丁南北差皆小于甲丁高
卑差故皆銳角又且分數少在天俱可作直線
筭東西差(前後三時同法)
以通弦(一)為一率以前得差角(即甲角餘線)為二率
三率以高卑差分秒俱化成秒求其對數與二率相
加去一率通弦求原數以六十成分為東西差
筭南北差(前後三時同法)
以通弦(一)為一率以前得差角(即甲角正線)為二率
三率以高卑差分秒俱化成秒求對數與二率數相
加去通弦求原數以六十成分為南北差
若查表第一行距天頂數第二行東西差邊第三行南
北差邊省用前筭三角法
如筭東西差一率六十分二率取表中第二行
東西差邊三率前取太隂高卑差即得所用東
西差南北差同法但取表中第三行
表中各宫皆初分用法如午時正二刻六分日在天蝎
一度四十六分八秒如天蝎一分午時得距天
頂四十二度三十五分人馬一分午時得距天頂五
十一度二十一分其差八度四十六分用下法
一率一宫三十度二率八度四十六分三率天蝎
一度四十六分八秒
搃數較數即其差分以加先得四十二度三十五分
即天蝎一度四十六分距天頂度
東西南北差同法
求視會(筭日食月行)
以太隂實引數入表其表每隔三度以餘分求比例或
加或減于正度之上為太隂一時分實行度
有實行取視行
第一法月食在黃道九十度限東東西差先大後小(早間)
(食辰時在先巳時在後午後食未時在先申時在後)其上所筭第一時東西差
與第二時東西差第三時東西差與第二時東西差
相減其餘分與實行相減為視行
若東西差先小後大其前後二差相減其餘分加實
行為視行
第二法日食在黃道九十度西東西差先大後小其東
西差前後二差相減其餘分加實行為視行
若先小後大其東西差前後二差相減其餘分減實
行即為視行
第三法一半在九十度限東一半在九十度西前後二
東西差相減(不論先後大小)其餘與實行相減餘分即為視
行
視行距度
東西差大實行小以實行減東西差其餘為實會與視
會相距度分東西差小實行大即以東西差為實會
距視會度分
視會相去度變時法
第一法若實會東西差比視行小其東西差分數要實
會相近時視行比例分得實會與視會相去度數變
時分
第二法若實會東西差比視行大除一時月視行餘東
西差分數要視會相近時視行比例分得實會與視
會相去度數變時分二叚日食在東皆減實會時
分為視會時分在西皆加實會時分為視會時分
一率太隂實行二率六十分三率實會去視
會度分俱化為秒乘除成分為所變時分
用第一法加減實會為視會
用第二法一時之外加減實會為視會
試法真不真
用所得視會再筭距天頂再筭差角地平差同前
數再筭太隂高平差再筭東西差再筭南北
差日食月行同前數
有實行求視行
以所得東西差置位一率六十分二率月一時實
行三率上叚所得有實行求視會變時分俱化
為秒乘除成分與置位東西差相減餘為差
分
有差分變時分
一率上叚實會距視會度分二率上叚實會距
視會所變時分三率差分俱化為
秒乘除成分秒
為變時
差分大東西差小上叚視會時分内當減變時分為
視會差分以加減實會為視會
差分小東西差大上叚視會時分内當加變時分為
視會差分以加減實會為視會
時分差至三十秒内即定視會若多又用三試其筭法
與第二叚試法同但要所得差分成時與東西差合
方定視會
求日食大小筭交行
以日月實會時分(用應時定數)入平距度表搃計交行度
以太隂均度依號加減之為實會交行以加減東
西差為日月視會交行度實會在前東西差減實會
若在後東西差加
求距度
以交行宫度分秒查距度表有小餘用比例法為視會
距度又本表後行餘分比例下度差分為正餘分與
太隂心差比例分相較乘除以加距度為真距度(恒加)
(不減)日月食若無此比例分及餘分者省此筭
距度(一二宮北下三四五宮南下)(六七八宮南上九十土宮北上)
求視距度
正交看在南在北與南北差同類相加異類相減(北極出地)
(二十三度三十一分以上皆在南)為視距度
若南北差大于距度其日食交在北者移而南
求日月半徑
以太陽實引數入表求日半徑
以太隂實引數入表求月半徑
以兩半徑搃數減視距度餘數為食分距度若距度大
于兩半徑搃數即無食
食分
以太陽全徑為一率日月兩半徑搃數減視距度為
二率西法十二分為三率
取第四即西法日食分
又作中國分以西法十二分為一率以所得西法日
食分為二率中法日食十分為三率取第四即
中法日食分
用表以日全徑從右以距度分從上再以日全徑小餘
從右以距度分從上得食分
求初虧
以食甚前一時東西差與食甚時東西差相較餘數以
加減月實引數所得月一時正行為食甚前一時視
行取法與前有實行求視行同法
用表以日月半徑搃數從上以真距交度分從右又以
半徑搃數小餘從上以距交從右共得分秒
以太隂食甚前一時視行為一率以一時六十分為
二率以表上所取分秒為三率乘除成分
得時分以減食甚時刻為初虧
求復圓
依法再求食甚後一小時距頂距地平差角高
差東西差
以食甚後一時與食甚東西差相較餘數以加減月實
引所得月一時正行為食甚後一時視行
用表同初虧法以加食甚時分為復圓
丑卯黃道未寅白道
丑未寅卯為距交
子辰為太陽半徑
午申為月半徑
子丙為日月兩半徑搃數
月食原理
月食求積年日數筭太陽諸行太隂諸行皆與筭日食同
求日月前後日月相距度相距時刻筭日月實會皆與
日食同
再筭試真否皆與日食同
求太隂正中交行
置實會中積日數分秒入太隂平距度表搃計交行度
數加減太隂均度得交平行
求太隂距交分(餘分有比例分取用無比例分省筆)
以太隂平交行入距交度表得距交分無正度分用比
例法
初一二九十十一宫北
三四五六七八宫南
求太隂半徑及全徑
以太隂實引數入表得太隂半徑無正度用比例法倍
之為太隂全徑
求地景半徑
以太隂實引數入表得地景徑(無正度用比例法)減對行秒餘
為真半徑
兩半徑減距交餘數
月半徑加地景半徑并之以所得距交分數減之所得
為二徑餘數
食分
日月食表月全徑從右二徑餘數從上得月食分
月食有初虧食既食甚生光復圓五叚若在十二分
以内食不全及全食即生光者去食甚生光二叚
西法月作十二分筭中法月食作十五分
如西法筭月食十八分一秒一率十二分二率十
八分三率十分得中法十五分
食既分食甚分
月食不全或全食而食盡即生光者所得為食既分若
月全食食後不即生光者所得為食甚分
食時分表以月半徑地景徑并之搃數從上月交距度
從右無正度用比例法為食既與食甚度分
初虧分
實會減食既與食甚分為初虧分
有食甚求食既分(月食不全不必再筭)
以月半徑減地景半徑從上月交距度從右(無正度用比例法)
以減食甚分為食既分
生光
以前所得有食甚求食既分數加食甚為生光分
復圓
實會並食既與食甚分倍加之為復圓分
太隂一時實行
表求太隂一時實行(無正度用比例法)以食甚分實行求食(無正)
(時用比例法)為食甚時分以食既分實行求時為食既時
分
求正時
太陽平行減黃道根數得黃道餘度太陽實經度黃赤
道同升度減赤道根數得赤道餘度二餘度相減以
二餘度入變時表查時為時差黃道餘大加實會赤
道餘大減實會又加本地與立表之地所差時分(如南)
(京差七時二十八分北京差二十分)為真實會時刻
天步真原
